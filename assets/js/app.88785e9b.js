(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var r,i,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(n[r]=c[r]);for(u&&u(e);p.length;)p.shift()();return a.push.apply(a,l||[]),t()}function t(){for(var n,e=0;e<a.length;e++){for(var t=a[e],r=!0,s=1;s<t.length;s++){var c=t[s];0!==o[c]&&(r=!1)}r&&(a.splice(e--,1),n=i(i.s=t[0]))}return n}var r={},o={1:0},a=[];function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(n){var e=[],t=o[n];if(0!==t)if(t)e.push(t[2]);else{var r=new Promise((function(e,r){t=o[n]=[e,r]}));e.push(t[2]=r);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(n){return i.p+"assets/js/"+({}[n]||n)+"."+{2:"b9128706",3:"c6a35fd8",4:"04489de8",5:"f09be3c6",6:"89749309",7:"e1a2104d",8:"9a449bf2",9:"a5e829a6",10:"c688db27",11:"f7acb195",12:"a37eeb1b",13:"3d799097",14:"408a7986",15:"58365bfb",16:"9c8ea67b",17:"d50afb19",18:"f9a98be4",19:"bac34c05",20:"c9176617",21:"9cc4c1f4",22:"49068872",23:"0af5ded7",24:"03aa76c3",25:"ac4ccef3",26:"92d3d759",27:"9d34d98e",28:"d7b6333d",29:"ce65c28e",30:"3e05ccbe",31:"20af0493",32:"d39a1300",33:"5090853c",34:"a74a2082",35:"621c8c75",36:"726eb508",37:"83daaa4f",38:"a6989636",39:"3a7b7aac",40:"3f693991",41:"435e8500",42:"e301383c",43:"757ab11a",44:"3f9b31e8",45:"003dbd7f",46:"b316b046",47:"cce5dfe5",48:"4506e9d5",49:"7cfa40bf",50:"f39d7d1f",51:"bdd99cd4",52:"cccef049",53:"10966e9c",54:"0334f27c",55:"ce821d3c",56:"4b1d0403",57:"17bdc43d",58:"a8e87cd9",59:"4a24d24a",60:"b7d7ff2e",61:"2a37a33d",62:"4347ec81",63:"f1526fcf",64:"a949f1af",65:"a6cae03a",66:"0e5af4df",67:"9146460e",68:"f6215ed1",69:"f89673a3",70:"4b3d313d",71:"cda3fa98",72:"5052b616",73:"a0e32515"}[n]+".js"}(n);var c=new Error;a=function(e){s.onerror=s.onload=null,clearTimeout(l);var t=o[n];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;c.message="Loading chunk "+n+" failed.\n("+r+": "+a+")",c.name="ChunkLoadError",c.type=r,c.request=a,t[1](c)}o[n]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},i.m=n,i.c=r,i.d=function(n,e,t){i.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},i.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,e){if(1&e&&(n=i(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)i.d(t,r,function(e){return n[e]}.bind(null,r));return t},i.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(e,"a",e),e},i.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},i.p="/",i.oe=function(n){throw console.error(n),n};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([106,0]),t()}([function(n,e,t){"use strict";var r=function(n){return n&&n.Math===Math&&n};n.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof global&&global)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},function(n,e,t){"use strict";var r="object"==typeof document&&document.all;n.exports=void 0===r&&void 0!==r?function(n){return"function"==typeof n||n===r}:function(n){return"function"==typeof n}},function(n,e,t){"use strict";var r=t(29),o=Function.prototype,a=o.call,i=r&&o.bind.bind(a,a);n.exports=r?i:function(n){return function(){return a.apply(n,arguments)}}},function(n,e,t){"use strict";n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){"use strict";var r=t(3);n.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e,t){"use strict";var r=t(1);n.exports=function(n){return"object"==typeof n?null!==n:r(n)}},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){var r=t(69),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();n.exports=a},function(n,e,t){"use strict";function r(n,e,t,r,o,a,i,s){var c,l="function"==typeof n?n.options:n;if(e&&(l.render=e,l.staticRenderFns=t,l._compiled=!0),r&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),i?(c=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),o&&o.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(i)},l._ssrRegister=c):o&&(c=s?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(n,e){return c.call(e),u(n,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:n,options:l}}t.d(e,"a",(function(){return r}))},function(n,e,t){"use strict";var r=t(2),o=t(28),a=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return a(o(n),e)}},function(n,e,t){var r=t(164),o=t(167);n.exports=function(n,e){var t=o(n,e);return r(t)?t:void 0}},function(n,e,t){"use strict";t.d(e,"e",(function(){return r})),t.d(e,"b",(function(){return a})),t.d(e,"j",(function(){return i})),t.d(e,"g",(function(){return c})),t.d(e,"h",(function(){return l})),t.d(e,"i",(function(){return u})),t.d(e,"c",(function(){return d})),t.d(e,"f",(function(){return p})),t.d(e,"l",(function(){return h})),t.d(e,"m",(function(){return f})),t.d(e,"d",(function(){return v})),t.d(e,"k",(function(){return g})),t.d(e,"n",(function(){return b})),t.d(e,"a",(function(){return x}));t(24);const r=/#.*$/,o=/\.(md|html)$/,a=/\/$/,i=/^[a-z]+:/i;function s(n){return decodeURI(n).replace(r,"").replace(o,"")}function c(n){return i.test(n)}function l(n){return/^mailto:/.test(n)}function u(n){return/^tel:/.test(n)}function d(n){if(c(n))return n;if(!n)return"404";const e=n.match(r),t=e?e[0]:"",o=s(n);return a.test(o)?n:o+".html"+t}function p(n,e){const t=n.hash,o=function(n){const e=n&&n.match(r);if(e)return e[0]}(e);if(o&&t!==o)return!1;return s(n.path)===s(e)}function h(n,e,t){if(c(e))return{type:"external",path:e};t&&(e=function(n,e,t){const r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;const o=e.split("/");t&&o[o.length-1]||o.pop();const a=n.replace(/^\//,"").split("/");for(let n=0;n<a.length;n++){const e=a[n];".."===e?o.pop():"."!==e&&o.push(e)}""!==o[0]&&o.unshift("");return o.join("/")}(e,t));const r=s(e);for(let e=0;e<n.length;e++)if(s(n[e].regularPath)===r)return Object.assign({},n[e],{type:"page",path:d(n[e].path)});return console.error(`[vuepress] No matching page found for sidebar item "${e}"`),{}}function f(n,e,t,r){const{pages:o,themeConfig:a}=t,i=r&&a.locales&&a.locales[r]||a;if("auto"===(n.frontmatter.sidebar||i.sidebar||a.sidebar))return m(n);const s=i.sidebar||a.sidebar;if(s){const{base:t,config:r}=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(const r in e)if(0===(t=n,/(\.html|\/)$/.test(t)?t:t+"/").indexOf(encodeURI(r)))return{base:r,config:e[r]};var t;return{}}(e,s);return"auto"===r?m(n):r?r.map(n=>function n(e,t,r,o=1){if("string"==typeof e)return h(t,e,r);if(Array.isArray(e))return Object.assign(h(t,e[0],r),{title:e[1]});{o>3&&console.error("[vuepress] detected a too deep nested sidebar group.");const a=e.children||[];return 0===a.length&&e.path?Object.assign(h(t,e.path,r),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:a.map(e=>n(e,t,r,o+1)),collapsable:!1!==e.collapsable}}}(n,o,t)):[]}return[]}function m(n){const e=v(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map(e=>({type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}))}]}function v(n){let e;return(n=n.map(n=>Object.assign({},n))).forEach(n=>{2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)}),n.filter(n=>2===n.level)}function g(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function b(n){return Object.prototype.toString.call(n).match(/\[object (.*?)\]/)[1].toLowerCase()}function y(n){let e=n.frontmatter.date||n.lastUpdated||new Date,t=new Date(e);return"Invalid Date"==t&&e&&(t=new Date(e.replace(/-/g,"/"))),t.getTime()}function x(n,e){return y(e)-y(n)}},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){var r=t(15),o=t(149),a=t(150),i=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":i&&i in Object(n)?o(n):a(n)}},function(n,e,t){"use strict";var r=t(4),o=t(16),a=t(35);n.exports=r?function(n,e,t){return o.f(n,e,a(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){var r=t(7).Symbol;n.exports=r},function(n,e,t){"use strict";var r=t(4),o=t(64),a=t(101),i=t(47),s=t(56),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor;e.f=r?a?function(n,e,t){if(i(n),e=s(e),i(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var r=u(n,e);r&&r.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:r.configurable,enumerable:"enumerable"in t?t.enumerable:r.enumerable,writable:!1})}return l(n,e,t)}:l:function(n,e,t){if(i(n),e=s(e),i(t),o)try{return l(n,e,t)}catch(n){}if("get"in t||"set"in t)throw new c("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){"use strict";var r=t(2),o=r({}.toString),a=r("".slice);n.exports=function(n){return a(o(n),8,-1)}},function(n,e,t){var r=t(154),o=t(155),a=t(156),i=t(157),s=t(158);function c(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,n.exports=c},function(n,e,t){var r=t(71);n.exports=function(n,e){for(var t=n.length;t--;)if(r(n[t][0],e))return t;return-1}},function(n,e,t){var r=t(10)(Object,"create");n.exports=r},function(n,e,t){var r=t(176);n.exports=function(n,e){var t=n.__data__;return r(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var r=t(45);n.exports=function(n){if("string"==typeof n||r(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){var r,o;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(o="function"==typeof(r=function(){var n,e,t={version:"0.2.0"},r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function o(n,e,t){return n<e?e:n>t?t:n}function a(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(r[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=o(n,r.minimum,1),t.status=1===n?null:n;var c=t.render(!e),l=c.querySelector(r.barSelector),u=r.speed,d=r.easing;return c.offsetWidth,i((function(e){""===r.positionUsing&&(r.positionUsing=t.getPositioningCSS()),s(l,function(n,e,t){var o;return(o="translate3d"===r.positionUsing?{transform:"translate3d("+a(n)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+a(n)+"%,0)"}:{"margin-left":a(n)+"%"}).transition="all "+e+"ms "+t,o}(n,u,d)),1===n?(s(c,{transition:"none",opacity:1}),c.offsetWidth,setTimeout((function(){s(c,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),u)}),u)):setTimeout(e,u)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),r.trickleSpeed)};return r.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*o(Math.random()*e,.1,.95)),e=o(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},n=0,e=0,t.promise=function(r){return r&&"resolved"!==r.state()?(0===e&&t.start(),n++,e++,r.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");l(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=r.template;var o,i=e.querySelector(r.barSelector),c=n?"-100":a(t.status||0),u=document.querySelector(r.parent);return s(i,{transition:"all 0 linear",transform:"translate3d("+c+"%,0,0)"}),r.showSpinner||(o=e.querySelector(r.spinnerSelector))&&p(o),u!=document.body&&l(u,"nprogress-custom-parent"),u.appendChild(e),e},t.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(r.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&p(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var i=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),s=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var r,o=n.length,a=e.charAt(0).toUpperCase()+e.slice(1);o--;)if((r=n[o]+a)in t)return r;return e}(t))}function r(n,e,r){e=t(e),n.style[e]=r}return function(n,e){var t,o,a=arguments;if(2==a.length)for(t in e)void 0!==(o=e[t])&&e.hasOwnProperty(t)&&r(n,t,o);else r(n,a[1],a[2])}}();function c(n,e){return("string"==typeof n?n:d(n)).indexOf(" "+e+" ")>=0}function l(n,e){var t=d(n),r=t+e;c(t,e)||(n.className=r.substring(1))}function u(n,e){var t,r=d(n);c(n,e)&&(t=r.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function d(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function p(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?r.call(e,t,e,n):r)||(n.exports=o)},function(n,e,t){"use strict";var r=t(26),o=t(28),a=t(34),i=t(143),s=t(145);r({target:"Array",proto:!0,arity:1,forced:t(3)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(n){return n instanceof TypeError}}()},{push:function(n){var e=o(this),t=a(e),r=arguments.length;s(t+r);for(var c=0;c<r;c++)e[t]=arguments[c],t++;return i(e,t),t}})},function(n,e,t){"use strict";var r=t(0),o=t(62),a=t(9),i=t(63),s=t(59),c=t(58),l=r.Symbol,u=o("wks"),d=c?l.for||l:l&&l.withoutSetter||i;n.exports=function(n){return a(u,n)||(u[n]=s&&a(l,n)?l[n]:d("Symbol."+n)),u[n]}},function(n,e,t){"use strict";var r=t(0),o=t(55).f,a=t(14),i=t(97),s=t(37),c=t(65),l=t(123);n.exports=function(n,e){var t,u,d,p,h,f=n.target,m=n.global,v=n.stat;if(t=m?r:v?r[f]||s(f,{}):r[f]&&r[f].prototype)for(u in e){if(p=e[u],d=n.dontCallGetSet?(h=o(t,u))&&h.value:t[u],!l(m?u:f+(v?".":"#")+u,n.forced)&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(n.sham||d&&d.sham)&&a(p,"sham",!0),i(t,u,p,n)}}},function(n,e,t){"use strict";var r=t(29),o=Function.prototype.call;n.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},function(n,e,t){"use strict";var r=t(31),o=Object;n.exports=function(n){return o(r(n))}},function(n,e,t){"use strict";var r=t(3);n.exports=!r((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e,t){"use strict";var r=t(49),o=t(31);n.exports=function(n){return r(o(n))}},function(n,e,t){"use strict";var r=t(50),o=TypeError;n.exports=function(n){if(r(n))throw new o("Can't call method on "+n);return n}},function(n,e,t){"use strict";var r=t(0),o=t(1),a=function(n){return o(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?a(r[n]):r[n]&&r[n][e]}},function(n,e,t){"use strict";var r=t(1),o=t(110),a=TypeError;n.exports=function(n){if(r(n))return n;throw new a(o(n)+" is not a function")}},function(n,e,t){"use strict";var r=t(121);n.exports=function(n){return r(n.length)}},function(n,e,t){"use strict";n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e,t){"use strict";var r=t(52),o=t(0),a=t(37),i=n.exports=o["__core-js_shared__"]||a("__core-js_shared__",{});(i.versions||(i.versions=[])).push({version:"3.38.1",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e,t){"use strict";var r=t(0),o=Object.defineProperty;n.exports=function(n,e){try{o(r,n,{value:e,configurable:!0,writable:!0})}catch(t){r[n]=e}return e}},function(n,e,t){var r=t(148),o=t(12),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(n){return o(n)&&i.call(n,"callee")&&!s.call(n,"callee")};n.exports=c},function(n,e,t){var r=t(10)(t(7),"Map");n.exports=r},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var r=t(168),o=t(175),a=t(177),i=t(178),s=t(179);function c(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,n.exports=c},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var r=t(6),o=t(45),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;n.exports=function(n,e){if(r(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!o(n))||(i.test(n)||!a.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var r=t(13),o=t(12);n.exports=function(n){return"symbol"==typeof n||o(n)&&"[object Symbol]"==r(n)}},function(n,e){n.exports=function(n){return n}},function(n,e,t){"use strict";var r=t(5),o=String,a=TypeError;n.exports=function(n){if(r(n))return n;throw new a(o(n)+" is not an object")}},function(n,e){var t=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,i=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,c="object"==typeof self&&self&&self.Object===Object&&self,l=s||c||Function("return this")(),u=Object.prototype.toString,d=Math.max,p=Math.min,h=function(){return l.Date.now()};function f(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function m(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==u.call(n)}(n))return NaN;if(f(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=f(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var s=o.test(n);return s||a.test(n)?i(n.slice(2),s?2:8):r.test(n)?NaN:+n}n.exports=function(n,e,t){var r,o,a,i,s,c,l=0,u=!1,v=!1,g=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function b(e){var t=r,a=o;return r=o=void 0,l=e,i=n.apply(a,t)}function y(n){return l=n,s=setTimeout(k,e),u?b(n):i}function x(n){var t=n-c;return void 0===c||t>=e||t<0||v&&n-l>=a}function k(){var n=h();if(x(n))return _(n);s=setTimeout(k,function(n){var t=e-(n-c);return v?p(t,a-(n-l)):t}(n))}function _(n){return s=void 0,g&&r?b(n):(r=o=void 0,i)}function w(){var n=h(),t=x(n);if(r=arguments,o=this,c=n,t){if(void 0===s)return y(c);if(v)return s=setTimeout(k,e),b(c)}return void 0===s&&(s=setTimeout(k,e)),i}return e=m(e)||0,f(t)&&(u=!!t.leading,a=(v="maxWait"in t)?d(m(t.maxWait)||0,e):a,g="trailing"in t?!!t.trailing:g),w.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=o=s=void 0},w.flush=function(){return void 0===s?i:_(h())},w}},function(n,e,t){"use strict";var r=t(2),o=t(3),a=t(17),i=Object,s=r("".split);n.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(n){return"String"===a(n)?s(n,""):i(n)}:i},function(n,e,t){"use strict";n.exports=function(n){return null==n}},function(n,e,t){"use strict";var r=t(2);n.exports=r({}.isPrototypeOf)},function(n,e,t){"use strict";n.exports=!1},function(n,e,t){"use strict";n.exports={}},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e,t){"use strict";var r=t(4),o=t(27),a=t(108),i=t(35),s=t(30),c=t(56),l=t(9),u=t(64),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(n,e){if(n=s(n),e=c(e),u)try{return d(n,e)}catch(n){}if(l(n,e))return i(!o(a.f,n,e),n[e])}},function(n,e,t){"use strict";var r=t(109),o=t(57);n.exports=function(n){var e=r(n,"string");return o(e)?e:e+""}},function(n,e,t){"use strict";var r=t(32),o=t(1),a=t(51),i=t(58),s=Object;n.exports=i?function(n){return"symbol"==typeof n}:function(n){var e=r("Symbol");return o(e)&&a(e.prototype,s(n))}},function(n,e,t){"use strict";var r=t(59);n.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){"use strict";var r=t(60),o=t(3),a=t(0).String;n.exports=!!Object.getOwnPropertySymbols&&!o((function(){var n=Symbol("symbol detection");return!a(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(n,e,t){"use strict";var r,o,a=t(0),i=t(61),s=a.process,c=a.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(o=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&i&&(!(r=i.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/))&&(o=+r[1]),n.exports=o},function(n,e,t){"use strict";var r=t(0).navigator,o=r&&r.userAgent;n.exports=o?String(o):""},function(n,e,t){"use strict";var r=t(36);n.exports=function(n,e){return r[n]||(r[n]=e||{})}},function(n,e,t){"use strict";var r=t(2),o=0,a=Math.random(),i=r(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+i(++o+a,36)}},function(n,e,t){"use strict";var r=t(4),o=t(3),a=t(100);n.exports=!r&&!o((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){"use strict";var r=t(9),o=t(116),a=t(55),i=t(16);n.exports=function(n,e,t){for(var s=o(e),c=i.f,l=a.f,u=0;u<s.length;u++){var d=s[u];r(n,d)||t&&r(t,d)||c(n,d,l(e,d))}}},function(n,e,t){"use strict";var r=t(120);n.exports=function(n){var e=+n;return e!=e||0===e?0:r(e)}},function(n,e,t){"use strict";var r=t(131),o=t(5),a=t(31),i=t(132);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=r(Object.prototype,"__proto__","set"))(t,[]),e=t instanceof Array}catch(n){}return function(t,r){return a(t),i(r),o(t)?(e?n(t,r):t.__proto__=r,t):t}}():void 0)},function(n,e){n.exports=function(n,e){for(var t=-1,r=e.length,o=n.length;++t<r;)n[o+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var r=t(18),o=t(159),a=t(160),i=t(161),s=t(162),c=t(163);function l(n){var e=this.__data__=new r(n);this.size=e.size}l.prototype.clear=o,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=s,l.prototype.set=c,n.exports=l},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var r=t(13),o=t(40);n.exports=function(n){if(!o(n))return!1;var e=r(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var r=t(180),o=t(12);n.exports=function n(e,t,a,i,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!=e&&t!=t:r(e,t,a,i,n,s))}},function(n,e,t){var r=t(76),o=t(183),a=t(77);n.exports=function(n,e,t,i,s,c){var l=1&t,u=n.length,d=e.length;if(u!=d&&!(l&&d>u))return!1;var p=c.get(n),h=c.get(e);if(p&&h)return p==e&&h==n;var f=-1,m=!0,v=2&t?new r:void 0;for(c.set(n,e),c.set(e,n);++f<u;){var g=n[f],b=e[f];if(i)var y=l?i(b,g,f,e,n,c):i(g,b,f,n,e,c);if(void 0!==y){if(y)continue;m=!1;break}if(v){if(!o(e,(function(n,e){if(!a(v,e)&&(g===n||s(g,n,t,i,c)))return v.push(e)}))){m=!1;break}}else if(g!==b&&!s(g,b,t,i,c)){m=!1;break}}return c.delete(n),c.delete(e),m}},function(n,e,t){var r=t(41),o=t(181),a=t(182);function i(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new r;++e<t;)this.add(n[e])}i.prototype.add=i.prototype.push=o,i.prototype.has=a,n.exports=i},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var r=t(193),o=t(199),a=t(82);n.exports=function(n){return a(n)?r(n):o(n)}},function(n,e,t){(function(n){var r=t(7),o=t(195),a=e&&!e.nodeType&&e,i=a&&"object"==typeof n&&n&&!n.nodeType&&n,s=i&&i.exports===a?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;n.exports=c}).call(this,t(54)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var r=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var r=t(196),o=t(197),a=t(198),i=a&&a.isTypedArray,s=i?o(i):r;n.exports=s},function(n,e,t){var r=t(72),o=t(43);n.exports=function(n){return null!=n&&o(n.length)&&!r(n)}},function(n,e,t){var r=t(10)(t(7),"Set");n.exports=r},function(n,e,t){var r=t(40);n.exports=function(n){return n==n&&!r(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var r=t(87),o=t(22);n.exports=function(n,e){for(var t=0,a=(e=r(e,n)).length;null!=n&&t<a;)n=n[o(e[t++])];return t&&t==a?n:void 0}},function(n,e,t){var r=t(6),o=t(44),a=t(210),i=t(213);n.exports=function(n,e){return r(n)?n:o(n,e)?[n]:a(i(n))}},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(146),o=t(151),a=t(222),i=t(230),s=t(239),c=t(105),l=a((function(n){var e=c(n);return s(e)&&(e=void 0),i(r(n,1,s,!0),o(e,2))}));n.exports=l},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;n.exports=function(n){var e,t=""+n,o=r.exec(t);if(!o)return t;var a="",i=0,s=0;for(i=o.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}s!==i&&(a+=t.substring(s,i)),s=i+1,a+=e}return s!==i?a+t.substring(s,i):a}},function(n,e,t){"use strict";t.r(e);var r={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},o=(t(242),t(8)),a=Object(o.a)(r,(function(){return(0,this._self._c)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"5a3e6e86",null);e.default=a.exports},function(n,e,t){"use strict";t.r(e);var r={name:"CodeGroup",data:()=>({codeTabs:[],activeCodeTabIndex:-1}),watch:{activeCodeTabIndex(n){this.codeTabs.forEach(n=>{n.elm.classList.remove("theme-code-block__active")}),this.codeTabs[n].elm.classList.add("theme-code-block__active")}},mounted(){this.codeTabs=(this.$slots.default||[]).filter(n=>Boolean(n.componentOptions)).map((n,e)=>(""===n.componentOptions.propsData.active&&(this.activeCodeTabIndex=e),{title:n.componentOptions.propsData.title,elm:n.elm})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab(n){this.activeCodeTabIndex=n}}},o=(t(243),t(8)),a=Object(o.a)(r,(function(){var n=this,e=n._self._c;return e("div",{staticClass:"theme-code-group"},[e("div",{staticClass:"theme-code-group__nav"},[e("ul",{staticClass:"theme-code-group__ul"},n._l(n.codeTabs,(function(t,r){return e("li",{key:t.title,staticClass:"theme-code-group__li"},[e("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":r===n.activeCodeTabIndex},on:{click:function(e){return n.changeCodeTab(r)}}},[n._v("\n            "+n._s(t.title)+"\n          ")])])})),0)]),n._v(" "),n._t("default"),n._v(" "),n.codeTabs.length<1?e("pre",{staticClass:"pre-blank"},[n._v("// Make sure to add code blocks to your code group")]):n._e()],2)}),[],!1,null,"392329f0",null);e.default=a.exports},function(n,e,t){"use strict";var r=t(137),o=String;n.exports=function(n){if("Symbol"===r(n))throw new TypeError("Cannot convert a Symbol value to a string");return o(n)}},function(n,e,t){"use strict";var r=t(1),o=t(16),a=t(102),i=t(37);n.exports=function(n,e,t,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:e;if(r(t)&&a(t,l,s),s.global)c?n[e]=t:i(e,t);else{try{s.unsafe?n[e]&&(c=!0):delete n[e]}catch(n){}c?n[e]=t:o.f(n,e,{value:t,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return n}},function(n,e,t){"use strict";n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e,t){"use strict";var r=t(33),o=t(50);n.exports=function(n,e){var t=n[e];return o(t)?void 0:r(t)}},function(n,e,t){"use strict";var r=t(0),o=t(5),a=r.document,i=o(a)&&o(a.createElement);n.exports=function(n){return i?a.createElement(n):{}}},function(n,e,t){"use strict";var r=t(4),o=t(3);n.exports=r&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){"use strict";var r=t(2),o=t(3),a=t(1),i=t(9),s=t(4),c=t(112).CONFIGURABLE,l=t(113),u=t(114),d=u.enforce,p=u.get,h=String,f=Object.defineProperty,m=r("".slice),v=r("".replace),g=r([].join),b=s&&!o((function(){return 8!==f((function(){}),"length",{value:8}).length})),y=String(String).split("String"),x=n.exports=function(n,e,t){"Symbol("===m(h(e),0,7)&&(e="["+v(h(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!i(n,"name")||c&&n.name!==e)&&(s?f(n,"name",{value:e,configurable:!0}):n.name=e),b&&t&&i(t,"arity")&&n.length!==t.arity&&f(n,"length",{value:t.arity});try{t&&i(t,"constructor")&&t.constructor?s&&f(n,"prototype",{writable:!1}):n.prototype&&(n.prototype=void 0)}catch(n){}var r=d(n);return i(r,"source")||(r.source=g(y,"string"==typeof e?e:"")),n};Function.prototype.toString=x((function(){return a(this)&&p(this).source||l(this)}),"toString")},function(n,e,t){"use strict";var r=t(62),o=t(63),a=r("keys");n.exports=function(n){return a[n]||(a[n]=o(n))}},function(n,e,t){"use strict";var r=t(2),o=t(9),a=t(30),i=t(118).indexOf,s=t(53),c=r([].push);n.exports=function(n,e){var t,r=a(n),l=0,u=[];for(t in r)!o(s,t)&&o(r,t)&&c(u,t);for(;e.length>l;)o(r,t=e[l++])&&(~i(u,t)||c(u,t));return u}},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){n.exports=t(248)},function(n,e,t){"use strict";var r=t(26),o=t(124).left,a=t(125),i=t(60);r({target:"Array",proto:!0,forced:!t(126)&&i>79&&i<83||!a("reduce")},{reduce:function(n){var e=arguments.length;return o(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!r.call({1:2},1);e.f=a?function(n){var e=o(this,n);return!!e&&e.enumerable}:r},function(n,e,t){"use strict";var r=t(27),o=t(5),a=t(57),i=t(99),s=t(111),c=t(25),l=TypeError,u=c("toPrimitive");n.exports=function(n,e){if(!o(n)||a(n))return n;var t,c=i(n,u);if(c){if(void 0===e&&(e="default"),t=r(c,n,e),!o(t)||a(t))return t;throw new l("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(n,e)}},function(n,e,t){"use strict";var r=String;n.exports=function(n){try{return r(n)}catch(n){return"Object"}}},function(n,e,t){"use strict";var r=t(27),o=t(1),a=t(5),i=TypeError;n.exports=function(n,e){var t,s;if("string"===e&&o(t=n.toString)&&!a(s=r(t,n)))return s;if(o(t=n.valueOf)&&!a(s=r(t,n)))return s;if("string"!==e&&o(t=n.toString)&&!a(s=r(t,n)))return s;throw new i("Can't convert object to primitive value")}},function(n,e,t){"use strict";var r=t(4),o=t(9),a=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,s=o(a,"name"),c=s&&"something"===function(){}.name,l=s&&(!r||r&&i(a,"name").configurable);n.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},function(n,e,t){"use strict";var r=t(2),o=t(1),a=t(36),i=r(Function.toString);o(a.inspectSource)||(a.inspectSource=function(n){return i(n)}),n.exports=a.inspectSource},function(n,e,t){"use strict";var r,o,a,i=t(115),s=t(0),c=t(5),l=t(14),u=t(9),d=t(36),p=t(103),h=t(53),f=s.TypeError,m=s.WeakMap;if(i||d.state){var v=d.state||(d.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,r=function(n,e){if(v.has(n))throw new f("Object already initialized");return e.facade=n,v.set(n,e),e},o=function(n){return v.get(n)||{}},a=function(n){return v.has(n)}}else{var g=p("state");h[g]=!0,r=function(n,e){if(u(n,g))throw new f("Object already initialized");return e.facade=n,l(n,g,e),e},o=function(n){return u(n,g)?n[g]:{}},a=function(n){return u(n,g)}}n.exports={set:r,get:o,has:a,enforce:function(n){return a(n)?o(n):r(n,{})},getterFor:function(n){return function(e){var t;if(!c(e)||(t=o(e)).type!==n)throw new f("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){"use strict";var r=t(0),o=t(1),a=r.WeakMap;n.exports=o(a)&&/native code/.test(String(a))},function(n,e,t){"use strict";var r=t(32),o=t(2),a=t(117),i=t(122),s=t(47),c=o([].concat);n.exports=r("Reflect","ownKeys")||function(n){var e=a.f(s(n)),t=i.f;return t?c(e,t(n)):e}},function(n,e,t){"use strict";var r=t(104),o=t(98).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return r(n,o)}},function(n,e,t){"use strict";var r=t(30),o=t(119),a=t(34),i=function(n){return function(e,t,i){var s=r(e),c=a(s);if(0===c)return!n&&-1;var l,u=o(i,c);if(n&&t!=t){for(;c>u;)if((l=s[u++])!=l)return!0}else for(;c>u;u++)if((n||u in s)&&s[u]===t)return n||u||0;return!n&&-1}};n.exports={includes:i(!0),indexOf:i(!1)}},function(n,e,t){"use strict";var r=t(66),o=Math.max,a=Math.min;n.exports=function(n,e){var t=r(n);return t<0?o(t+e,0):a(t,e)}},function(n,e,t){"use strict";var r=Math.ceil,o=Math.floor;n.exports=Math.trunc||function(n){var e=+n;return(e>0?o:r)(e)}},function(n,e,t){"use strict";var r=t(66),o=Math.min;n.exports=function(n){var e=r(n);return e>0?o(e,9007199254740991):0}},function(n,e,t){"use strict";e.f=Object.getOwnPropertySymbols},function(n,e,t){"use strict";var r=t(3),o=t(1),a=/#|\.prototype\./,i=function(n,e){var t=c[s(n)];return t===u||t!==l&&(o(e)?r(e):!!e)},s=i.normalize=function(n){return String(n).replace(a,".").toLowerCase()},c=i.data={},l=i.NATIVE="N",u=i.POLYFILL="P";n.exports=i},function(n,e,t){"use strict";var r=t(33),o=t(28),a=t(49),i=t(34),s=TypeError,c="Reduce of empty array with no initial value",l=function(n){return function(e,t,l,u){var d=o(e),p=a(d),h=i(d);if(r(t),0===h&&l<2)throw new s(c);var f=n?h-1:0,m=n?-1:1;if(l<2)for(;;){if(f in p){u=p[f],f+=m;break}if(f+=m,n?f<0:h<=f)throw new s(c)}for(;n?f>=0:h>f;f+=m)f in p&&(u=t(u,p[f],f,d));return u}};n.exports={left:l(!1),right:l(!0)}},function(n,e,t){"use strict";var r=t(3);n.exports=function(n,e){var t=[][n];return!!t&&r((function(){t.call(null,e||function(){return 1},1)}))}},function(n,e,t){"use strict";var r=t(127);n.exports="NODE"===r},function(n,e,t){"use strict";var r=t(0),o=t(61),a=t(17),i=function(n){return o.slice(0,n.length)===n};n.exports=i("Bun/")?"BUN":i("Cloudflare-Workers")?"CLOUDFLARE":i("Deno/")?"DENO":i("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===a(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"},function(n,e,t){"use strict";var r=t(26),o=t(0),a=t(129),i=t(130),s=o.WebAssembly,c=7!==new Error("e",{cause:7}).cause,l=function(n,e){var t={};t[n]=i(n,e,c),r({global:!0,constructor:!0,arity:1,forced:c},t)},u=function(n,e){if(s&&s[n]){var t={};t[n]=i("WebAssembly."+n,e,c),r({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:c},t)}};l("Error",(function(n){return function(e){return a(n,this,arguments)}})),l("EvalError",(function(n){return function(e){return a(n,this,arguments)}})),l("RangeError",(function(n){return function(e){return a(n,this,arguments)}})),l("ReferenceError",(function(n){return function(e){return a(n,this,arguments)}})),l("SyntaxError",(function(n){return function(e){return a(n,this,arguments)}})),l("TypeError",(function(n){return function(e){return a(n,this,arguments)}})),l("URIError",(function(n){return function(e){return a(n,this,arguments)}})),u("CompileError",(function(n){return function(e){return a(n,this,arguments)}})),u("LinkError",(function(n){return function(e){return a(n,this,arguments)}})),u("RuntimeError",(function(n){return function(e){return a(n,this,arguments)}}))},function(n,e,t){"use strict";var r=t(29),o=Function.prototype,a=o.apply,i=o.call;n.exports="object"==typeof Reflect&&Reflect.apply||(r?i.bind(a):function(){return i.apply(a,arguments)})},function(n,e,t){"use strict";var r=t(32),o=t(9),a=t(14),i=t(51),s=t(67),c=t(65),l=t(134),u=t(135),d=t(136),p=t(139),h=t(140),f=t(4),m=t(52);n.exports=function(n,e,t,v){var g=v?2:1,b=n.split("."),y=b[b.length-1],x=r.apply(null,b);if(x){var k=x.prototype;if(!m&&o(k,"cause")&&delete k.cause,!t)return x;var _=r("Error"),w=e((function(n,e){var t=d(v?e:n,void 0),r=v?new x(n):new x;return void 0!==t&&a(r,"message",t),h(r,w,r.stack,2),this&&i(k,this)&&u(r,this,w),arguments.length>g&&p(r,arguments[g]),r}));if(w.prototype=k,"Error"!==y?s?s(w,_):c(w,_,{name:!0}):f&&"stackTraceLimit"in x&&(l(w,x,"stackTraceLimit"),l(w,x,"prepareStackTrace")),c(w,x),!m)try{k.name!==y&&a(k,"name",y),k.constructor=w}catch(n){}return w}}},function(n,e,t){"use strict";var r=t(2),o=t(33);n.exports=function(n,e,t){try{return r(o(Object.getOwnPropertyDescriptor(n,e)[t]))}catch(n){}}},function(n,e,t){"use strict";var r=t(133),o=String,a=TypeError;n.exports=function(n){if(r(n))return n;throw new a("Can't set "+o(n)+" as a prototype")}},function(n,e,t){"use strict";var r=t(5);n.exports=function(n){return r(n)||null===n}},function(n,e,t){"use strict";var r=t(16).f;n.exports=function(n,e,t){t in n||r(n,t,{configurable:!0,get:function(){return e[t]},set:function(n){e[t]=n}})}},function(n,e,t){"use strict";var r=t(1),o=t(5),a=t(67);n.exports=function(n,e,t){var i,s;return a&&r(i=e.constructor)&&i!==t&&o(s=i.prototype)&&s!==t.prototype&&a(n,s),n}},function(n,e,t){"use strict";var r=t(96);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:r(n)}},function(n,e,t){"use strict";var r=t(138),o=t(1),a=t(17),i=t(25)("toStringTag"),s=Object,c="Arguments"===a(function(){return arguments}());n.exports=r?a:function(n){var e,t,r;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=s(n),i))?t:c?a(e):"Object"===(r=a(e))&&o(e.callee)?"Arguments":r}},function(n,e,t){"use strict";var r={};r[t(25)("toStringTag")]="z",n.exports="[object z]"===String(r)},function(n,e,t){"use strict";var r=t(5),o=t(14);n.exports=function(n,e){r(e)&&"cause"in e&&o(n,"cause",e.cause)}},function(n,e,t){"use strict";var r=t(14),o=t(141),a=t(142),i=Error.captureStackTrace;n.exports=function(n,e,t,s){a&&(i?i(n,e):r(n,"stack",o(t,s)))}},function(n,e,t){"use strict";var r=t(2),o=Error,a=r("".replace),i=String(new o("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(i);n.exports=function(n,e){if(c&&"string"==typeof n&&!o.prepareStackTrace)for(;e--;)n=a(n,s,"");return n}},function(n,e,t){"use strict";var r=t(3),o=t(35);n.exports=!r((function(){var n=new Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",o(1,7)),7!==n.stack)}))},function(n,e,t){"use strict";var r=t(4),o=t(144),a=TypeError,i=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(n){return n instanceof TypeError}}();n.exports=s?function(n,e){if(o(n)&&!i(n,"length").writable)throw new a("Cannot set read only .length");return n.length=e}:function(n,e){return n.length=e}},function(n,e,t){"use strict";var r=t(17);n.exports=Array.isArray||function(n){return"Array"===r(n)}},function(n,e,t){"use strict";var r=TypeError;n.exports=function(n){if(n>9007199254740991)throw r("Maximum allowed index exceeded");return n}},function(n,e,t){var r=t(68),o=t(147);n.exports=function n(e,t,a,i,s){var c=-1,l=e.length;for(a||(a=o),s||(s=[]);++c<l;){var u=e[c];t>0&&a(u)?t>1?n(u,t-1,a,i,s):r(s,u):i||(s[s.length]=u)}return s}},function(n,e,t){var r=t(15),o=t(38),a=t(6),i=r?r.isConcatSpreadable:void 0;n.exports=function(n){return a(n)||o(n)||!!(i&&n&&n[i])}},function(n,e,t){var r=t(13),o=t(12);n.exports=function(n){return o(n)&&"[object Arguments]"==r(n)}},function(n,e,t){var r=t(15),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=r?r.toStringTag:void 0;n.exports=function(n){var e=a.call(n,s),t=n[s];try{n[s]=void 0;var r=!0}catch(n){}var o=i.call(n);return r&&(e?n[s]=t:delete n[s]),o}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var r=t(152),o=t(208),a=t(46),i=t(6),s=t(219);n.exports=function(n){return"function"==typeof n?n:null==n?a:"object"==typeof n?i(n)?o(n[0],n[1]):r(n):s(n)}},function(n,e,t){var r=t(153),o=t(207),a=t(85);n.exports=function(n){var e=o(n);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(t){return t===n||r(t,n,e)}}},function(n,e,t){var r=t(70),o=t(74);n.exports=function(n,e,t,a){var i=t.length,s=i,c=!a;if(null==n)return!s;for(n=Object(n);i--;){var l=t[i];if(c&&l[2]?l[1]!==n[l[0]]:!(l[0]in n))return!1}for(;++i<s;){var u=(l=t[i])[0],d=n[u],p=l[1];if(c&&l[2]){if(void 0===d&&!(u in n))return!1}else{var h=new r;if(a)var f=a(d,p,u,n,e,h);if(!(void 0===f?o(p,d,3,a,h):f))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var r=t(19),o=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=r(e,n);return!(t<0)&&(t==e.length-1?e.pop():o.call(e,t,1),--this.size,!0)}},function(n,e,t){var r=t(19);n.exports=function(n){var e=this.__data__,t=r(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var r=t(19);n.exports=function(n){return r(this.__data__,n)>-1}},function(n,e,t){var r=t(19);n.exports=function(n,e){var t=this.__data__,o=r(t,n);return o<0?(++this.size,t.push([n,e])):t[o][1]=e,this}},function(n,e,t){var r=t(18);n.exports=function(){this.__data__=new r,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var r=t(18),o=t(39),a=t(41);n.exports=function(n,e){var t=this.__data__;if(t instanceof r){var i=t.__data__;if(!o||i.length<199)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new a(i)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var r=t(72),o=t(165),a=t(40),i=t(73),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!a(n)||o(n))&&(r(n)?p:s).test(i(n))}},function(n,e,t){var r,o=t(166),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";n.exports=function(n){return!!a&&a in n}},function(n,e,t){var r=t(7)["__core-js_shared__"];n.exports=r},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var r=t(169),o=t(18),a=t(39);n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},function(n,e,t){var r=t(170),o=t(171),a=t(172),i=t(173),s=t(174);function c(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,n.exports=c},function(n,e,t){var r=t(20);n.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var r=t(20),o=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(r){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return o.call(e,n)?e[n]:void 0}},function(n,e,t){var r=t(20),o=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return r?void 0!==e[n]:o.call(e,n)}},function(n,e,t){var r=t(20);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var r=t(21);n.exports=function(n){var e=r(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var r=t(21);n.exports=function(n){return r(this,n).get(n)}},function(n,e,t){var r=t(21);n.exports=function(n){return r(this,n).has(n)}},function(n,e,t){var r=t(21);n.exports=function(n,e){var t=r(this,n),o=t.size;return t.set(n,e),this.size+=t.size==o?0:1,this}},function(n,e,t){var r=t(70),o=t(75),a=t(184),i=t(187),s=t(203),c=t(6),l=t(79),u=t(81),d="[object Object]",p=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,h,f,m){var v=c(n),g=c(e),b=v?"[object Array]":s(n),y=g?"[object Array]":s(e),x=(b="[object Arguments]"==b?d:b)==d,k=(y="[object Arguments]"==y?d:y)==d,_=b==y;if(_&&l(n)){if(!l(e))return!1;v=!0,x=!1}if(_&&!x)return m||(m=new r),v||u(n)?o(n,e,t,h,f,m):a(n,e,b,t,h,f,m);if(!(1&t)){var w=x&&p.call(n,"__wrapped__"),j=k&&p.call(e,"__wrapped__");if(w||j){var S=w?n.value():n,T=j?e.value():e;return m||(m=new r),f(S,T,t,h,m)}}return!!_&&(m||(m=new r),i(n,e,t,h,f,m))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var r=t(15),o=t(185),a=t(71),i=t(75),s=t(186),c=t(42),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;n.exports=function(n,e,t,r,l,d,p){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!d(new o(n),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var h=s;case"[object Set]":var f=1&r;if(h||(h=c),n.size!=e.size&&!f)return!1;var m=p.get(n);if(m)return m==e;r|=2,p.set(n,e);var v=i(h(n),h(e),r,l,d,p);return p.delete(n),v;case"[object Symbol]":if(u)return u.call(n)==u.call(e)}return!1}},function(n,e,t){var r=t(7).Uint8Array;n.exports=r},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,r){t[++e]=[r,n]})),t}},function(n,e,t){var r=t(188),o=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,a,i,s){var c=1&t,l=r(n),u=l.length;if(u!=r(e).length&&!c)return!1;for(var d=u;d--;){var p=l[d];if(!(c?p in e:o.call(e,p)))return!1}var h=s.get(n),f=s.get(e);if(h&&f)return h==e&&f==n;var m=!0;s.set(n,e),s.set(e,n);for(var v=c;++d<u;){var g=n[p=l[d]],b=e[p];if(a)var y=c?a(b,g,p,e,n,s):a(g,b,p,n,e,s);if(!(void 0===y?g===b||i(g,b,t,a,s):y)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var x=n.constructor,k=e.constructor;x==k||!("constructor"in n)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof k&&k instanceof k||(m=!1)}return s.delete(n),s.delete(e),m}},function(n,e,t){var r=t(189),o=t(190),a=t(78);n.exports=function(n){return r(n,a,o)}},function(n,e,t){var r=t(68),o=t(6);n.exports=function(n,e,t){var a=e(n);return o(n)?a:r(a,t(n))}},function(n,e,t){var r=t(191),o=t(192),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(n){return null==n?[]:(n=Object(n),r(i(n),(function(e){return a.call(n,e)})))}:o;n.exports=s},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,o=0,a=[];++t<r;){var i=n[t];e(i,t,n)&&(a[o++]=i)}return a}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var r=t(194),o=t(38),a=t(6),i=t(79),s=t(80),c=t(81),l=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=a(n),u=!t&&o(n),d=!t&&!u&&i(n),p=!t&&!u&&!d&&c(n),h=t||u||d||p,f=h?r(n.length,String):[],m=f.length;for(var v in n)!e&&!l.call(n,v)||h&&("length"==v||d&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||f.push(v);return f}},function(n,e){n.exports=function(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var r=t(13),o=t(43),a=t(12),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,n.exports=function(n){return a(n)&&o(n.length)&&!!i[r(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var r=t(69),o=e&&!e.nodeType&&e,a=o&&"object"==typeof n&&n&&!n.nodeType&&n,i=a&&a.exports===o&&r.process,s=function(){try{var n=a&&a.require&&a.require("util").types;return n||i&&i.binding&&i.binding("util")}catch(n){}}();n.exports=s}).call(this,t(54)(n))},function(n,e,t){var r=t(200),o=t(201),a=Object.prototype.hasOwnProperty;n.exports=function(n){if(!r(n))return o(n);var e=[];for(var t in Object(n))a.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var r=t(202)(Object.keys,Object);n.exports=r},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var r=t(204),o=t(39),a=t(205),i=t(83),s=t(206),c=t(13),l=t(73),u=l(r),d=l(o),p=l(a),h=l(i),f=l(s),m=c;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=m(new o)||a&&"[object Promise]"!=m(a.resolve())||i&&"[object Set]"!=m(new i)||s&&"[object WeakMap]"!=m(new s))&&(m=function(n){var e=c(n),t="[object Object]"==e?n.constructor:void 0,r=t?l(t):"";if(r)switch(r){case u:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case f:return"[object WeakMap]"}return e}),n.exports=m},function(n,e,t){var r=t(10)(t(7),"DataView");n.exports=r},function(n,e,t){var r=t(10)(t(7),"Promise");n.exports=r},function(n,e,t){var r=t(10)(t(7),"WeakMap");n.exports=r},function(n,e,t){var r=t(84),o=t(78);n.exports=function(n){for(var e=o(n),t=e.length;t--;){var a=e[t],i=n[a];e[t]=[a,i,r(i)]}return e}},function(n,e,t){var r=t(74),o=t(209),a=t(216),i=t(44),s=t(84),c=t(85),l=t(22);n.exports=function(n,e){return i(n)&&s(e)?c(l(n),e):function(t){var i=o(t,n);return void 0===i&&i===e?a(t,n):r(e,i,3)}}},function(n,e,t){var r=t(86);n.exports=function(n,e,t){var o=null==n?void 0:r(n,e);return void 0===o?t:o}},function(n,e,t){var r=t(211),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=r((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(o,(function(n,t,r,o){e.push(r?o.replace(a,"$1"):t||n)})),e}));n.exports=i},function(n,e,t){var r=t(212);n.exports=function(n){var e=r(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var r=t(41);function o(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var r=arguments,o=e?e.apply(this,r):r[0],a=t.cache;if(a.has(o))return a.get(o);var i=n.apply(this,r);return t.cache=a.set(o,i)||a,i};return t.cache=new(o.Cache||r),t}o.Cache=r,n.exports=o},function(n,e,t){var r=t(214);n.exports=function(n){return null==n?"":r(n)}},function(n,e,t){var r=t(15),o=t(215),a=t(6),i=t(45),s=r?r.prototype:void 0,c=s?s.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(a(e))return o(e,n)+"";if(i(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,o=Array(r);++t<r;)o[t]=e(n[t],t,n);return o}},function(n,e,t){var r=t(217),o=t(218);n.exports=function(n,e){return null!=n&&o(n,e,r)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var r=t(87),o=t(38),a=t(6),i=t(80),s=t(43),c=t(22);n.exports=function(n,e,t){for(var l=-1,u=(e=r(e,n)).length,d=!1;++l<u;){var p=c(e[l]);if(!(d=null!=n&&t(n,p)))break;n=n[p]}return d||++l!=u?d:!!(u=null==n?0:n.length)&&s(u)&&i(p,u)&&(a(n)||o(n))}},function(n,e,t){var r=t(220),o=t(221),a=t(44),i=t(22);n.exports=function(n){return a(n)?r(i(n)):o(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var r=t(86);n.exports=function(n){return function(e){return r(e,n)}}},function(n,e,t){var r=t(46),o=t(223),a=t(225);n.exports=function(n,e){return a(o(n,e,r),n+"")}},function(n,e,t){var r=t(224),o=Math.max;n.exports=function(n,e,t){return e=o(void 0===e?n.length-1:e,0),function(){for(var a=arguments,i=-1,s=o(a.length-e,0),c=Array(s);++i<s;)c[i]=a[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=a[i];return l[e]=t(c),r(n,this,l)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var r=t(226),o=t(229)(r);n.exports=o},function(n,e,t){var r=t(227),o=t(228),a=t(46),i=o?function(n,e){return o(n,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:a;n.exports=i},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var r=t(10),o=function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=o},function(n,e){var t=Date.now;n.exports=function(n){var e=0,r=0;return function(){var o=t(),a=16-(o-r);if(r=o,a>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var r=t(76),o=t(231),a=t(236),i=t(77),s=t(237),c=t(42);n.exports=function(n,e,t){var l=-1,u=o,d=n.length,p=!0,h=[],f=h;if(t)p=!1,u=a;else if(d>=200){var m=e?null:s(n);if(m)return c(m);p=!1,u=i,f=new r}else f=e?[]:h;n:for(;++l<d;){var v=n[l],g=e?e(v):v;if(v=t||0!==v?v:0,p&&g==g){for(var b=f.length;b--;)if(f[b]===g)continue n;e&&f.push(g),h.push(v)}else u(f,g,t)||(f!==h&&f.push(g),h.push(v))}return h}},function(n,e,t){var r=t(232);n.exports=function(n,e){return!!(null==n?0:n.length)&&r(n,e,0)>-1}},function(n,e,t){var r=t(233),o=t(234),a=t(235);n.exports=function(n,e,t){return e==e?a(n,e,t):r(n,o,t)}},function(n,e){n.exports=function(n,e,t,r){for(var o=n.length,a=t+(r?1:-1);r?a--:++a<o;)if(e(n[a],a,n))return a;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var r=t-1,o=n.length;++r<o;)if(n[r]===e)return r;return-1}},function(n,e){n.exports=function(n,e,t){for(var r=-1,o=null==n?0:n.length;++r<o;)if(t(e,n[r]))return!0;return!1}},function(n,e,t){var r=t(83),o=t(238),a=t(42),i=r&&1/a(new r([,-0]))[1]==1/0?function(n){return new r(n)}:o;n.exports=i},function(n,e){n.exports=function(){}},function(n,e,t){var r=t(82),o=t(12);n.exports=function(n){return o(n)&&r(n)}},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(88)},function(n,e,t){"use strict";t(89)},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(90)},function(n,e,t){"use strict";t(91)},function(n,e,t){"use strict";t.r(e);
/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),o=Array.isArray;function a(n){return null==n}function i(n){return null!=n}function s(n){return!0===n}function c(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function l(n){return"function"==typeof n}function u(n){return null!==n&&"object"==typeof n}var d=Object.prototype.toString;function p(n){return"[object Object]"===d.call(n)}function h(n){return"[object RegExp]"===d.call(n)}function f(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function m(n){return i(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function v(n){return null==n?"":Array.isArray(n)||p(n)&&n.toString===d?JSON.stringify(n,g,2):String(n)}function g(n,e){return e&&e.__v_isRef?e.value:e}function b(n){var e=parseFloat(n);return isNaN(e)?n:e}function y(n,e){for(var t=Object.create(null),r=n.split(","),o=0;o<r.length;o++)t[r[o]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}y("slot,component",!0);var x=y("key,ref,slot,slot-scope,is");function k(n,e){var t=n.length;if(t){if(e===n[t-1])return void(n.length=t-1);var r=n.indexOf(e);if(r>-1)return n.splice(r,1)}}var _=Object.prototype.hasOwnProperty;function w(n,e){return _.call(n,e)}function j(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var S=/-(\w)/g,T=j((function(n){return n.replace(S,(function(n,e){return e?e.toUpperCase():""}))})),C=j((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),E=/\B([A-Z])/g,P=j((function(n){return n.replace(E,"-$1").toLowerCase()}));var z=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var r=arguments.length;return r?r>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function O(n,e){e=e||0;for(var t=n.length-e,r=new Array(t);t--;)r[t]=n[t+e];return r}function L(n,e){for(var t in e)n[t]=e[t];return n}function A(n){for(var e={},t=0;t<n.length;t++)n[t]&&L(e,n[t]);return e}function $(n,e,t){}var I=function(n,e,t){return!1},R=function(n){return n};function D(n,e){if(n===e)return!0;var t=u(n),r=u(e);if(!t||!r)return!t&&!r&&String(n)===String(e);try{var o=Array.isArray(n),a=Array.isArray(e);if(o&&a)return n.length===e.length&&n.every((function(n,t){return D(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(o||a)return!1;var i=Object.keys(n),s=Object.keys(e);return i.length===s.length&&i.every((function(t){return D(n[t],e[t])}))}catch(n){return!1}}function U(n,e){for(var t=0;t<n.length;t++)if(D(n[t],e))return t;return-1}function N(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}function M(n,e){return n===e?0===n&&1/n!=1/e:n==n||e==e}var B=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],q={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:I,isReservedAttr:I,isUnknownElement:I,getTagNamespace:$,parsePlatformTagName:R,mustUseProp:I,async:!0,_lifecycleHooks:F},H=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function G(n){var e=(n+"").charCodeAt(0);return 36===e||95===e}function W(n,e,t,r){Object.defineProperty(n,e,{value:t,enumerable:!!r,writable:!0,configurable:!0})}var V=new RegExp("[^".concat(H.source,".$_\\d]"));var J="__proto__"in{},Z="undefined"!=typeof window,K=Z&&window.navigator.userAgent.toLowerCase(),X=K&&/msie|trident/.test(K),Y=K&&K.indexOf("msie 9.0")>0,Q=K&&K.indexOf("edge/")>0;K&&K.indexOf("android");var nn=K&&/iphone|ipad|ipod|ios/.test(K);K&&/chrome\/\d+/.test(K),K&&/phantomjs/.test(K);var en,tn=K&&K.match(/firefox\/(\d+)/),rn={}.watch,on=!1;if(Z)try{var an={};Object.defineProperty(an,"passive",{get:function(){on=!0}}),window.addEventListener("test-passive",null,an)}catch(n){}var sn=function(){return void 0===en&&(en=!Z&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),en},cn=Z&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ln(n){return"function"==typeof n&&/native code/.test(n.toString())}var un,dn="undefined"!=typeof Symbol&&ln(Symbol)&&"undefined"!=typeof Reflect&&ln(Reflect.ownKeys);un="undefined"!=typeof Set&&ln(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var pn=null;function hn(n){void 0===n&&(n=null),n||pn&&pn._scope.off(),pn=n,n&&n._scope.on()}var fn=function(){function n(n,e,t,r,o,a,i,s){this.tag=n,this.data=e,this.children=t,this.text=r,this.elm=o,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=i,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(n.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),n}(),mn=function(n){void 0===n&&(n="");var e=new fn;return e.text=n,e.isComment=!0,e};function vn(n){return new fn(void 0,void 0,void 0,String(n))}function gn(n){var e=new fn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}"function"==typeof SuppressedError&&SuppressedError;var bn=0,yn=[],xn=function(){function n(){this._pending=!1,this.id=bn++,this.subs=[]}return n.prototype.addSub=function(n){this.subs.push(n)},n.prototype.removeSub=function(n){this.subs[this.subs.indexOf(n)]=null,this._pending||(this._pending=!0,yn.push(this))},n.prototype.depend=function(e){n.target&&n.target.addDep(this)},n.prototype.notify=function(n){var e=this.subs.filter((function(n){return n}));for(var t=0,r=e.length;t<r;t++){0,e[t].update()}},n}();xn.target=null;var kn=[];function _n(n){kn.push(n),xn.target=n}function wn(){kn.pop(),xn.target=kn[kn.length-1]}var jn=Array.prototype,Sn=Object.create(jn);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=jn[n];W(Sn,n,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o,a=e.apply(this,t),i=this.__ob__;switch(n){case"push":case"unshift":o=t;break;case"splice":o=t.slice(2)}return o&&i.observeArray(o),i.dep.notify(),a}))}));var Tn=Object.getOwnPropertyNames(Sn),Cn={},En=!0;function Pn(n){En=n}var zn={notify:$,depend:$,addSub:$,removeSub:$},On=function(){function n(n,e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),this.value=n,this.shallow=e,this.mock=t,this.dep=t?zn:new xn,this.vmCount=0,W(n,"__ob__",this),o(n)){if(!t)if(J)n.__proto__=Sn;else for(var r=0,a=Tn.length;r<a;r++){W(n,s=Tn[r],Sn[s])}e||this.observeArray(n)}else{var i=Object.keys(n);for(r=0;r<i.length;r++){var s;An(n,s=i[r],Cn,void 0,e,t)}}}return n.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)Ln(n[e],!1,this.mock)},n}();function Ln(n,e,t){return n&&w(n,"__ob__")&&n.__ob__ instanceof On?n.__ob__:!En||!t&&sn()||!o(n)&&!p(n)||!Object.isExtensible(n)||n.__v_skip||Mn(n)||n instanceof fn?void 0:new On(n,e,t)}function An(n,e,t,r,a,i,s){void 0===s&&(s=!1);var c=new xn,l=Object.getOwnPropertyDescriptor(n,e);if(!l||!1!==l.configurable){var u=l&&l.get,d=l&&l.set;u&&!d||t!==Cn&&2!==arguments.length||(t=n[e]);var p=a?t&&t.__ob__:Ln(t,!1,i);return Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=u?u.call(n):t;return xn.target&&(c.depend(),p&&(p.dep.depend(),o(e)&&Rn(e))),Mn(e)&&!a?e.value:e},set:function(e){var r=u?u.call(n):t;if(M(r,e)){if(d)d.call(n,e);else{if(u)return;if(!a&&Mn(r)&&!Mn(e))return void(r.value=e);t=e}p=a?e&&e.__ob__:Ln(e,!1,i),c.notify()}}}),c}}function $n(n,e,t){if(!Nn(n)){var r=n.__ob__;return o(n)&&f(e)?(n.length=Math.max(n.length,e),n.splice(e,1,t),r&&!r.shallow&&r.mock&&Ln(t,!1,!0),t):e in n&&!(e in Object.prototype)?(n[e]=t,t):n._isVue||r&&r.vmCount?t:r?(An(r.value,e,t,void 0,r.shallow,r.mock),r.dep.notify(),t):(n[e]=t,t)}}function In(n,e){if(o(n)&&f(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||Nn(n)||w(n,e)&&(delete n[e],t&&t.dep.notify())}}function Rn(n){for(var e=void 0,t=0,r=n.length;t<r;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),o(e)&&Rn(e)}function Dn(n){return Un(n,!0),W(n,"__v_isShallow",!0),n}function Un(n,e){if(!Nn(n)){Ln(n,e,sn());0}}function Nn(n){return!(!n||!n.__v_isReadonly)}function Mn(n){return!(!n||!0!==n.__v_isRef)}function Bn(n,e,t){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var n=e[t];if(Mn(n))return n.value;var r=n&&n.__ob__;return r&&r.dep.depend(),n},set:function(n){var r=e[t];Mn(r)&&!Mn(n)?r.value=n:e[t]=n}})}"".concat("watcher"," callback"),"".concat("watcher"," getter"),"".concat("watcher"," cleanup");var Fn;var qn=function(){function n(n){void 0===n&&(n=!1),this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Fn,!n&&Fn&&(this.index=(Fn.scopes||(Fn.scopes=[])).push(this)-1)}return n.prototype.run=function(n){if(this.active){var e=Fn;try{return Fn=this,n()}finally{Fn=e}}else 0},n.prototype.on=function(){Fn=this},n.prototype.off=function(){Fn=this.parent},n.prototype.stop=function(n){if(this.active){var e=void 0,t=void 0;for(e=0,t=this.effects.length;e<t;e++)this.effects[e].teardown();for(e=0,t=this.cleanups.length;e<t;e++)this.cleanups[e]();if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!n){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},n}();function Hn(n){var e=n._provided,t=n.$parent&&n.$parent._provided;return t===e?n._provided=Object.create(t):e}var Gn=j((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),r="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=r?n.slice(1):n,once:t,capture:r,passive:e}}));function Wn(n,e){function t(){var n=t.fns;if(!o(n))return Ee(n,null,arguments,e,"v-on handler");for(var r=n.slice(),a=0;a<r.length;a++)Ee(r[a],null,arguments,e,"v-on handler")}return t.fns=n,t}function Vn(n,e,t,r,o,i){var c,l,u,d;for(c in n)l=n[c],u=e[c],d=Gn(c),a(l)||(a(u)?(a(l.fns)&&(l=n[c]=Wn(l,i)),s(d.once)&&(l=n[c]=o(d.name,l,d.capture)),t(d.name,l,d.capture,d.passive,d.params)):l!==u&&(u.fns=l,n[c]=u));for(c in e)a(n[c])&&r((d=Gn(c)).name,e[c],d.capture)}function Jn(n,e,t){var r;n instanceof fn&&(n=n.data.hook||(n.data.hook={}));var o=n[e];function c(){t.apply(this,arguments),k(r.fns,c)}a(o)?r=Wn([c]):i(o.fns)&&s(o.merged)?(r=o).fns.push(c):r=Wn([o,c]),r.merged=!0,n[e]=r}function Zn(n,e,t,r,o){if(i(e)){if(w(e,t))return n[t]=e[t],o||delete e[t],!0;if(w(e,r))return n[t]=e[r],o||delete e[r],!0}return!1}function Kn(n){return c(n)?[vn(n)]:o(n)?function n(e,t){var r,l,u,d,p=[];for(r=0;r<e.length;r++)a(l=e[r])||"boolean"==typeof l||(u=p.length-1,d=p[u],o(l)?l.length>0&&(Xn((l=n(l,"".concat(t||"","_").concat(r)))[0])&&Xn(d)&&(p[u]=vn(d.text+l[0].text),l.shift()),p.push.apply(p,l)):c(l)?Xn(d)?p[u]=vn(d.text+l):""!==l&&p.push(vn(l)):Xn(l)&&Xn(d)?p[u]=vn(d.text+l.text):(s(e._isVList)&&i(l.tag)&&a(l.key)&&i(t)&&(l.key="__vlist".concat(t,"_").concat(r,"__")),p.push(l)));return p}(n):void 0}function Xn(n){return i(n)&&i(n.text)&&!1===n.isComment}function Yn(n,e){var t,r,a,s,c=null;if(o(n)||"string"==typeof n)for(c=new Array(n.length),t=0,r=n.length;t<r;t++)c[t]=e(n[t],t);else if("number"==typeof n)for(c=new Array(n),t=0;t<n;t++)c[t]=e(t+1,t);else if(u(n))if(dn&&n[Symbol.iterator]){c=[];for(var l=n[Symbol.iterator](),d=l.next();!d.done;)c.push(e(d.value,c.length)),d=l.next()}else for(a=Object.keys(n),c=new Array(a.length),t=0,r=a.length;t<r;t++)s=a[t],c[t]=e(n[s],s,t);return i(c)||(c=[]),c._isVList=!0,c}function Qn(n,e,t,r){var o,a=this.$scopedSlots[n];a?(t=t||{},r&&(t=L(L({},r),t)),o=a(t)||(l(e)?e():e)):o=this.$slots[n]||(l(e)?e():e);var i=t&&t.slot;return i?this.$createElement("template",{slot:i},o):o}function ne(n){return Ot(this.$options,"filters",n,!0)||R}function ee(n,e){return o(n)?-1===n.indexOf(e):n!==e}function te(n,e,t,r,o){var a=q.keyCodes[e]||t;return o&&r&&!q.keyCodes[e]?ee(o,r):a?ee(a,n):r?P(r)!==e:void 0===n}function re(n,e,t,r,a){if(t)if(u(t)){o(t)&&(t=A(t));var i=void 0,s=function(o){if("class"===o||"style"===o||x(o))i=n;else{var s=n.attrs&&n.attrs.type;i=r||q.mustUseProp(e,s,o)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var c=T(o),l=P(o);c in i||l in i||(i[o]=t[o],a&&((n.on||(n.on={}))["update:".concat(o)]=function(n){t[o]=n}))};for(var c in t)s(c)}else;return n}function oe(n,e){var t=this._staticTrees||(this._staticTrees=[]),r=t[n];return r&&!e||ie(r=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,this._c,this),"__static__".concat(n),!1),r}function ae(n,e,t){return ie(n,"__once__".concat(e).concat(t?"_".concat(t):""),!0),n}function ie(n,e,t){if(o(n))for(var r=0;r<n.length;r++)n[r]&&"string"!=typeof n[r]&&se(n[r],"".concat(e,"_").concat(r),t);else se(n,e,t)}function se(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function ce(n,e){if(e)if(p(e)){var t=n.on=n.on?L({},n.on):{};for(var r in e){var o=t[r],a=e[r];t[r]=o?[].concat(o,a):a}}else;return n}function le(n,e,t,r){e=e||{$stable:!t};for(var a=0;a<n.length;a++){var i=n[a];o(i)?le(i,e,t):i&&(i.proxy&&(i.fn.proxy=!0),e[i.key]=i.fn)}return r&&(e.$key=r),e}function ue(n,e){for(var t=0;t<e.length;t+=2){var r=e[t];"string"==typeof r&&r&&(n[e[t]]=e[t+1])}return n}function de(n,e){return"string"==typeof n?e+n:n}function pe(n){n._o=ae,n._n=b,n._s=v,n._l=Yn,n._t=Qn,n._q=D,n._i=U,n._m=oe,n._f=ne,n._k=te,n._b=re,n._v=vn,n._e=mn,n._u=le,n._g=ce,n._d=ue,n._p=de}function he(n,e){if(!n||!n.length)return{};for(var t={},r=0,o=n.length;r<o;r++){var a=n[r],i=a.data;if(i&&i.attrs&&i.attrs.slot&&delete i.attrs.slot,a.context!==e&&a.fnContext!==e||!i||null==i.slot)(t.default||(t.default=[])).push(a);else{var s=i.slot,c=t[s]||(t[s]=[]);"template"===a.tag?c.push.apply(c,a.children||[]):c.push(a)}}for(var l in t)t[l].every(fe)&&delete t[l];return t}function fe(n){return n.isComment&&!n.asyncFactory||" "===n.text}function me(n){return n.isComment&&n.asyncFactory}function ve(n,e,t,o){var a,i=Object.keys(t).length>0,s=e?!!e.$stable:!i,c=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&o&&o!==r&&c===o.$key&&!i&&!o.$hasNormal)return o;for(var l in a={},e)e[l]&&"$"!==l[0]&&(a[l]=ge(n,t,l,e[l]))}else a={};for(var u in t)u in a||(a[u]=be(t,u));return e&&Object.isExtensible(e)&&(e._normalized=a),W(a,"$stable",s),W(a,"$key",c),W(a,"$hasNormal",i),a}function ge(n,e,t,r){var a=function(){var e=pn;hn(n);var t=arguments.length?r.apply(null,arguments):r({}),a=(t=t&&"object"==typeof t&&!o(t)?[t]:Kn(t))&&t[0];return hn(e),t&&(!a||1===t.length&&a.isComment&&!me(a))?void 0:t};return r.proxy&&Object.defineProperty(e,t,{get:a,enumerable:!0,configurable:!0}),a}function be(n,e){return function(){return n[e]}}function ye(n){return{get attrs(){if(!n._attrsProxy){var e=n._attrsProxy={};W(e,"_v_attr_proxy",!0),xe(e,n.$attrs,r,n,"$attrs")}return n._attrsProxy},get listeners(){n._listenersProxy||xe(n._listenersProxy={},n.$listeners,r,n,"$listeners");return n._listenersProxy},get slots(){return function(n){n._slotsProxy||_e(n._slotsProxy={},n.$scopedSlots);return n._slotsProxy}(n)},emit:z(n.$emit,n),expose:function(e){e&&Object.keys(e).forEach((function(t){return Bn(n,e,t)}))}}}function xe(n,e,t,r,o){var a=!1;for(var i in e)i in n?e[i]!==t[i]&&(a=!0):(a=!0,ke(n,i,r,o));for(var i in n)i in e||(a=!0,delete n[i]);return a}function ke(n,e,t,r){Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){return t[r][e]}})}function _e(n,e){for(var t in e)n[t]=e[t];for(var t in n)t in e||delete n[t]}var we=null;function je(n,e){return(n.__esModule||dn&&"Module"===n[Symbol.toStringTag])&&(n=n.default),u(n)?e.extend(n):n}function Se(n){if(o(n))for(var e=0;e<n.length;e++){var t=n[e];if(i(t)&&(i(t.componentOptions)||me(t)))return t}}function Te(n,e,t,r,d,p){return(o(t)||c(t))&&(d=r,r=t,t=void 0),s(p)&&(d=2),function(n,e,t,r,c){if(i(t)&&i(t.__ob__))return mn();i(t)&&i(t.is)&&(e=t.is);if(!e)return mn();0;o(r)&&l(r[0])&&((t=t||{}).scopedSlots={default:r[0]},r.length=0);2===c?r=Kn(r):1===c&&(r=function(n){for(var e=0;e<n.length;e++)if(o(n[e]))return Array.prototype.concat.apply([],n);return n}(r));var d,p;if("string"==typeof e){var h=void 0;p=n.$vnode&&n.$vnode.ns||q.getTagNamespace(e),d=q.isReservedTag(e)?new fn(q.parsePlatformTagName(e),t,r,void 0,void 0,n):t&&t.pre||!i(h=Ot(n.$options,"components",e))?new fn(e,t,r,void 0,void 0,n):kt(h,t,n,r,e)}else d=kt(e,t,n,r);return o(d)?d:i(d)?(i(p)&&function n(e,t,r){e.ns=t,"foreignObject"===e.tag&&(t=void 0,r=!0);if(i(e.children))for(var o=0,c=e.children.length;o<c;o++){var l=e.children[o];i(l.tag)&&(a(l.ns)||s(r)&&"svg"!==l.tag)&&n(l,t,r)}}(d,p),i(t)&&function(n){u(n.style)&&qe(n.style);u(n.class)&&qe(n.class)}(t),d):mn()}(n,e,t,r,d)}function Ce(n,e,t){_n();try{if(e)for(var r=e;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var a=0;a<o.length;a++)try{if(!1===o[a].call(r,n,e,t))return}catch(n){Pe(n,r,"errorCaptured hook")}}Pe(n,e,t)}finally{wn()}}function Ee(n,e,t,r,o){var a;try{(a=t?n.apply(e,t):n.call(e))&&!a._isVue&&m(a)&&!a._handled&&(a.catch((function(n){return Ce(n,r,o+" (Promise/async)")})),a._handled=!0)}catch(n){Ce(n,r,o)}return a}function Pe(n,e,t){if(q.errorHandler)try{return q.errorHandler.call(null,n,e,t)}catch(e){e!==n&&ze(e,null,"config.errorHandler")}ze(n,e,t)}function ze(n,e,t){if(!Z||"undefined"==typeof console)throw n;console.error(n)}var Oe,Le=!1,Ae=[],$e=!1;function Ie(){$e=!1;var n=Ae.slice(0);Ae.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&ln(Promise)){var Re=Promise.resolve();Oe=function(){Re.then(Ie),nn&&setTimeout($)},Le=!0}else if(X||"undefined"==typeof MutationObserver||!ln(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Oe="undefined"!=typeof setImmediate&&ln(setImmediate)?function(){setImmediate(Ie)}:function(){setTimeout(Ie,0)};else{var De=1,Ue=new MutationObserver(Ie),Ne=document.createTextNode(String(De));Ue.observe(Ne,{characterData:!0}),Oe=function(){De=(De+1)%2,Ne.data=String(De)},Le=!0}function Me(n,e){var t;if(Ae.push((function(){if(n)try{n.call(e)}catch(n){Ce(n,e,"nextTick")}else t&&t(e)})),$e||($e=!0,Oe()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}function Be(n){return function(e,t){if(void 0===t&&(t=pn),t)return function(n,e,t){var r=n.$options;r[e]=Ct(r[e],t)}(t,n,e)}}Be("beforeMount"),Be("mounted"),Be("beforeUpdate"),Be("updated"),Be("beforeDestroy"),Be("destroyed"),Be("activated"),Be("deactivated"),Be("serverPrefetch"),Be("renderTracked"),Be("renderTriggered"),Be("errorCaptured");var Fe=new un;function qe(n){return function n(e,t){var r,a,i=o(e);if(!i&&!u(e)||e.__v_skip||Object.isFrozen(e)||e instanceof fn)return;if(e.__ob__){var s=e.__ob__.dep.id;if(t.has(s))return;t.add(s)}if(i)for(r=e.length;r--;)n(e[r],t);else if(Mn(e))n(e.value,t);else for(a=Object.keys(e),r=a.length;r--;)n(e[a[r]],t)}(n,Fe),Fe.clear(),n}var He,Ge=0,We=function(){function n(n,e,t,r,o){var a,i;a=this,void 0===(i=Fn&&!Fn._vm?Fn:n?n._scope:void 0)&&(i=Fn),i&&i.active&&i.effects.push(a),(this.vm=n)&&o&&(n._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++Ge,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new un,this.newDepIds=new un,this.expression="",l(e)?this.getter=e:(this.getter=function(n){if(!V.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=$)),this.value=this.lazy?void 0:this.get()}return n.prototype.get=function(){var n;_n(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;Ce(n,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&qe(n),wn(),this.cleanupDeps()}return n},n.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},n.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},n.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ht(this)},n.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||u(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'.concat(this.expression,'"');Ee(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},n.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},n.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},n.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&k(this.vm._scope.effects,this),this.active){for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},n}();function Ve(n,e){He.$on(n,e)}function Je(n,e){He.$off(n,e)}function Ze(n,e){var t=He;return function r(){var o=e.apply(null,arguments);null!==o&&t.$off(n,r)}}function Ke(n,e,t){He=n,Vn(e,t||{},Ve,Je,Ze,n),He=void 0}var Xe=null;function Ye(n){var e=Xe;return Xe=n,function(){Xe=e}}function Qe(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function nt(n,e){if(e){if(n._directInactive=!1,Qe(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)nt(n.$children[t]);et(n,"activated")}}function et(n,e,t,r){void 0===r&&(r=!0),_n();var o=pn,a=Fn;r&&hn(n);var i=n.$options[e],s="".concat(e," hook");if(i)for(var c=0,l=i.length;c<l;c++)Ee(i[c],n,t||null,n,s);n._hasHookEvent&&n.$emit("hook:"+e),r&&(hn(o),a&&a.on()),wn()}var tt=[],rt=[],ot={},at=!1,it=!1,st=0;var ct=0,lt=Date.now;if(Z&&!X){var ut=window.performance;ut&&"function"==typeof ut.now&&lt()>document.createEvent("Event").timeStamp&&(lt=function(){return ut.now()})}var dt=function(n,e){if(n.post){if(!e.post)return 1}else if(e.post)return-1;return n.id-e.id};function pt(){var n,e;for(ct=lt(),it=!0,tt.sort(dt),st=0;st<tt.length;st++)(n=tt[st]).before&&n.before(),e=n.id,ot[e]=null,n.run();var t=rt.slice(),r=tt.slice();st=tt.length=rt.length=0,ot={},at=it=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,nt(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],r=t.vm;r&&r._watcher===t&&r._isMounted&&!r._isDestroyed&&et(r,"updated")}}(r),function(){for(var n=0;n<yn.length;n++){var e=yn[n];e.subs=e.subs.filter((function(n){return n})),e._pending=!1}yn.length=0}(),cn&&q.devtools&&cn.emit("flush")}function ht(n){var e=n.id;if(null==ot[e]&&(n!==xn.target||!n.noRecurse)){if(ot[e]=!0,it){for(var t=tt.length-1;t>st&&tt[t].id>n.id;)t--;tt.splice(t+1,0,n)}else tt.push(n);at||(at=!0,Me(pt))}}function ft(n,e){if(n){for(var t=Object.create(null),r=dn?Reflect.ownKeys(n):Object.keys(n),o=0;o<r.length;o++){var a=r[o];if("__ob__"!==a){var i=n[a].from;if(i in e._provided)t[a]=e._provided[i];else if("default"in n[a]){var s=n[a].default;t[a]=l(s)?s.call(e):s}else 0}}return t}}function mt(n,e,t,a,i){var c,l=this,u=i.options;w(a,"_uid")?(c=Object.create(a))._original=a:(c=a,a=a._original);var d=s(u._compiled),p=!d;this.data=n,this.props=e,this.children=t,this.parent=a,this.listeners=n.on||r,this.injections=ft(u.inject,a),this.slots=function(){return l.$slots||ve(a,n.scopedSlots,l.$slots=he(t,a)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ve(a,n.scopedSlots,this.slots())}}),d&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=ve(a,n.scopedSlots,this.$slots)),u._scopeId?this._c=function(n,e,t,r){var i=Te(c,n,e,t,r,p);return i&&!o(i)&&(i.fnScopeId=u._scopeId,i.fnContext=a),i}:this._c=function(n,e,t,r){return Te(c,n,e,t,r,p)}}function vt(n,e,t,r,o){var a=gn(n);return a.fnContext=t,a.fnOptions=r,e.slot&&((a.data||(a.data={})).slot=e.slot),a}function gt(n,e){for(var t in e)n[T(t)]=e[t]}function bt(n){return n.name||n.__name||n._componentTag}pe(mt.prototype);var yt={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;yt.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},r=n.data.inlineTemplate;i(r)&&(t.render=r.render,t.staticRenderFns=r.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,Xe)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,o,a){var i=o.data.scopedSlots,s=n.$scopedSlots,c=!!(i&&!i.$stable||s!==r&&!s.$stable||i&&n.$scopedSlots.$key!==i.$key||!i&&n.$scopedSlots.$key),l=!!(a||n.$options._renderChildren||c),u=n.$vnode;n.$options._parentVnode=o,n.$vnode=o,n._vnode&&(n._vnode.parent=o),n.$options._renderChildren=a;var d=o.data.attrs||r;n._attrsProxy&&xe(n._attrsProxy,d,u.data&&u.data.attrs||r,n,"$attrs")&&(l=!0),n.$attrs=d,t=t||r;var p=n.$options._parentListeners;if(n._listenersProxy&&xe(n._listenersProxy,t,p||r,n,"$listeners"),n.$listeners=n.$options._parentListeners=t,Ke(n,t,p),e&&n.$options.props){Pn(!1);for(var h=n._props,f=n.$options._propKeys||[],m=0;m<f.length;m++){var v=f[m],g=n.$options.props;h[v]=Lt(v,g,e,n)}Pn(!0),n.$options.propsData=e}l&&(n.$slots=he(a,o.context),n.$forceUpdate())}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,r=n.componentInstance;r._isMounted||(r._isMounted=!0,et(r,"mounted")),n.data.keepAlive&&(t._isMounted?((e=r)._inactive=!1,rt.push(e)):nt(r,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(!(t&&(e._directInactive=!0,Qe(e))||e._inactive)){e._inactive=!0;for(var r=0;r<e.$children.length;r++)n(e.$children[r]);et(e,"deactivated")}}(e,!0):e.$destroy())}},xt=Object.keys(yt);function kt(n,e,t,c,l){if(!a(n)){var d=t.$options._base;if(u(n)&&(n=d.extend(n)),"function"==typeof n){var p;if(a(n.cid)&&void 0===(n=function(n,e){if(s(n.error)&&i(n.errorComp))return n.errorComp;if(i(n.resolved))return n.resolved;var t=we;if(t&&i(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t),s(n.loading)&&i(n.loadingComp))return n.loadingComp;if(t&&!i(n.owners)){var r=n.owners=[t],o=!0,c=null,l=null;t.$on("hook:destroyed",(function(){return k(r,t)}));var d=function(n){for(var e=0,t=r.length;e<t;e++)r[e].$forceUpdate();n&&(r.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},p=N((function(t){n.resolved=je(t,e),o?r.length=0:d(!0)})),h=N((function(e){i(n.errorComp)&&(n.error=!0,d(!0))})),f=n(p,h);return u(f)&&(m(f)?a(n.resolved)&&f.then(p,h):m(f.component)&&(f.component.then(p,h),i(f.error)&&(n.errorComp=je(f.error,e)),i(f.loading)&&(n.loadingComp=je(f.loading,e),0===f.delay?n.loading=!0:c=setTimeout((function(){c=null,a(n.resolved)&&a(n.error)&&(n.loading=!0,d(!1))}),f.delay||200)),i(f.timeout)&&(l=setTimeout((function(){l=null,a(n.resolved)&&h(null)}),f.timeout)))),o=!1,n.loading?n.loadingComp:n.resolved}}(p=n,d)))return function(n,e,t,r,o){var a=mn();return a.asyncFactory=n,a.asyncMeta={data:e,context:t,children:r,tag:o},a}(p,e,t,c,l);e=e||{},Wt(n),i(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",r=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var a=e.on||(e.on={}),s=a[r],c=e.model.callback;i(s)?(o(s)?-1===s.indexOf(c):s!==c)&&(a[r]=[c].concat(s)):a[r]=c}(n.options,e);var h=function(n,e,t){var r=e.options.props;if(!a(r)){var o={},s=n.attrs,c=n.props;if(i(s)||i(c))for(var l in r){var u=P(l);Zn(o,c,l,u,!0)||Zn(o,s,l,u,!1)}return o}}(e,n);if(s(n.options.functional))return function(n,e,t,a,s){var c=n.options,l={},u=c.props;if(i(u))for(var d in u)l[d]=Lt(d,u,e||r);else i(t.attrs)&&gt(l,t.attrs),i(t.props)&&gt(l,t.props);var p=new mt(t,l,s,a,n),h=c.render.call(null,p._c,p);if(h instanceof fn)return vt(h,t,p.parent,c,p);if(o(h)){for(var f=Kn(h)||[],m=new Array(f.length),v=0;v<f.length;v++)m[v]=vt(f[v],t,p.parent,c,p);return m}}(n,h,e,t,c);var f=e.on;if(e.on=e.nativeOn,s(n.options.abstract)){var v=e.slot;e={},v&&(e.slot=v)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<xt.length;t++){var r=xt[t],o=e[r],a=yt[r];o===a||o&&o._merged||(e[r]=o?_t(a,o):a)}}(e);var g=bt(n.options)||l;return new fn("vue-component-".concat(n.cid).concat(g?"-".concat(g):""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:h,listeners:f,tag:l,children:c},p)}}}function _t(n,e){var t=function(t,r){n(t,r),e(t,r)};return t._merged=!0,t}var wt=$,jt=q.optionMergeStrategies;function St(n,e,t){if(void 0===t&&(t=!0),!e)return n;for(var r,o,a,i=dn?Reflect.ownKeys(e):Object.keys(e),s=0;s<i.length;s++)"__ob__"!==(r=i[s])&&(o=n[r],a=e[r],t&&w(n,r)?o!==a&&p(o)&&p(a)&&St(o,a):$n(n,r,a));return n}function Tt(n,e,t){return t?function(){var r=l(e)?e.call(t,t):e,o=l(n)?n.call(t,t):n;return r?St(r,o):o}:e?n?function(){return St(l(e)?e.call(this,this):e,l(n)?n.call(this,this):n)}:e:n}function Ct(n,e){var t=e?n?n.concat(e):o(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function Et(n,e,t,r){var o=Object.create(n||null);return e?L(o,e):o}jt.data=function(n,e,t){return t?Tt(n,e,t):e&&"function"!=typeof e?n:Tt(n,e)},F.forEach((function(n){jt[n]=Ct})),B.forEach((function(n){jt[n+"s"]=Et})),jt.watch=function(n,e,t,r){if(n===rn&&(n=void 0),e===rn&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var a={};for(var i in L(a,n),e){var s=a[i],c=e[i];s&&!o(s)&&(s=[s]),a[i]=s?s.concat(c):o(c)?c:[c]}return a},jt.props=jt.methods=jt.inject=jt.computed=function(n,e,t,r){if(!n)return e;var o=Object.create(null);return L(o,n),e&&L(o,e),o},jt.provide=function(n,e){return n?function(){var t=Object.create(null);return St(t,l(n)?n.call(this):n),e&&St(t,l(e)?e.call(this):e,!1),t}:e};var Pt=function(n,e){return void 0===e?n:e};function zt(n,e,t){if(l(e)&&(e=e.options),function(n,e){var t=n.props;if(t){var r,a,i={};if(o(t))for(r=t.length;r--;)"string"==typeof(a=t[r])&&(i[T(a)]={type:null});else if(p(t))for(var s in t)a=t[s],i[T(s)]=p(a)?a:{type:a};else 0;n.props=i}}(e),function(n,e){var t=n.inject;if(t){var r=n.inject={};if(o(t))for(var a=0;a<t.length;a++)r[t[a]]={from:t[a]};else if(p(t))for(var i in t){var s=t[i];r[i]=p(s)?L({from:i},s):{from:s}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var r=e[t];l(r)&&(e[t]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(n=zt(n,e.extends,t)),e.mixins))for(var r=0,a=e.mixins.length;r<a;r++)n=zt(n,e.mixins[r],t);var i,s={};for(i in n)c(i);for(i in e)w(n,i)||c(i);function c(r){var o=jt[r]||Pt;s[r]=o(n[r],e[r],t,r)}return s}function Ot(n,e,t,r){if("string"==typeof t){var o=n[e];if(w(o,t))return o[t];var a=T(t);if(w(o,a))return o[a];var i=C(a);return w(o,i)?o[i]:o[t]||o[a]||o[i]}}function Lt(n,e,t,r){var o=e[n],a=!w(t,n),i=t[n],s=Rt(Boolean,o.type);if(s>-1)if(a&&!w(o,"default"))i=!1;else if(""===i||i===P(n)){var c=Rt(String,o.type);(c<0||s<c)&&(i=!0)}if(void 0===i){i=function(n,e,t){if(!w(e,"default"))return;var r=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return l(r)&&"Function"!==$t(e.type)?r.call(n):r}(r,o,n);var u=En;Pn(!0),Ln(i),Pn(u)}return i}var At=/^\s*function (\w+)/;function $t(n){var e=n&&n.toString().match(At);return e?e[1]:""}function It(n,e){return $t(n)===$t(e)}function Rt(n,e){if(!o(e))return It(e,n)?0:-1;for(var t=0,r=e.length;t<r;t++)if(It(e[t],n))return t;return-1}var Dt={enumerable:!0,configurable:!0,get:$,set:$};function Ut(n,e,t){Dt.get=function(){return this[e][t]},Dt.set=function(n){this[e][t]=n},Object.defineProperty(n,t,Dt)}function Nt(n){var e=n.$options;if(e.props&&function(n,e){var t=n.$options.propsData||{},r=n._props=Dn({}),o=n.$options._propKeys=[];n.$parent&&Pn(!1);var a=function(a){o.push(a);var i=Lt(a,e,t,n);An(r,a,i,void 0,!0),a in n||Ut(n,"_props",a)};for(var i in e)a(i);Pn(!0)}(n,e.props),function(n){var e=n.$options,t=e.setup;if(t){var r=n._setupContext=ye(n);hn(n),_n();var o=Ee(t,null,[n._props||Dn({}),r],n,"setup");if(wn(),hn(),l(o))e.render=o;else if(u(o))if(n._setupState=o,o.__sfc){var a=n._setupProxy={};for(var i in o)"__sfc"!==i&&Bn(a,o,i)}else for(var i in o)G(i)||Bn(n,o,i);else 0}}(n),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?$:z(e[t],n)}(n,e.methods),e.data)!function(n){var e=n.$options.data;p(e=n._data=l(e)?function(n,e){_n();try{return n.call(e,e)}catch(n){return Ce(n,e,"data()"),{}}finally{wn()}}(e,n):e||{})||(e={});var t=Object.keys(e),r=n.$options.props,o=(n.$options.methods,t.length);for(;o--;){var a=t[o];0,r&&w(r,a)||G(a)||Ut(n,"_data",a)}var i=Ln(e);i&&i.vmCount++}(n);else{var t=Ln(n._data={});t&&t.vmCount++}e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),r=sn();for(var o in e){var a=e[o],i=l(a)?a:a.get;0,r||(t[o]=new We(n,i||$,$,Mt)),o in n||Bt(n,o,a)}}(n,e.computed),e.watch&&e.watch!==rn&&function(n,e){for(var t in e){var r=e[t];if(o(r))for(var a=0;a<r.length;a++)Ht(n,t,r[a]);else Ht(n,t,r)}}(n,e.watch)}var Mt={lazy:!0};function Bt(n,e,t){var r=!sn();l(t)?(Dt.get=r?Ft(e):qt(t),Dt.set=$):(Dt.get=t.get?r&&!1!==t.cache?Ft(e):qt(t.get):$,Dt.set=t.set||$),Object.defineProperty(n,e,Dt)}function Ft(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),xn.target&&e.depend(),e.value}}function qt(n){return function(){return n.call(this,this)}}function Ht(n,e,t,r){return p(t)&&(r=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,r)}var Gt=0;function Wt(n){var e=n.options;if(n.super){var t=Wt(n.super);if(t!==n.superOptions){n.superOptions=t;var r=function(n){var e,t=n.options,r=n.sealedOptions;for(var o in t)t[o]!==r[o]&&(e||(e={}),e[o]=t[o]);return e}(n);r&&L(n.extendOptions,r),(e=n.options=zt(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function Vt(n){this._init(n)}function Jt(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,r=t.cid,o=n._Ctor||(n._Ctor={});if(o[r])return o[r];var a=bt(n)||bt(t.options);var i=function(n){this._init(n)};return(i.prototype=Object.create(t.prototype)).constructor=i,i.cid=e++,i.options=zt(t.options,n),i.super=t,i.options.props&&function(n){var e=n.options.props;for(var t in e)Ut(n.prototype,"_props",t)}(i),i.options.computed&&function(n){var e=n.options.computed;for(var t in e)Bt(n.prototype,t,e[t])}(i),i.extend=t.extend,i.mixin=t.mixin,i.use=t.use,B.forEach((function(n){i[n]=t[n]})),a&&(i.options.components[a]=i),i.superOptions=t.options,i.extendOptions=n,i.sealedOptions=L({},i.options),o[r]=i,i}}function Zt(n){return n&&(bt(n.Ctor.options)||n.tag)}function Kt(n,e){return o(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!h(n)&&n.test(e)}function Xt(n,e){var t=n.cache,r=n.keys,o=n._vnode,a=n.$vnode;for(var i in t){var s=t[i];if(s){var c=s.name;c&&!e(c)&&Yt(t,i,r,o)}}a.componentOptions.children=void 0}function Yt(n,e,t,r){var o=n[e];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),n[e]=null,k(t,e)}!function(n){n.prototype._init=function(n){var e=this;e._uid=Gt++,e._isVue=!0,e.__v_skip=!0,e._scope=new qn(!0),e._scope.parent=void 0,e._scope._vm=!0,n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),r=e._parentVnode;t.parent=e.parent,t._parentVnode=r;var o=r.componentOptions;t.propsData=o.propsData,t._parentListeners=o.listeners,t._renderChildren=o.children,t._componentTag=o.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=zt(Wt(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._provided=t?t._provided:Object.create(null),n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&Ke(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,o=t&&t.context;n.$slots=he(e._renderChildren,o),n.$scopedSlots=t?ve(n.$parent,t.data.scopedSlots,n.$slots):r,n._c=function(e,t,r,o){return Te(n,e,t,r,o,!1)},n.$createElement=function(e,t,r,o){return Te(n,e,t,r,o,!0)};var a=t&&t.data;An(n,"$attrs",a&&a.attrs||r,null,!0),An(n,"$listeners",e._parentListeners||r,null,!0)}(e),et(e,"beforeCreate",void 0,!1),function(n){var e=ft(n.$options.inject,n);e&&(Pn(!1),Object.keys(e).forEach((function(t){An(n,t,e[t])})),Pn(!0))}(e),Nt(e),function(n){var e=n.$options.provide;if(e){var t=l(e)?e.call(n):e;if(!u(t))return;for(var r=Hn(n),o=dn?Reflect.ownKeys(t):Object.keys(t),a=0;a<o.length;a++){var i=o[a];Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))}}}(e),et(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Vt),function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=$n,n.prototype.$delete=In,n.prototype.$watch=function(n,e,t){if(p(e))return Ht(this,n,e,t);(t=t||{}).user=!0;var r=new We(this,n,e,t);if(t.immediate){var o='callback for immediate watcher "'.concat(r.expression,'"');_n(),Ee(e,this,[r.value],this,o),wn()}return function(){r.teardown()}}}(Vt),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var r=this;if(o(n))for(var a=0,i=n.length;a<i;a++)r.$on(n[a],t);else(r._events[n]||(r._events[n]=[])).push(t),e.test(n)&&(r._hasHookEvent=!0);return r},n.prototype.$once=function(n,e){var t=this;function r(){t.$off(n,r),e.apply(t,arguments)}return r.fn=e,t.$on(n,r),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(o(n)){for(var r=0,a=n.length;r<a;r++)t.$off(n[r],e);return t}var i,s=t._events[n];if(!s)return t;if(!e)return t._events[n]=null,t;for(var c=s.length;c--;)if((i=s[c])===e||i.fn===e){s.splice(c,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?O(t):t;for(var r=O(arguments,1),o='event handler for "'.concat(n,'"'),a=0,i=t.length;a<i;a++)Ee(t[a],e,r,e,o)}return e}}(Vt),function(n){n.prototype._update=function(n,e){var t=this,r=t.$el,o=t._vnode,a=Ye(t);t._vnode=n,t.$el=o?t.__patch__(o,n):t.__patch__(t.$el,n,e,!1),a(),r&&(r.__vue__=null),t.$el&&(t.$el.__vue__=t);for(var i=t;i&&i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode;)i.$parent.$el=i.$el,i=i.$parent},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){et(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||k(e.$children,n),n._scope.stop(),n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),et(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(Vt),function(n){pe(n.prototype),n.prototype.$nextTick=function(n){return Me(n,this)},n.prototype._render=function(){var n=this,e=n.$options,t=e.render,r=e._parentVnode;r&&n._isMounted&&(n.$scopedSlots=ve(n.$parent,r.data.scopedSlots,n.$slots,n.$scopedSlots),n._slotsProxy&&_e(n._slotsProxy,n.$scopedSlots)),n.$vnode=r;var a,i=pn,s=we;try{hn(n),we=n,a=t.call(n._renderProxy,n.$createElement)}catch(e){Ce(e,n,"render"),a=n._vnode}finally{we=s,hn(i)}return o(a)&&1===a.length&&(a=a[0]),a instanceof fn||(a=mn()),a.parent=r,a}}(Vt);var Qt=[String,RegExp,Array],nr={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Qt,exclude:Qt,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,r=this.keyToCache;if(t){var o=t.tag,a=t.componentInstance,i=t.componentOptions;n[r]={name:Zt(i),tag:o,componentInstance:a},e.push(r),this.max&&e.length>parseInt(this.max)&&Yt(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)Yt(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){Xt(n,(function(n){return Kt(e,n)}))})),this.$watch("exclude",(function(e){Xt(n,(function(n){return!Kt(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=Se(n),t=e&&e.componentOptions;if(t){var r=Zt(t),o=this.include,a=this.exclude;if(o&&(!r||!Kt(o,r))||a&&r&&Kt(a,r))return e;var i=this.cache,s=this.keys,c=null==e.key?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):e.key;i[c]?(e.componentInstance=i[c].componentInstance,k(s,c),s.push(c)):(this.vnodeToCache=e,this.keyToCache=c),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return q}};Object.defineProperty(n,"config",e),n.util={warn:wt,extend:L,mergeOptions:zt,defineReactive:An},n.set=$n,n.delete=In,n.nextTick=Me,n.observable=function(n){return Ln(n),n},n.options=Object.create(null),B.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,L(n.options.components,nr),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=O(arguments,1);return t.unshift(this),l(n.install)?n.install.apply(n,t):l(n)&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=zt(this.options,n),this}}(n),Jt(n),function(n){B.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&p(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&l(t)&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(Vt),Object.defineProperty(Vt.prototype,"$isServer",{get:sn}),Object.defineProperty(Vt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Vt,"FunctionalRenderContext",{value:mt}),Vt.version="2.7.16";var er=y("style,class"),tr=y("input,textarea,option,select,progress"),rr=y("contenteditable,draggable,spellcheck"),or=y("events,caret,typing,plaintext-only"),ar=y("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),ir="http://www.w3.org/1999/xlink",sr=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},cr=function(n){return sr(n)?n.slice(6,n.length):""},lr=function(n){return null==n||!1===n};function ur(n){for(var e=n.data,t=n,r=n;i(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=dr(r.data,e));for(;i(t=t.parent);)t&&t.data&&(e=dr(e,t.data));return function(n,e){if(i(n)||i(e))return pr(n,hr(e));return""}(e.staticClass,e.class)}function dr(n,e){return{staticClass:pr(n.staticClass,e.staticClass),class:i(n.class)?[n.class,e.class]:e.class}}function pr(n,e){return n?e?n+" "+e:n:e||""}function hr(n){return Array.isArray(n)?function(n){for(var e,t="",r=0,o=n.length;r<o;r++)i(e=hr(n[r]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):u(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var fr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},mr=y("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),vr=y("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),gr=function(n){return mr(n)||vr(n)};var br=Object.create(null);var yr=y("text,number,password,search,email,tel,url");var xr=Object.freeze({__proto__:null,createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(fr[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),kr={create:function(n,e){_r(e)},update:function(n,e){n.data.ref!==e.data.ref&&(_r(n,!0),_r(e))},destroy:function(n){_r(n,!0)}};function _r(n,e){var t=n.data.ref;if(i(t)){var r=n.context,a=n.componentInstance||n.elm,s=e?null:a,c=e?void 0:a;if(l(t))Ee(t,r,[s],r,"template ref function");else{var u=n.data.refInFor,d="string"==typeof t||"number"==typeof t,p=Mn(t),h=r.$refs;if(d||p)if(u){var f=d?h[t]:t.value;e?o(f)&&k(f,a):o(f)?f.includes(a)||f.push(a):d?(h[t]=[a],wr(r,t,h[t])):t.value=[a]}else if(d){if(e&&h[t]!==a)return;h[t]=c,wr(r,t,s)}else if(p){if(e&&t.value!==a)return;t.value=s}else 0}}}function wr(n,e,t){var r=n._setupState;r&&w(r,e)&&(Mn(r[e])?r[e].value=t:r[e]=t)}var jr=new fn("",{},[]),Sr=["create","activate","update","remove","destroy"];function Tr(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&i(n.data)===i(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,r=i(t=n.data)&&i(t=t.attrs)&&t.type,o=i(t=e.data)&&i(t=t.attrs)&&t.type;return r===o||yr(r)&&yr(o)}(n,e)||s(n.isAsyncPlaceholder)&&a(e.asyncFactory.error))}function Cr(n,e,t){var r,o,a={};for(r=e;r<=t;++r)i(o=n[r].key)&&(a[o]=r);return a}var Er={create:Pr,update:Pr,destroy:function(n){Pr(n,jr)}};function Pr(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,r,o,a=n===jr,i=e===jr,s=Or(n.data.directives,n.context),c=Or(e.data.directives,e.context),l=[],u=[];for(t in c)r=s[t],o=c[t],r?(o.oldValue=r.value,o.oldArg=r.arg,Ar(o,"update",e,n),o.def&&o.def.componentUpdated&&u.push(o)):(Ar(o,"bind",e,n),o.def&&o.def.inserted&&l.push(o));if(l.length){var d=function(){for(var t=0;t<l.length;t++)Ar(l[t],"inserted",e,n)};a?Jn(e,"insert",d):d()}u.length&&Jn(e,"postpatch",(function(){for(var t=0;t<u.length;t++)Ar(u[t],"componentUpdated",e,n)}));if(!a)for(t in s)c[t]||Ar(s[t],"unbind",n,n,i)}(n,e)}var zr=Object.create(null);function Or(n,e){var t,r,o=Object.create(null);if(!n)return o;for(t=0;t<n.length;t++){if((r=n[t]).modifiers||(r.modifiers=zr),o[Lr(r)]=r,e._setupState&&e._setupState.__sfc){var a=r.def||Ot(e,"_setupState","v-"+r.name);r.def="function"==typeof a?{bind:a,update:a}:a}r.def=r.def||Ot(e.$options,"directives",r.name)}return o}function Lr(n){return n.rawName||"".concat(n.name,".").concat(Object.keys(n.modifiers||{}).join("."))}function Ar(n,e,t,r,o){var a=n.def&&n.def[e];if(a)try{a(t.elm,n,t,r,o)}catch(r){Ce(r,t.context,"directive ".concat(n.name," ").concat(e," hook"))}}var $r=[kr,Er];function Ir(n,e){var t=e.componentOptions;if(!(i(t)&&!1===t.Ctor.options.inheritAttrs||a(n.data.attrs)&&a(e.data.attrs))){var r,o,c=e.elm,l=n.data.attrs||{},u=e.data.attrs||{};for(r in(i(u.__ob__)||s(u._v_attr_proxy))&&(u=e.data.attrs=L({},u)),u)o=u[r],l[r]!==o&&Rr(c,r,o,e.data.pre);for(r in(X||Q)&&u.value!==l.value&&Rr(c,"value",u.value),l)a(u[r])&&(sr(r)?c.removeAttributeNS(ir,cr(r)):rr(r)||c.removeAttribute(r))}}function Rr(n,e,t,r){r||n.tagName.indexOf("-")>-1?Dr(n,e,t):ar(e)?lr(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):rr(e)?n.setAttribute(e,function(n,e){return lr(e)||"false"===e?"false":"contenteditable"===n&&or(e)?e:"true"}(e,t)):sr(e)?lr(t)?n.removeAttributeNS(ir,cr(e)):n.setAttributeNS(ir,e,t):Dr(n,e,t)}function Dr(n,e,t){if(lr(t))n.removeAttribute(e);else{if(X&&!Y&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var r=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",r)};n.addEventListener("input",r),n.__ieph=!0}n.setAttribute(e,t)}}var Ur={create:Ir,update:Ir};function Nr(n,e){var t=e.elm,r=e.data,o=n.data;if(!(a(r.staticClass)&&a(r.class)&&(a(o)||a(o.staticClass)&&a(o.class)))){var s=ur(e),c=t._transitionClasses;i(c)&&(s=pr(s,hr(c))),s!==t._prevClass&&(t.setAttribute("class",s),t._prevClass=s)}}var Mr,Br={create:Nr,update:Nr};function Fr(n,e,t){var r=Mr;return function o(){var a=e.apply(null,arguments);null!==a&&Gr(n,o,t,r)}}var qr=Le&&!(tn&&Number(tn[1])<=53);function Hr(n,e,t,r){if(qr){var o=ct,a=e;e=a._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=o||n.timeStamp<=0||n.target.ownerDocument!==document)return a.apply(this,arguments)}}Mr.addEventListener(n,e,on?{capture:t,passive:r}:t)}function Gr(n,e,t,r){(r||Mr).removeEventListener(n,e._wrapper||e,t)}function Wr(n,e){if(!a(n.data.on)||!a(e.data.on)){var t=e.data.on||{},r=n.data.on||{};Mr=e.elm||n.elm,function(n){if(i(n.__r)){var e=X?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}i(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),Vn(t,r,Hr,Gr,Fr,e.context),Mr=void 0}}var Vr,Jr={create:Wr,update:Wr,destroy:function(n){return Wr(n,jr)}};function Zr(n,e){if(!a(n.data.domProps)||!a(e.data.domProps)){var t,r,o=e.elm,c=n.data.domProps||{},l=e.data.domProps||{};for(t in(i(l.__ob__)||s(l._v_attr_proxy))&&(l=e.data.domProps=L({},l)),c)t in l||(o[t]="");for(t in l){if(r=l[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),r===c[t])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===t&&"PROGRESS"!==o.tagName){o._value=r;var u=a(r)?"":String(r);Kr(o,u)&&(o.value=u)}else if("innerHTML"===t&&vr(o.tagName)&&a(o.innerHTML)){(Vr=Vr||document.createElement("div")).innerHTML="<svg>".concat(r,"</svg>");for(var d=Vr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;d.firstChild;)o.appendChild(d.firstChild)}else if(r!==c[t])try{o[t]=r}catch(n){}}}}function Kr(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,r=n._vModifiers;if(i(r)){if(r.number)return b(t)!==b(e);if(r.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var Xr={create:Zr,update:Zr},Yr=j((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var r=n.split(t);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function Qr(n){var e=no(n.style);return n.staticStyle?L(n.staticStyle,e):e}function no(n){return Array.isArray(n)?A(n):"string"==typeof n?Yr(n):n}var eo,to=/^--/,ro=/\s*!important$/,oo=function(n,e,t){if(to.test(e))n.style.setProperty(e,t);else if(ro.test(t))n.style.setProperty(P(e),t.replace(ro,""),"important");else{var r=io(e);if(Array.isArray(t))for(var o=0,a=t.length;o<a;o++)n.style[r]=t[o];else n.style[r]=t}},ao=["Webkit","Moz","ms"],io=j((function(n){if(eo=eo||document.createElement("div").style,"filter"!==(n=T(n))&&n in eo)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<ao.length;t++){var r=ao[t]+e;if(r in eo)return r}}));function so(n,e){var t=e.data,r=n.data;if(!(a(t.staticStyle)&&a(t.style)&&a(r.staticStyle)&&a(r.style))){var o,s,c=e.elm,l=r.staticStyle,u=r.normalizedStyle||r.style||{},d=l||u,p=no(e.data.style)||{};e.data.normalizedStyle=i(p.__ob__)?L({},p):p;var h=function(n,e){var t,r={};if(e)for(var o=n;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(t=Qr(o.data))&&L(r,t);(t=Qr(n.data))&&L(r,t);for(var a=n;a=a.parent;)a.data&&(t=Qr(a.data))&&L(r,t);return r}(e,!0);for(s in d)a(h[s])&&oo(c,s,"");for(s in h)o=h[s],oo(c,s,null==o?"":o)}}var co={create:so,update:so},lo=/\s+/;function uo(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(lo).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" ".concat(n.getAttribute("class")||""," ");t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function po(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(lo).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" ".concat(n.getAttribute("class")||""," "),r=" "+e+" ";t.indexOf(r)>=0;)t=t.replace(r," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function ho(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&L(e,fo(n.name||"v")),L(e,n),e}return"string"==typeof n?fo(n):void 0}}var fo=j((function(n){return{enterClass:"".concat(n,"-enter"),enterToClass:"".concat(n,"-enter-to"),enterActiveClass:"".concat(n,"-enter-active"),leaveClass:"".concat(n,"-leave"),leaveToClass:"".concat(n,"-leave-to"),leaveActiveClass:"".concat(n,"-leave-active")}})),mo=Z&&!Y,vo="transition",go="transitionend",bo="animation",yo="animationend";mo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(vo="WebkitTransition",go="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(bo="WebkitAnimation",yo="webkitAnimationEnd"));var xo=Z?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function ko(n){xo((function(){xo(n)}))}function _o(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),uo(n,e))}function wo(n,e){n._transitionClasses&&k(n._transitionClasses,e),po(n,e)}function jo(n,e,t){var r=To(n,e),o=r.type,a=r.timeout,i=r.propCount;if(!o)return t();var s="transition"===o?go:yo,c=0,l=function(){n.removeEventListener(s,u),t()},u=function(e){e.target===n&&++c>=i&&l()};setTimeout((function(){c<i&&l()}),a+1),n.addEventListener(s,u)}var So=/\b(transform|all)(,|$)/;function To(n,e){var t,r=window.getComputedStyle(n),o=(r[vo+"Delay"]||"").split(", "),a=(r[vo+"Duration"]||"").split(", "),i=Co(o,a),s=(r[bo+"Delay"]||"").split(", "),c=(r[bo+"Duration"]||"").split(", "),l=Co(s,c),u=0,d=0;return"transition"===e?i>0&&(t="transition",u=i,d=a.length):"animation"===e?l>0&&(t="animation",u=l,d=c.length):d=(t=(u=Math.max(i,l))>0?i>l?"transition":"animation":null)?"transition"===t?a.length:c.length:0,{type:t,timeout:u,propCount:d,hasTransform:"transition"===t&&So.test(r[vo+"Property"])}}function Co(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return Eo(e)+Eo(n[t])})))}function Eo(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function Po(n,e){var t=n.elm;i(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var r=ho(n.data.transition);if(!a(r)&&!i(t._enterCb)&&1===t.nodeType){for(var o=r.css,s=r.type,c=r.enterClass,d=r.enterToClass,p=r.enterActiveClass,h=r.appearClass,f=r.appearToClass,m=r.appearActiveClass,v=r.beforeEnter,g=r.enter,y=r.afterEnter,x=r.enterCancelled,k=r.beforeAppear,_=r.appear,w=r.afterAppear,j=r.appearCancelled,S=r.duration,T=Xe,C=Xe.$vnode;C&&C.parent;)T=C.context,C=C.parent;var E=!T._isMounted||!n.isRootInsert;if(!E||_||""===_){var P=E&&h?h:c,z=E&&m?m:p,O=E&&f?f:d,L=E&&k||v,A=E&&l(_)?_:g,$=E&&w||y,I=E&&j||x,R=b(u(S)?S.enter:S);0;var D=!1!==o&&!Y,U=Lo(A),M=t._enterCb=N((function(){D&&(wo(t,O),wo(t,z)),M.cancelled?(D&&wo(t,P),I&&I(t)):$&&$(t),t._enterCb=null}));n.data.show||Jn(n,"insert",(function(){var e=t.parentNode,r=e&&e._pending&&e._pending[n.key];r&&r.tag===n.tag&&r.elm._leaveCb&&r.elm._leaveCb(),A&&A(t,M)})),L&&L(t),D&&(_o(t,P),_o(t,z),ko((function(){wo(t,P),M.cancelled||(_o(t,O),U||(Oo(R)?setTimeout(M,R):jo(t,s,M)))}))),n.data.show&&(e&&e(),A&&A(t,M)),D||U||M()}}}function zo(n,e){var t=n.elm;i(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var r=ho(n.data.transition);if(a(r)||1!==t.nodeType)return e();if(!i(t._leaveCb)){var o=r.css,s=r.type,c=r.leaveClass,l=r.leaveToClass,d=r.leaveActiveClass,p=r.beforeLeave,h=r.leave,f=r.afterLeave,m=r.leaveCancelled,v=r.delayLeave,g=r.duration,y=!1!==o&&!Y,x=Lo(h),k=b(u(g)?g.leave:g);0;var _=t._leaveCb=N((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),y&&(wo(t,l),wo(t,d)),_.cancelled?(y&&wo(t,c),m&&m(t)):(e(),f&&f(t)),t._leaveCb=null}));v?v(w):w()}function w(){_.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),p&&p(t),y&&(_o(t,c),_o(t,d),ko((function(){wo(t,c),_.cancelled||(_o(t,l),x||(Oo(k)?setTimeout(_,k):jo(t,s,_)))}))),h&&h(t,_),y||x||_())}}function Oo(n){return"number"==typeof n&&!isNaN(n)}function Lo(n){if(a(n))return!1;var e=n.fns;return i(e)?Lo(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function Ao(n,e){!0!==e.data.show&&Po(e)}var $o=function(n){var e,t,r={},l=n.modules,u=n.nodeOps;for(e=0;e<Sr.length;++e)for(r[Sr[e]]=[],t=0;t<l.length;++t)i(l[t][Sr[e]])&&r[Sr[e]].push(l[t][Sr[e]]);function d(n){var e=u.parentNode(n);i(e)&&u.removeChild(e,n)}function p(n,e,t,o,a,c,l){if(i(n.elm)&&i(c)&&(n=c[l]=gn(n)),n.isRootInsert=!a,!function(n,e,t,o){var a=n.data;if(i(a)){var c=i(n.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(n,!1),i(n.componentInstance))return h(n,e),f(t,n.elm,o),s(c)&&function(n,e,t,o){var a,s=n;for(;s.componentInstance;)if(s=s.componentInstance._vnode,i(a=s.data)&&i(a=a.transition)){for(a=0;a<r.activate.length;++a)r.activate[a](jr,s);e.push(s);break}f(t,n.elm,o)}(n,e,t,o),!0}}(n,e,t,o)){var d=n.data,p=n.children,v=n.tag;i(v)?(n.elm=n.ns?u.createElementNS(n.ns,v):u.createElement(v,n),b(n),m(n,p,e),i(d)&&g(n,e),f(t,n.elm,o)):s(n.isComment)?(n.elm=u.createComment(n.text),f(t,n.elm,o)):(n.elm=u.createTextNode(n.text),f(t,n.elm,o))}}function h(n,e){i(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,v(n)?(g(n,e),b(n)):(_r(n),e.push(n))}function f(n,e,t){i(n)&&(i(t)?u.parentNode(t)===n&&u.insertBefore(n,e,t):u.appendChild(n,e))}function m(n,e,t){if(o(e)){0;for(var r=0;r<e.length;++r)p(e[r],t,n.elm,null,!0,e,r)}else c(n.text)&&u.appendChild(n.elm,u.createTextNode(String(n.text)))}function v(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return i(n.tag)}function g(n,t){for(var o=0;o<r.create.length;++o)r.create[o](jr,n);i(e=n.data.hook)&&(i(e.create)&&e.create(jr,n),i(e.insert)&&t.push(n))}function b(n){var e;if(i(e=n.fnScopeId))u.setStyleScope(n.elm,e);else for(var t=n;t;)i(e=t.context)&&i(e=e.$options._scopeId)&&u.setStyleScope(n.elm,e),t=t.parent;i(e=Xe)&&e!==n.context&&e!==n.fnContext&&i(e=e.$options._scopeId)&&u.setStyleScope(n.elm,e)}function x(n,e,t,r,o,a){for(;r<=o;++r)p(t[r],a,n,e,!1,t,r)}function k(n){var e,t,o=n.data;if(i(o))for(i(e=o.hook)&&i(e=e.destroy)&&e(n),e=0;e<r.destroy.length;++e)r.destroy[e](n);if(i(e=n.children))for(t=0;t<n.children.length;++t)k(n.children[t])}function _(n,e,t){for(;e<=t;++e){var r=n[e];i(r)&&(i(r.tag)?(w(r),k(r)):d(r.elm))}}function w(n,e){if(i(e)||i(n.data)){var t,o=r.remove.length+1;for(i(e)?e.listeners+=o:e=function(n,e){function t(){0==--t.listeners&&d(n)}return t.listeners=e,t}(n.elm,o),i(t=n.componentInstance)&&i(t=t._vnode)&&i(t.data)&&w(t,e),t=0;t<r.remove.length;++t)r.remove[t](n,e);i(t=n.data.hook)&&i(t=t.remove)?t(n,e):e()}else d(n.elm)}function j(n,e,t,r){for(var o=t;o<r;o++){var a=e[o];if(i(a)&&Tr(n,a))return o}}function S(n,e,t,o,c,l){if(n!==e){i(e.elm)&&i(o)&&(e=o[c]=gn(e));var d=e.elm=n.elm;if(s(n.isAsyncPlaceholder))i(e.asyncFactory.resolved)?E(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(n.isStatic)&&e.key===n.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=n.componentInstance;else{var h,f=e.data;i(f)&&i(h=f.hook)&&i(h=h.prepatch)&&h(n,e);var m=n.children,g=e.children;if(i(f)&&v(e)){for(h=0;h<r.update.length;++h)r.update[h](n,e);i(h=f.hook)&&i(h=h.update)&&h(n,e)}a(e.text)?i(m)&&i(g)?m!==g&&function(n,e,t,r,o){var s,c,l,d=0,h=0,f=e.length-1,m=e[0],v=e[f],g=t.length-1,b=t[0],y=t[g],k=!o;for(0;d<=f&&h<=g;)a(m)?m=e[++d]:a(v)?v=e[--f]:Tr(m,b)?(S(m,b,r,t,h),m=e[++d],b=t[++h]):Tr(v,y)?(S(v,y,r,t,g),v=e[--f],y=t[--g]):Tr(m,y)?(S(m,y,r,t,g),k&&u.insertBefore(n,m.elm,u.nextSibling(v.elm)),m=e[++d],y=t[--g]):Tr(v,b)?(S(v,b,r,t,h),k&&u.insertBefore(n,v.elm,m.elm),v=e[--f],b=t[++h]):(a(s)&&(s=Cr(e,d,f)),a(c=i(b.key)?s[b.key]:j(b,e,d,f))?p(b,r,n,m.elm,!1,t,h):Tr(l=e[c],b)?(S(l,b,r,t,h),e[c]=void 0,k&&u.insertBefore(n,l.elm,m.elm)):p(b,r,n,m.elm,!1,t,h),b=t[++h]);d>f?x(n,a(t[g+1])?null:t[g+1].elm,t,h,g,r):h>g&&_(e,d,f)}(d,m,g,t,l):i(g)?(i(n.text)&&u.setTextContent(d,""),x(d,null,g,0,g.length-1,t)):i(m)?_(m,0,m.length-1):i(n.text)&&u.setTextContent(d,""):n.text!==e.text&&u.setTextContent(d,e.text),i(f)&&i(h=f.hook)&&i(h=h.postpatch)&&h(n,e)}}}function T(n,e,t){if(s(t)&&i(n.parent))n.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var C=y("attrs,class,staticClass,staticStyle,key");function E(n,e,t,r){var o,a=e.tag,c=e.data,l=e.children;if(r=r||c&&c.pre,e.elm=n,s(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(c)&&(i(o=c.hook)&&i(o=o.init)&&o(e,!0),i(o=e.componentInstance)))return h(e,t),!0;if(i(a)){if(i(l))if(n.hasChildNodes())if(i(o=c)&&i(o=o.domProps)&&i(o=o.innerHTML)){if(o!==n.innerHTML)return!1}else{for(var u=!0,d=n.firstChild,p=0;p<l.length;p++){if(!d||!E(d,l[p],t,r)){u=!1;break}d=d.nextSibling}if(!u||d)return!1}else m(e,l,t);if(i(c)){var f=!1;for(var v in c)if(!C(v)){f=!0,g(e,t);break}!f&&c.class&&qe(c.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,o){if(!a(e)){var c,l=!1,d=[];if(a(n))l=!0,p(e,d);else{var h=i(n.nodeType);if(!h&&Tr(n,e))S(n,e,d,null,null,o);else{if(h){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),s(t)&&E(n,e,d))return T(e,d,!0),n;c=n,n=new fn(u.tagName(c).toLowerCase(),{},[],void 0,c)}var f=n.elm,m=u.parentNode(f);if(p(e,d,f._leaveCb?null:m,u.nextSibling(f)),i(e.parent))for(var g=e.parent,b=v(e);g;){for(var y=0;y<r.destroy.length;++y)r.destroy[y](g);if(g.elm=e.elm,b){for(var x=0;x<r.create.length;++x)r.create[x](jr,g);var w=g.data.hook.insert;if(w.merged)for(var j=w.fns.slice(1),C=0;C<j.length;C++)j[C]()}else _r(g);g=g.parent}i(m)?_([n],0,0):i(n.tag)&&k(n)}}return T(e,d,l),e.elm}i(n)&&k(n)}}({nodeOps:xr,modules:[Ur,Br,Jr,Xr,co,Z?{create:Ao,activate:Ao,remove:function(n,e){!0!==n.data.show?zo(n,e):e()}}:{}].concat($r)});Y&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&Fo(n,"input")}));var Io={inserted:function(n,e,t,r){"select"===t.tag?(r.elm&&!r.elm._vOptions?Jn(t,"postpatch",(function(){Io.componentUpdated(n,e,t)})):Ro(n,e,t.context),n._vOptions=[].map.call(n.options,No)):("textarea"===t.tag||yr(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",Mo),n.addEventListener("compositionend",Bo),n.addEventListener("change",Bo),Y&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){Ro(n,e,t.context);var r=n._vOptions,o=n._vOptions=[].map.call(n.options,No);if(o.some((function(n,e){return!D(n,r[e])})))(n.multiple?e.value.some((function(n){return Uo(n,o)})):e.value!==e.oldValue&&Uo(e.value,o))&&Fo(n,"change")}}};function Ro(n,e,t){Do(n,e,t),(X||Q)&&setTimeout((function(){Do(n,e,t)}),0)}function Do(n,e,t){var r=e.value,o=n.multiple;if(!o||Array.isArray(r)){for(var a,i,s=0,c=n.options.length;s<c;s++)if(i=n.options[s],o)a=U(r,No(i))>-1,i.selected!==a&&(i.selected=a);else if(D(No(i),r))return void(n.selectedIndex!==s&&(n.selectedIndex=s));o||(n.selectedIndex=-1)}}function Uo(n,e){return e.every((function(e){return!D(e,n)}))}function No(n){return"_value"in n?n._value:n.value}function Mo(n){n.target.composing=!0}function Bo(n){n.target.composing&&(n.target.composing=!1,Fo(n.target,"input"))}function Fo(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function qo(n){return!n.componentInstance||n.data&&n.data.transition?n:qo(n.componentInstance._vnode)}var Ho={model:Io,show:{bind:function(n,e,t){var r=e.value,o=(t=qo(t)).data&&t.data.transition,a=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;r&&o?(t.data.show=!0,Po(t,(function(){n.style.display=a}))):n.style.display=r?a:"none"},update:function(n,e,t){var r=e.value;!r!=!e.oldValue&&((t=qo(t)).data&&t.data.transition?(t.data.show=!0,r?Po(t,(function(){n.style.display=n.__vOriginalDisplay})):zo(t,(function(){n.style.display="none"}))):n.style.display=r?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,r,o){o||(n.style.display=n.__vOriginalDisplay)}}},Go={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Wo(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?Wo(Se(e.children)):n}function Vo(n){var e={},t=n.$options;for(var r in t.propsData)e[r]=n[r];var o=t._parentListeners;for(var r in o)e[T(r)]=o[r];return e}function Jo(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var Zo=function(n){return n.tag||me(n)},Ko=function(n){return"show"===n.name},Xo={name:"transition",props:Go,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter(Zo)).length){0;var r=this.mode;0;var o=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return o;var a=Wo(o);if(!a)return o;if(this._leaving)return Jo(n,o);var i="__transition-".concat(this._uid,"-");a.key=null==a.key?a.isComment?i+"comment":i+a.tag:c(a.key)?0===String(a.key).indexOf(i)?a.key:i+a.key:a.key;var s=(a.data||(a.data={})).transition=Vo(this),l=this._vnode,u=Wo(l);if(a.data.directives&&a.data.directives.some(Ko)&&(a.data.show=!0),u&&u.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(a,u)&&!me(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var d=u.data.transition=L({},s);if("out-in"===r)return this._leaving=!0,Jn(d,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Jo(n,o);if("in-out"===r){if(me(a))return l;var p,h=function(){p()};Jn(s,"afterEnter",h),Jn(s,"enterCancelled",h),Jn(d,"delayLeave",(function(n){p=n}))}}return o}}},Yo=L({tag:String,moveClass:String},Go);function Qo(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function na(n){n.data.newPos=n.elm.getBoundingClientRect()}function ea(n){var e=n.data.pos,t=n.data.newPos,r=e.left-t.left,o=e.top-t.top;if(r||o){n.data.moved=!0;var a=n.elm.style;a.transform=a.WebkitTransform="translate(".concat(r,"px,").concat(o,"px)"),a.transitionDuration="0s"}}delete Yo.mode;var ta={Transition:Xo,TransitionGroup:{props:Yo,beforeMount:function(){var n=this,e=this._update;this._update=function(t,r){var o=Ye(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,o(),e.call(n,t,r)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],a=this.children=[],i=Vo(this),s=0;s<o.length;s++){if((u=o[s]).tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))a.push(u),t[u.key]=u,(u.data||(u.data={})).transition=i;else;}if(r){var c=[],l=[];for(s=0;s<r.length;s++){var u;(u=r[s]).data.transition=i,u.data.pos=u.elm.getBoundingClientRect(),t[u.key]?c.push(u):l.push(u)}this.kept=n(e,null,c),this.removed=l}return n(e,null,a)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(Qo),n.forEach(na),n.forEach(ea),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,r=t.style;_o(t,e),r.transform=r.WebkitTransform=r.transitionDuration="",t.addEventListener(go,t._moveCb=function n(r){r&&r.target!==t||r&&!/transform$/.test(r.propertyName)||(t.removeEventListener(go,n),t._moveCb=null,wo(t,e))})}})))},methods:{hasMove:function(n,e){if(!mo)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){po(t,n)})),uo(t,e),t.style.display="none",this.$el.appendChild(t);var r=To(t);return this.$el.removeChild(t),this._hasMove=r.hasTransform}}}};function ra(n,e){for(var t in e)n[t]=e[t];return n}Vt.config.mustUseProp=function(n,e,t){return"value"===t&&tr(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},Vt.config.isReservedTag=gr,Vt.config.isReservedAttr=er,Vt.config.getTagNamespace=function(n){return vr(n)?"svg":"math"===n?"math":void 0},Vt.config.isUnknownElement=function(n){if(!Z)return!0;if(gr(n))return!1;if(n=n.toLowerCase(),null!=br[n])return br[n];var e=document.createElement(n);return n.indexOf("-")>-1?br[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:br[n]=/HTMLUnknownElement/.test(e.toString())},L(Vt.options.directives,Ho),L(Vt.options.components,ta),Vt.prototype.__patch__=Z?$o:$,Vt.prototype.$mount=function(n,e){return function(n,e,t){var r;n.$el=e,n.$options.render||(n.$options.render=mn),et(n,"beforeMount"),r=function(){n._update(n._render(),t)},new We(n,r,$,{before:function(){n._isMounted&&!n._isDestroyed&&et(n,"beforeUpdate")}},!0),t=!1;var o=n._preWatchers;if(o)for(var a=0;a<o.length;a++)o[a].run();return null==n.$vnode&&(n._isMounted=!0,et(n,"mounted")),n}(this,n=n&&Z?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},Z&&setTimeout((function(){q.devtools&&cn&&cn.emit("init",Vt)}),0);var oa=/[!'()*]/g,aa=function(n){return"%"+n.charCodeAt(0).toString(16)},ia=/%2C/g,sa=function(n){return encodeURIComponent(n).replace(oa,aa).replace(ia,",")};function ca(n){try{return decodeURIComponent(n)}catch(n){0}return n}var la=function(n){return null==n||"object"==typeof n?n:String(n)};function ua(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),r=ca(t.shift()),o=t.length>0?ca(t.join("=")):null;void 0===e[r]?e[r]=o:Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]})),e):e}function da(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return sa(e);if(Array.isArray(t)){var r=[];return t.forEach((function(n){void 0!==n&&(null===n?r.push(sa(e)):r.push(sa(e)+"="+sa(n)))})),r.join("&")}return sa(e)+"="+sa(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var pa=/\/?$/;function ha(n,e,t,r){var o=r&&r.options.stringifyQuery,a=e.query||{};try{a=fa(a)}catch(n){}var i={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:a,params:e.params||{},fullPath:ga(e,o),matched:n?va(n):[]};return t&&(i.redirectedFrom=ga(t,o)),Object.freeze(i)}function fa(n){if(Array.isArray(n))return n.map(fa);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=fa(n[t]);return e}return n}var ma=ha(null,{path:"/"});function va(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function ga(n,e){var t=n.path,r=n.query;void 0===r&&(r={});var o=n.hash;return void 0===o&&(o=""),(t||"/")+(e||da)(r)+o}function ba(n,e,t){return e===ma?n===e:!!e&&(n.path&&e.path?n.path.replace(pa,"")===e.path.replace(pa,"")&&(t||n.hash===e.hash&&ya(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&ya(n.query,e.query)&&ya(n.params,e.params))))}function ya(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),r=Object.keys(e).sort();return t.length===r.length&&t.every((function(t,o){var a=n[t];if(r[o]!==t)return!1;var i=e[t];return null==a||null==i?a===i:"object"==typeof a&&"object"==typeof i?ya(a,i):String(a)===String(i)}))}function xa(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var r in t.instances){var o=t.instances[r],a=t.enteredCbs[r];if(o&&a){delete t.enteredCbs[r];for(var i=0;i<a.length;i++)o._isBeingDestroyed||a[i](o)}}}}var ka={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,r=e.children,o=e.parent,a=e.data;a.routerView=!0;for(var i=o.$createElement,s=t.name,c=o.$route,l=o._routerViewCache||(o._routerViewCache={}),u=0,d=!1;o&&o._routerRoot!==o;){var p=o.$vnode?o.$vnode.data:{};p.routerView&&u++,p.keepAlive&&o._directInactive&&o._inactive&&(d=!0),o=o.$parent}if(a.routerViewDepth=u,d){var h=l[s],f=h&&h.component;return f?(h.configProps&&_a(f,a,h.route,h.configProps),i(f,a,r)):i()}var m=c.matched[u],v=m&&m.components[s];if(!m||!v)return l[s]=null,i();l[s]={component:v},a.registerRouteInstance=function(n,e){var t=m.instances[s];(e&&t!==n||!e&&t===n)&&(m.instances[s]=e)},(a.hook||(a.hook={})).prepatch=function(n,e){m.instances[s]=e.componentInstance},a.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==m.instances[s]&&(m.instances[s]=n.componentInstance),xa(c)};var g=m.props&&m.props[s];return g&&(ra(l[s],{route:c,configProps:g}),_a(v,a,c,g)),i(v,a,r)}};function _a(n,e,t,r){var o=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,r);if(o){o=e.props=ra({},o);var a=e.attrs=e.attrs||{};for(var i in o)n.props&&i in n.props||(a[i]=o[i],delete o[i])}}function wa(n,e,t){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;var o=e.split("/");t&&o[o.length-1]||o.pop();for(var a=n.replace(/^\//,"").split("/"),i=0;i<a.length;i++){var s=a[i];".."===s?o.pop():"."!==s&&o.push(s)}return""!==o[0]&&o.unshift(""),o.join("/")}function ja(n){return n.replace(/\/(?:\s*\/)+/g,"/")}var Sa=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},Ta=Ma,Ca=La,Ea=function(n,e){return $a(La(n,e),e)},Pa=$a,za=Na,Oa=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function La(n,e){for(var t,r=[],o=0,a=0,i="",s=e&&e.delimiter||"/";null!=(t=Oa.exec(n));){var c=t[0],l=t[1],u=t.index;if(i+=n.slice(a,u),a=u+c.length,l)i+=l[1];else{var d=n[a],p=t[2],h=t[3],f=t[4],m=t[5],v=t[6],g=t[7];i&&(r.push(i),i="");var b=null!=p&&null!=d&&d!==p,y="+"===v||"*"===v,x="?"===v||"*"===v,k=t[2]||s,_=f||m;r.push({name:h||o++,prefix:p||"",delimiter:k,optional:x,repeat:y,partial:b,asterisk:!!g,pattern:_?Ra(_):g?".*":"[^"+Ia(k)+"]+?"})}}return a<n.length&&(i+=n.substr(a)),i&&r.push(i),r}function Aa(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function $a(n,e){for(var t=new Array(n.length),r=0;r<n.length;r++)"object"==typeof n[r]&&(t[r]=new RegExp("^(?:"+n[r].pattern+")$",Ua(e)));return function(e,r){for(var o="",a=e||{},i=(r||{}).pretty?Aa:encodeURIComponent,s=0;s<n.length;s++){var c=n[s];if("string"!=typeof c){var l,u=a[c.name];if(null==u){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(Sa(u)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<u.length;d++){if(l=i(u[d]),!t[s].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(l)+"`");o+=(0===d?c.prefix:c.delimiter)+l}}else{if(l=c.asterisk?encodeURI(u).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):i(u),!t[s].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+l+'"');o+=c.prefix+l}}else o+=c}return o}}function Ia(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Ra(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function Da(n,e){return n.keys=e,n}function Ua(n){return n&&n.sensitive?"":"i"}function Na(n,e,t){Sa(e)||(t=e||t,e=[]);for(var r=(t=t||{}).strict,o=!1!==t.end,a="",i=0;i<n.length;i++){var s=n[i];if("string"==typeof s)a+=Ia(s);else{var c=Ia(s.prefix),l="(?:"+s.pattern+")";e.push(s),s.repeat&&(l+="(?:"+c+l+")*"),a+=l=s.optional?s.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")"}}var u=Ia(t.delimiter||"/"),d=a.slice(-u.length)===u;return r||(a=(d?a.slice(0,-u.length):a)+"(?:"+u+"(?=$))?"),a+=o?"$":r&&d?"":"(?="+u+"|$)",Da(new RegExp("^"+a,Ua(t)),e)}function Ma(n,e,t){return Sa(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Da(n,e)}(n,e):Sa(n)?function(n,e,t){for(var r=[],o=0;o<n.length;o++)r.push(Ma(n[o],e,t).source);return Da(new RegExp("(?:"+r.join("|")+")",Ua(t)),e)}(n,e,t):function(n,e,t){return Na(La(n,t),e,t)}(n,e,t)}Ta.parse=Ca,Ta.compile=Ea,Ta.tokensToFunction=Pa,Ta.tokensToRegExp=za;var Ba=Object.create(null);function Fa(n,e,t){e=e||{};try{var r=Ba[n]||(Ba[n]=Ta.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function qa(n,e,t,r){var o="string"==typeof n?{path:n}:n;if(o._normalized)return o;if(o.name){var a=(o=ra({},n)).params;return a&&"object"==typeof a&&(o.params=ra({},a)),o}if(!o.path&&o.params&&e){(o=ra({},o))._normalized=!0;var i=ra(ra({},e.params),o.params);if(e.name)o.name=e.name,o.params=i;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;o.path=Fa(s,i,e.path)}else 0;return o}var c=function(n){var e="",t="",r=n.indexOf("#");r>=0&&(e=n.slice(r),n=n.slice(0,r));var o=n.indexOf("?");return o>=0&&(t=n.slice(o+1),n=n.slice(0,o)),{path:n,query:t,hash:e}}(o.path||""),l=e&&e.path||"/",u=c.path?wa(c.path,l,t||o.append):l,d=function(n,e,t){void 0===e&&(e={});var r,o=t||ua;try{r=o(n||"")}catch(n){r={}}for(var a in e){var i=e[a];r[a]=Array.isArray(i)?i.map(la):la(i)}return r}(c.query,o.query,r&&r.options.parseQuery),p=o.hash||c.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:u,query:d,hash:p}}var Ha,Ga=function(){},Wa={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,r=this.$route,o=t.resolve(this.to,r,this.append),a=o.location,i=o.route,s=o.href,c={},l=t.options.linkActiveClass,u=t.options.linkExactActiveClass,d=null==l?"router-link-active":l,p=null==u?"router-link-exact-active":u,h=null==this.activeClass?d:this.activeClass,f=null==this.exactActiveClass?p:this.exactActiveClass,m=i.redirectedFrom?ha(null,qa(i.redirectedFrom),null,t):i;c[f]=ba(r,m,this.exactPath),c[h]=this.exact||this.exactPath?c[f]:function(n,e){return 0===n.path.replace(pa,"/").indexOf(e.path.replace(pa,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(r,m);var v=c[f]?this.ariaCurrentValue:null,g=function(n){Va(n)&&(e.replace?t.replace(a,Ga):t.push(a,Ga))},b={click:Va};Array.isArray(this.event)?this.event.forEach((function(n){b[n]=g})):b[this.event]=g;var y={class:c},x=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:s,route:i,navigate:g,isActive:c[h],isExactActive:c[f]});if(x){if(1===x.length)return x[0];if(x.length>1||!x.length)return 0===x.length?n():n("span",{},x)}if("a"===this.tag)y.on=b,y.attrs={href:s,"aria-current":v};else{var k=function n(e){var t;if(e)for(var r=0;r<e.length;r++){if("a"===(t=e[r]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(k){k.isStatic=!1;var _=k.data=ra({},k.data);for(var w in _.on=_.on||{},_.on){var j=_.on[w];w in b&&(_.on[w]=Array.isArray(j)?j:[j])}for(var S in b)S in _.on?_.on[S].push(b[S]):_.on[S]=g;var T=k.data.attrs=ra({},k.data.attrs);T.href=s,T["aria-current"]=v}else y.on=b}return n(this.tag,y,this.$slots.default)}};function Va(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var Ja="undefined"!=typeof window;function Za(n,e,t,r,o){var a=e||[],i=t||Object.create(null),s=r||Object.create(null);n.forEach((function(n){!function n(e,t,r,o,a,i){var s=o.path,c=o.name;0;var l=o.pathToRegexpOptions||{},u=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return ja(e.path+"/"+n)}(s,a,l.strict);"boolean"==typeof o.caseSensitive&&(l.sensitive=o.caseSensitive);var d={path:u,regex:Ka(u,l),components:o.components||{default:o.component},alias:o.alias?"string"==typeof o.alias?[o.alias]:o.alias:[],instances:{},enteredCbs:{},name:c,parent:a,matchAs:i,redirect:o.redirect,beforeEnter:o.beforeEnter,meta:o.meta||{},props:null==o.props?{}:o.components?o.props:{default:o.props}};o.children&&o.children.forEach((function(o){var a=i?ja(i+"/"+o.path):void 0;n(e,t,r,o,d,a)}));t[d.path]||(e.push(d.path),t[d.path]=d);if(void 0!==o.alias)for(var p=Array.isArray(o.alias)?o.alias:[o.alias],h=0;h<p.length;++h){0;var f={path:p[h],children:o.children};n(e,t,r,f,a,d.path||"/")}c&&(r[c]||(r[c]=d))}(a,i,s,n,o)}));for(var c=0,l=a.length;c<l;c++)"*"===a[c]&&(a.push(a.splice(c,1)[0]),l--,c--);return{pathList:a,pathMap:i,nameMap:s}}function Ka(n,e){return Ta(n,[],e)}function Xa(n,e){var t=Za(n),r=t.pathList,o=t.pathMap,a=t.nameMap;function i(n,t,i){var s=qa(n,t,!1,e),l=s.name;if(l){var u=a[l];if(!u)return c(null,s);var d=u.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof s.params&&(s.params={}),t&&"object"==typeof t.params)for(var p in t.params)!(p in s.params)&&d.indexOf(p)>-1&&(s.params[p]=t.params[p]);return s.path=Fa(u.path,s.params),c(u,s,i)}if(s.path){s.params={};for(var h=0;h<r.length;h++){var f=r[h],m=o[f];if(Ya(m.regex,s.path,s.params))return c(m,s,i)}}return c(null,s)}function s(n,t){var r=n.redirect,o="function"==typeof r?r(ha(n,t,null,e)):r;if("string"==typeof o&&(o={path:o}),!o||"object"!=typeof o)return c(null,t);var s=o,l=s.name,u=s.path,d=t.query,p=t.hash,h=t.params;if(d=s.hasOwnProperty("query")?s.query:d,p=s.hasOwnProperty("hash")?s.hash:p,h=s.hasOwnProperty("params")?s.params:h,l){a[l];return i({_normalized:!0,name:l,query:d,hash:p,params:h},void 0,t)}if(u){var f=function(n,e){return wa(n,e.parent?e.parent.path:"/",!0)}(u,n);return i({_normalized:!0,path:Fa(f,h),query:d,hash:p},void 0,t)}return c(null,t)}function c(n,t,r){return n&&n.redirect?s(n,r||t):n&&n.matchAs?function(n,e,t){var r=i({_normalized:!0,path:Fa(t,e.params)});if(r){var o=r.matched,a=o[o.length-1];return e.params=r.params,c(a,e)}return c(null,e)}(0,t,n.matchAs):ha(n,t,r,e)}return{match:i,addRoute:function(n,e){var t="object"!=typeof n?a[n]:void 0;Za([e||n],r,o,a,t),t&&t.alias.length&&Za(t.alias.map((function(n){return{path:n,children:[e]}})),r,o,a,t)},getRoutes:function(){return r.map((function(n){return o[n]}))},addRoutes:function(n){Za(n,r,o,a)}}}function Ya(n,e,t){var r=e.match(n);if(!r)return!1;if(!t)return!0;for(var o=1,a=r.length;o<a;++o){var i=n.keys[o-1];i&&(t[i.name||"pathMatch"]="string"==typeof r[o]?ca(r[o]):r[o])}return!0}var Qa=Ja&&window.performance&&window.performance.now?window.performance:Date;function ni(){return Qa.now().toFixed(3)}var ei=ni();function ti(){return ei}function ri(n){return ei=n}var oi=Object.create(null);function ai(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=ra({},window.history.state);return t.key=ti(),window.history.replaceState(t,"",e),window.addEventListener("popstate",ci),function(){window.removeEventListener("popstate",ci)}}function ii(n,e,t,r){if(n.app){var o=n.options.scrollBehavior;o&&n.app.$nextTick((function(){var a=function(){var n=ti();if(n)return oi[n]}(),i=o.call(n,e,t,r?a:null);i&&("function"==typeof i.then?i.then((function(n){hi(n,a)})).catch((function(n){0})):hi(i,a))}))}}function si(){var n=ti();n&&(oi[n]={x:window.pageXOffset,y:window.pageYOffset})}function ci(n){si(),n.state&&n.state.key&&ri(n.state.key)}function li(n){return di(n.x)||di(n.y)}function ui(n){return{x:di(n.x)?n.x:window.pageXOffset,y:di(n.y)?n.y:window.pageYOffset}}function di(n){return"number"==typeof n}var pi=/^#\d/;function hi(n,e){var t,r="object"==typeof n;if(r&&"string"==typeof n.selector){var o=pi.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(o){var a=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:r.left-t.left-e.x,y:r.top-t.top-e.y}}(o,a={x:di((t=a).x)?t.x:0,y:di(t.y)?t.y:0})}else li(n)&&(e=ui(n))}else r&&li(n)&&(e=ui(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var fi,mi=Ja&&((-1===(fi=window.navigator.userAgent).indexOf("Android 2.")&&-1===fi.indexOf("Android 4.0")||-1===fi.indexOf("Mobile Safari")||-1!==fi.indexOf("Chrome")||-1!==fi.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function vi(n,e){si();var t=window.history;try{if(e){var r=ra({},t.state);r.key=ti(),t.replaceState(r,"",n)}else t.pushState({key:ri(ni())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function gi(n){vi(n,!0)}var bi={redirected:2,aborted:4,cancelled:8,duplicated:16};function yi(n,e){return ki(n,e,bi.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return _i.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function xi(n,e){return ki(n,e,bi.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function ki(n,e,t,r){var o=new Error(r);return o._isRouter=!0,o.from=n,o.to=e,o.type=t,o}var _i=["params","query","hash"];function wi(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function ji(n,e){return wi(n)&&n._isRouter&&(null==e||n.type===e)}function Si(n,e,t){var r=function(o){o>=n.length?t():n[o]?e(n[o],(function(){r(o+1)})):r(o+1)};r(0)}function Ti(n){return function(e,t,r){var o=!1,a=0,i=null;Ci(n,(function(n,e,t,s){if("function"==typeof n&&void 0===n.cid){o=!0,a++;var c,l=zi((function(e){var o;((o=e).__esModule||Pi&&"Module"===o[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:Ha.extend(e),t.components[s]=e,--a<=0&&r()})),u=zi((function(n){var e="Failed to resolve async component "+s+": "+n;i||(i=wi(n)?n:new Error(e),r(i))}));try{c=n(l,u)}catch(n){u(n)}if(c)if("function"==typeof c.then)c.then(l,u);else{var d=c.component;d&&"function"==typeof d.then&&d.then(l,u)}}})),o||r()}}function Ci(n,e){return Ei(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function Ei(n){return Array.prototype.concat.apply([],n)}var Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function zi(n){var e=!1;return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(!e)return e=!0,n.apply(this,t)}}var Oi=function(n,e){this.router=n,this.base=function(n){if(!n)if(Ja){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=ma,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Li(n,e,t,r){var o=Ci(n,(function(n,r,o,a){var i=function(n,e){"function"!=typeof n&&(n=Ha.extend(n));return n.options[e]}(n,e);if(i)return Array.isArray(i)?i.map((function(n){return t(n,r,o,a)})):t(i,r,o,a)}));return Ei(r?o.reverse():o)}function Ai(n,e){if(e)return function(){return n.apply(e,arguments)}}Oi.prototype.listen=function(n){this.cb=n},Oi.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},Oi.prototype.onError=function(n){this.errorCbs.push(n)},Oi.prototype.transitionTo=function(n,e,t){var r,o=this;try{r=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var a=this.current;this.confirmTransition(r,(function(){o.updateRoute(r),e&&e(r),o.ensureURL(),o.router.afterHooks.forEach((function(n){n&&n(r,a)})),o.ready||(o.ready=!0,o.readyCbs.forEach((function(n){n(r)})))}),(function(n){t&&t(n),n&&!o.ready&&(ji(n,bi.redirected)&&a===ma||(o.ready=!0,o.readyErrorCbs.forEach((function(e){e(n)}))))}))},Oi.prototype.confirmTransition=function(n,e,t){var r=this,o=this.current;this.pending=n;var a,i,s=function(n){!ji(n)&&wi(n)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},c=n.matched.length-1,l=o.matched.length-1;if(ba(n,o)&&c===l&&n.matched[c]===o.matched[l])return this.ensureURL(),n.hash&&ii(this.router,o,n,!1),s(((i=ki(a=o,n,bi.duplicated,'Avoided redundant navigation to current location: "'+a.fullPath+'".')).name="NavigationDuplicated",i));var u=function(n,e){var t,r=Math.max(n.length,e.length);for(t=0;t<r&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),d=u.updated,p=u.deactivated,h=u.activated,f=[].concat(function(n){return Li(n,"beforeRouteLeave",Ai,!0)}(p),this.router.beforeHooks,function(n){return Li(n,"beforeRouteUpdate",Ai)}(d),h.map((function(n){return n.beforeEnter})),Ti(h)),m=function(e,t){if(r.pending!==n)return s(xi(o,n));try{e(n,o,(function(e){!1===e?(r.ensureURL(!0),s(function(n,e){return ki(n,e,bi.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(o,n))):wi(e)?(r.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(yi(o,n)),"object"==typeof e&&e.replace?r.replace(e):r.push(e)):t(e)}))}catch(n){s(n)}};Si(f,m,(function(){Si(function(n){return Li(n,"beforeRouteEnter",(function(n,e,t,r){return function(n,e,t){return function(r,o,a){return n(r,o,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),a(n)}))}}(n,t,r)}))}(h).concat(r.router.resolveHooks),m,(function(){if(r.pending!==n)return s(xi(o,n));r.pending=null,e(n),r.router.app&&r.router.app.$nextTick((function(){xa(n)}))}))}))},Oi.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},Oi.prototype.setupListeners=function(){},Oi.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=ma,this.pending=null};var $i=function(n){function e(e,t){n.call(this,e,t),this._startLocation=Ii(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,r=mi&&t;r&&this.listeners.push(ai());var o=function(){var t=n.current,o=Ii(n.base);n.current===ma&&o===n._startLocation||n.transitionTo(o,(function(n){r&&ii(e,n,t,!0)}))};window.addEventListener("popstate",o),this.listeners.push((function(){window.removeEventListener("popstate",o)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){vi(ja(r.base+n.fullPath)),ii(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){gi(ja(r.base+n.fullPath)),ii(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if(Ii(this.base)!==this.current.fullPath){var e=ja(this.base+this.current.fullPath);n?vi(e):gi(e)}},e.prototype.getCurrentLocation=function(){return Ii(this.base)},e}(Oi);function Ii(n){var e=window.location.pathname,t=e.toLowerCase(),r=n.toLowerCase();return!n||t!==r&&0!==t.indexOf(ja(r+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var Ri=function(n){function e(e,t,r){n.call(this,e,t),r&&function(n){var e=Ii(n);if(!/^\/#/.test(e))return window.location.replace(ja(n+"/#"+e)),!0}(this.base)||Di()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=mi&&e;t&&this.listeners.push(ai());var r=function(){var e=n.current;Di()&&n.transitionTo(Ui(),(function(r){t&&ii(n.router,r,e,!0),mi||Bi(r.fullPath)}))},o=mi?"popstate":"hashchange";window.addEventListener(o,r),this.listeners.push((function(){window.removeEventListener(o,r)}))}},e.prototype.push=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){Mi(n.fullPath),ii(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){Bi(n.fullPath),ii(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;Ui()!==e&&(n?Mi(e):Bi(e))},e.prototype.getCurrentLocation=function(){return Ui()},e}(Oi);function Di(){var n=Ui();return"/"===n.charAt(0)||(Bi("/"+n),!1)}function Ui(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function Ni(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function Mi(n){mi?vi(Ni(n)):window.location.hash=n}function Bi(n){mi?gi(Ni(n)):window.location.replace(Ni(n))}var Fi=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index+1).concat(n),r.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var r=this.stack[t];this.confirmTransition(r,(function(){var n=e.current;e.index=t,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,n)}))}),(function(n){ji(n,bi.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Oi),qi=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Xa(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!mi&&!1!==n.fallback,this.fallback&&(e="hash"),Ja||(e="abstract"),this.mode=e,e){case"history":this.history=new $i(this,n.base);break;case"hash":this.history=new Ri(this,n.base,this.fallback);break;case"abstract":this.history=new Fi(this,n.base);break;default:0}},Hi={currentRoute:{configurable:!0}};qi.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},Hi.currentRoute.get=function(){return this.history&&this.history.current},qi.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof $i||t instanceof Ri){var r=function(n){t.setupListeners(),function(n){var r=t.current,o=e.options.scrollBehavior;mi&&o&&"fullPath"in n&&ii(e,n,r,!1)}(n)};t.transitionTo(t.getCurrentLocation(),r,r)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},qi.prototype.beforeEach=function(n){return Wi(this.beforeHooks,n)},qi.prototype.beforeResolve=function(n){return Wi(this.resolveHooks,n)},qi.prototype.afterEach=function(n){return Wi(this.afterHooks,n)},qi.prototype.onReady=function(n,e){this.history.onReady(n,e)},qi.prototype.onError=function(n){this.history.onError(n)},qi.prototype.push=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.push(n,e,t)}));this.history.push(n,e,t)},qi.prototype.replace=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.replace(n,e,t)}));this.history.replace(n,e,t)},qi.prototype.go=function(n){this.history.go(n)},qi.prototype.back=function(){this.go(-1)},qi.prototype.forward=function(){this.go(1)},qi.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},qi.prototype.resolve=function(n,e,t){var r=qa(n,e=e||this.history.current,t,this),o=this.match(r,e),a=o.redirectedFrom||o.fullPath;return{location:r,route:o,href:function(n,e,t){var r="hash"===t?"#"+e:e;return n?ja(n+"/"+r):r}(this.history.base,a,this.mode),normalizedTo:r,resolved:o}},qi.prototype.getRoutes=function(){return this.matcher.getRoutes()},qi.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==ma&&this.history.transitionTo(this.history.getCurrentLocation())},qi.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==ma&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(qi.prototype,Hi);var Gi=qi;function Wi(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}qi.install=function n(e){if(!n.installed||Ha!==e){n.installed=!0,Ha=e;var t=function(n){return void 0!==n},r=function(n,e){var r=n.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",ka),e.component("RouterLink",Wa);var o=e.config.optionMergeStrategies;o.beforeRouteEnter=o.beforeRouteLeave=o.beforeRouteUpdate=o.created}},qi.version="3.6.5",qi.isNavigationFailure=ji,qi.NavigationFailureType=bi,qi.START_LOCATION=ma,Ja&&window.Vue&&window.Vue.use(qi);t(107);t(128),t(24);var Vi={NotFound:()=>Promise.all([t.e(0),t.e(5)]).then(t.bind(null,345)),Layout:()=>Promise.all([t.e(0),t.e(3),t.e(2)]).then(t.bind(null,344))},Ji={"v-566f6685":()=>t.e(6).then(t.bind(null,346)),"v-3f7b02b6":()=>t.e(7).then(t.bind(null,347)),"v-cfc43c36":()=>t.e(8).then(t.bind(null,348)),"v-964067f6":()=>t.e(9).then(t.bind(null,349)),"v-21464336":()=>t.e(10).then(t.bind(null,350)),"v-51adbf3f":()=>t.e(11).then(t.bind(null,351)),"v-d6596016":()=>t.e(12).then(t.bind(null,352)),"v-67d3018d":()=>t.e(13).then(t.bind(null,353)),"v-062149ae":()=>t.e(14).then(t.bind(null,354)),"v-af165e76":()=>t.e(15).then(t.bind(null,355)),"v-14bb5c32":()=>t.e(16).then(t.bind(null,356)),"v-6642a2d4":()=>t.e(17).then(t.bind(null,357)),"v-4a6e4fe3":()=>t.e(18).then(t.bind(null,358)),"v-7366bd62":()=>t.e(19).then(t.bind(null,359)),"v-2dd33af0":()=>t.e(20).then(t.bind(null,360)),"v-456da333":()=>t.e(21).then(t.bind(null,361)),"v-e8d5bc5a":()=>t.e(22).then(t.bind(null,362)),"v-fa063c02":()=>t.e(23).then(t.bind(null,363)),"v-4c083da5":()=>t.e(24).then(t.bind(null,364)),"v-4e6d47d9":()=>t.e(25).then(t.bind(null,365)),"v-e55778b0":()=>t.e(26).then(t.bind(null,366)),"v-91340b78":()=>t.e(27).then(t.bind(null,367)),"v-b422fe52":()=>t.e(28).then(t.bind(null,368)),"v-455d1caa":()=>t.e(29).then(t.bind(null,369)),"v-73492478":()=>t.e(30).then(t.bind(null,370)),"v-7c00a725":()=>t.e(31).then(t.bind(null,371)),"v-25ee86a5":()=>t.e(32).then(t.bind(null,372)),"v-3cee53c1":()=>t.e(33).then(t.bind(null,373)),"v-cd61ed3e":()=>t.e(34).then(t.bind(null,374)),"v-4f1dd276":()=>t.e(35).then(t.bind(null,375)),"v-20e6a05e":()=>t.e(36).then(t.bind(null,376)),"v-45253c2d":()=>t.e(37).then(t.bind(null,377)),"v-09099876":()=>t.e(38).then(t.bind(null,378)),"v-1f566026":()=>t.e(39).then(t.bind(null,379)),"v-29944252":()=>t.e(40).then(t.bind(null,380)),"v-ff1e67fe":()=>t.e(41).then(t.bind(null,381)),"v-5e6e1e4e":()=>t.e(42).then(t.bind(null,382)),"v-342230e2":()=>t.e(43).then(t.bind(null,383)),"v-be2df43e":()=>t.e(44).then(t.bind(null,384)),"v-2ead0b8f":()=>t.e(45).then(t.bind(null,385)),"v-2db98d25":()=>t.e(46).then(t.bind(null,386)),"v-fb616756":()=>t.e(47).then(t.bind(null,387)),"v-74fd280b":()=>t.e(48).then(t.bind(null,388)),"v-0e3c6cc3":()=>t.e(49).then(t.bind(null,389)),"v-1ba2a60a":()=>t.e(50).then(t.bind(null,390)),"v-21a92ca5":()=>t.e(51).then(t.bind(null,391)),"v-e220d9f6":()=>t.e(52).then(t.bind(null,392)),"v-001f87ba":()=>t.e(53).then(t.bind(null,393)),"v-476b2cc5":()=>t.e(54).then(t.bind(null,394)),"v-332942f6":()=>t.e(55).then(t.bind(null,395)),"v-dfd180f6":()=>t.e(56).then(t.bind(null,396)),"v-967ded36":()=>t.e(57).then(t.bind(null,397)),"v-04276b56":()=>t.e(58).then(t.bind(null,398)),"v-9c6fe26a":()=>t.e(59).then(t.bind(null,399)),"v-2bd19845":()=>t.e(60).then(t.bind(null,400)),"v-0f46c125":()=>t.e(61).then(t.bind(null,401)),"v-34fec19c":()=>t.e(62).then(t.bind(null,402)),"v-b12fc6c4":()=>t.e(63).then(t.bind(null,403)),"v-d4d869b6":()=>t.e(64).then(t.bind(null,404)),"v-1459e065":()=>t.e(65).then(t.bind(null,405)),"v-c0149876":()=>t.e(66).then(t.bind(null,406)),"v-555b8c05":()=>t.e(67).then(t.bind(null,407)),"v-307c9236":()=>t.e(68).then(t.bind(null,408)),"v-575c5965":()=>t.e(69).then(t.bind(null,409)),"v-97e49772":()=>t.e(70).then(t.bind(null,410)),"v-2fbf65d7":()=>t.e(71).then(t.bind(null,411)),"v-4a92beb3":()=>t.e(72).then(t.bind(null,412)),"v-1dfc763a":()=>t.e(73).then(t.bind(null,413))};function Zi(n){const e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}const Ki=/-(\w)/g,Xi=Zi(n=>n.replace(Ki,(n,e)=>e?e.toUpperCase():"")),Yi=/\B([A-Z])/g,Qi=Zi(n=>n.replace(Yi,"-$1").toLowerCase()),ns=Zi(n=>n.charAt(0).toUpperCase()+n.slice(1));function es(n,e){if(!e)return;if(n(e))return n(e);return e.includes("-")?n(ns(Xi(e))):n(ns(e))||n(Qi(e))}const ts=Object.assign({},Vi,Ji),rs=n=>ts[n],os=n=>Ji[n],as=n=>Vi[n],is=n=>Vt.component(n);function ss(n){return es(os,n)}function cs(n){return es(as,n)}function ls(n){return es(rs,n)}function us(n){return es(is,n)}function ds(...n){return Promise.all(n.filter(n=>n).map(async n=>{if(!us(n)&&ls(n)){const e=await ls(n)();Vt.component(n,e.default)}}))}function ps(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}var hs=t(92),fs=t.n(hs),ms=t(93),vs=t.n(ms),gs={created(){if(this.siteMeta=this.$site.headTags.filter(([n])=>"meta"===n).map(([n,e])=>e),this.$ssrContext){const e=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(n=e)?n.map(n=>{let e="<meta";return Object.keys(n).forEach(t=>{e+=` ${t}="${vs()(n[t])}"`}),e+">"}).join("\n    "):"",this.$ssrContext.canonicalLink=ys(this.$canonicalUrl)}var n},mounted(){this.currentMetaTags=[...document.querySelectorAll("meta")],this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta(){document.title=this.$title,document.documentElement.lang=this.$lang;const n=this.getMergedMetaTags();this.currentMetaTags=xs(n,this.currentMetaTags)},getMergedMetaTags(){const n=this.$page.frontmatter.meta||[];return fs()([{name:"description",content:this.$description}],n,this.siteMeta,ks)},updateCanonicalLink(){bs(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",ys(this.$canonicalUrl))}},watch:{$page(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy(){xs(null,this.currentMetaTags),bs()}};function bs(){const n=document.querySelector("link[rel='canonical']");n&&n.remove()}function ys(n=""){return n?`<link href="${n}" rel="canonical" />`:""}function xs(n,e){if(e&&[...e].filter(n=>n.parentNode===document.head).forEach(n=>document.head.removeChild(n)),n)return n.map(n=>{const e=document.createElement("meta");return Object.keys(n).forEach(t=>{e.setAttribute(t,n[t])}),document.head.appendChild(e),e})}function ks(n){for(const e of["name","property","itemprop"])if(n.hasOwnProperty(e))return n[e]+e;return JSON.stringify(n)}var _s=t(48),ws={mounted(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(_s)()((function(){this.setActiveHash()}),300),setActiveHash(){const n=[].slice.call(document.querySelectorAll(".sidebar-link")),e=[].slice.call(document.querySelectorAll(".header-anchor")).filter(e=>n.some(n=>n.hash===e.hash)),t=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),r=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),o=window.innerHeight+t;for(let n=0;n<e.length;n++){const a=e[n],i=e[n+1],s=0===n&&0===t||t>=a.parentElement.offsetTop+10&&(!i||t<i.parentElement.offsetTop-10),c=decodeURIComponent(this.$route.hash);if(s&&c!==decodeURIComponent(a.hash)){const t=a;if(o===r)for(let t=n+1;t<e.length;t++)if(c===decodeURIComponent(e[t].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(t.hash),()=>{this.$nextTick(()=>{this.$vuepress.$set("disableScrollBehavior",!1)})})}}}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)}},js=t(23),Ss=t.n(js),Ts={mounted(){Ss.a.configure({showSpinner:!1}),this.$router.beforeEach((n,e,t)=>{n.path===e.path||Vt.component(n.name)||Ss.a.start(),t()}),this.$router.afterEach(()=>{Ss.a.done(),this.isSidebarOpen=!1})}};t(240),t(241);class Cs{constructor(){this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}show({text:n="",duration:e=3e3}){let t=document.createElement("div");t.className="message move-in",t.innerHTML=`\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">${n}</div>\n    `,this.containerEl.appendChild(t),e>0&&setTimeout(()=>{this.close(t)},e)}close(n){n.className=n.className.replace("move-in",""),n.className+="move-out",n.addEventListener("animationend",()=>{n.remove()})}}var Es={mounted(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy(){setTimeout(()=>{(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach(n=>{document.querySelectorAll(n).forEach(this.generateCopyButton)})},1e3)},generateCopyButton(n){if(n.classList.contains("codecopy-enabled"))return;const e=document.createElement("i");e.className="code-copy",e.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',e.title="Copy to clipboard",e.addEventListener("click",()=>{this.copyToClipboard(n.innerText)}),n.appendChild(e),n.classList.add("codecopy-enabled")},copyToClipboard(n){const e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);const t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy");(new Cs).show({text:"复制成功",duration:1e3}),document.body.removeChild(e),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}};!function(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}("@media (max-width: 1000px) {\n  .vuepress-plugin-demo-block__h_code {\n    display: none;\n  }\n  .vuepress-plugin-demo-block__app {\n    margin-left: auto !important;\n    margin-right: auto !important;\n  }\n}\n.vuepress-plugin-demo-block__wrapper {\n  margin-top: 10px;\n  border: 1px solid #ebebeb;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display {\n  height: 400px;\n  display: flex;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__app {\n  width: 300px;\n  border: 1px solid #ebebeb;\n  box-shadow: 1px 1px 3px #ebebeb;\n  margin-right: 5px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code {\n  flex: 1;\n  overflow: auto;\n  height: 100%;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code > pre {\n  overflow: visible;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  max-height: 400px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper div {\n  box-sizing: border-box;\n}\n.vuepress-plugin-demo-block__wrapper:hover {\n  box-shadow: 0 0 11px rgba(33, 33, 33, 0.2);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code {\n  overflow: hidden;\n  height: 0;\n  padding: 0 !important;\n  background-color: #282c34;\n  border-radius: 0 !important;\n  transition: height 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code pre {\n  margin: 0 !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  padding: 20px;\n  border-bottom: 1px solid #ebebeb;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer {\n  position: relative;\n  text-align: center;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__codepen {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__expand::before {\n  border-top: none;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #ccc;\n  border-left: 6px solid transparent;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__codepen,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand span,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand::before {\n  border-top-color: #3eaf7c !important;\n  border-bottom-color: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover svg {\n  fill: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand-text {\n  transition: all 0.5s;\n  opacity: 0;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:nth-last-child(2) {\n  right: 50px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:last-child {\n  right: 10px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button {\n  border-color: transparent;\n  background-color: transparent;\n  font-size: 14px;\n  color: #3eaf7c;\n  cursor: pointer;\n  outline: none;\n  margin: 0;\n  width: 46px;\n  position: relative;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::before {\n  content: attr(data-tip);\n  white-space: nowrap;\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  color: #eee;\n  line-height: 1;\n  z-index: 1000;\n  border-radius: 4px;\n  padding: 6px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::after {\n  content: '' !important;\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: -5px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  border: 5px solid transparent;\n  border-top-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button svg {\n  width: 34px;\n  height: 20px;\n  fill: #ccc;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__codepen {\n  position: absolute;\n  top: 10px;\n  transition: all 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand {\n  position: relative;\n  width: 100px;\n  height: 40px;\n  margin: 0;\n  color: #3eaf7c;\n  font-size: 14px;\n  background-color: transparent;\n  border-color: transparent;\n  outline: none;\n  transition: all 0.5s;\n  cursor: pointer;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-top: 6px solid #ccc;\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n");var Ps={jsLib:[],cssLib:[],jsfiddle:!0,codepen:!0,codepenLayout:"left",codepenJsProcessor:"babel",codepenEditors:"101",horizontal:!1,vue:"https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js",react:"https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js",reactDOM:"https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"},zs={},Os=function(n){return'<div id="app">\n'.concat(n,"\n</div>")},Ls=function(n){return window.$VUEPRESS_DEMO_BLOCK&&void 0!==window.$VUEPRESS_DEMO_BLOCK[n]?window.$VUEPRESS_DEMO_BLOCK[n]:Ps[n]},As=function n(e,t,r){var o=document.createElement(e);return t&&Object.keys(t).forEach((function(n){if(n.indexOf("data"))o[n]=t[n];else{var e=n.replace("data","");o.dataset[e]=t[n]}})),r&&r.forEach((function(e){var t=e.tag,r=e.attrs,a=e.children;o.appendChild(n(t,r,a))})),o},$s=function(n,e,t){var r,o=(r=n.querySelectorAll(".".concat(e)),Array.prototype.slice.call(r));return 1!==o.length||t?o:o[0]},Is=function(n,e){var t,r,o=n.match(/<style>([\s\S]+)<\/style>/),a=n.match(/<template>([\s\S]+)<\/template>/),i=n.match(/<script>([\s\S]+)<\/script>/),s={css:o&&o[1].replace(/^\n|\n$/g,""),html:a&&a[1].replace(/^\n|\n$/g,""),js:i&&i[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};s.htmlTpl=Os(s.html),s.jsTpl=(t=s.js,r=t.replace(/export\s+default\s*?\{\n*/,"").replace(/\n*\}\s*$/,"").trim(),"new Vue({\n  el: '#app',\n  ".concat(r,"\n})")),s.script=function(n,e){var t=n.split(/export\s+default/),r="(function() {".concat(t[0]," ; return ").concat(t[1],"})()"),o=window.Babel?window.Babel.transform(r,{presets:["es2015"]}).code:r,a=[eval][0](o);return a.template=e,a}(s.js,s.html);var c=Ls("vue");return s.jsLib.unshift(c),s},Rs=function(n,e){var t,r=n.match(/<style>([\s\S]+)<\/style>/),o=n.match(/<html>([\s\S]+)<\/html>/),a=n.match(/<script>([\s\S]+)<\/script>/),i={css:r&&r[1].replace(/^\n|\n$/g,""),html:o&&o[1].replace(/^\n|\n$/g,""),js:a&&a[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};return i.htmlTpl=i.html,i.jsTpl=i.js,i.script=(t=i.js,window.Babel?window.Babel.transform(t,{presets:["es2015"]}).code:t),i},Ds=function(n){return n=n.replace("export default ","").replace(/App\.__style__(\s*)=(\s*)`([\s\S]*)?`/,""),n+='ReactDOM.render(React.createElement(App), document.getElementById("app"))'};function Us(){var n=$s(document,"vuepress-plugin-demo-block__wrapper",!0);n.length?n.forEach((function(n){if("true"!==n.dataset.created){n.style.display="block";var e=$s(n,"vuepress-plugin-demo-block__code"),t=$s(n,"vuepress-plugin-demo-block__display"),r=$s(n,"vuepress-plugin-demo-block__footer"),o=$s(t,"vuepress-plugin-demo-block__app"),a=decodeURIComponent(n.dataset.code),i=decodeURIComponent(n.dataset.config),s=decodeURIComponent(n.dataset.type);i=i?JSON.parse(i):{};var c=e.querySelector("div").clientHeight,l="react"===s?function(n,e){var t=(0,window.Babel.transform)(n,{presets:["es2015","react"]}).code,r="(function(exports){var module={};module.exports=exports;".concat(t,";return module.exports.__esModule?module.exports.default:module.exports;})({})"),o=new Function("return ".concat(r))(),a={js:o,css:o.__style__||"",jsLib:e.jsLib||[],cssLib:e.cssLib||[],jsTpl:Ds(n),htmlTpl:Os("")},i=Ls("react"),s=Ls("reactDOM");return a.jsLib.unshift(i,s),a}(a,i):"vanilla"===s?Rs(a,i):Is(a,i),u=As("button",{className:"".concat("vuepress-plugin-demo-block__expand")});if(r.appendChild(u),u.addEventListener("click",Ns.bind(null,u,c,e,r)),Ls("jsfiddle")&&r.appendChild(function(n){var e=n.css,t=n.htmlTpl,r=n.jsTpl,o=n.jsLib,a=n.cssLib,i=o.concat(a).concat(Ls("cssLib")).concat(Ls("jsLib")).join(",");return As("form",{className:"vuepress-plugin-demo-block__jsfiddle",target:"_blank",action:"https://jsfiddle.net/api/post/library/pure/",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"css",value:e}},{tag:"input",attrs:{type:"hidden",name:"html",value:t}},{tag:"input",attrs:{type:"hidden",name:"js",value:r}},{tag:"input",attrs:{type:"hidden",name:"panel_js",value:3}},{tag:"input",attrs:{type:"hidden",name:"wrap",value:1}},{tag:"input",attrs:{type:"hidden",name:"resources",value:i}},{tag:"button",attrs:{type:"submit",className:"vuepress-plugin-demo-block__button",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088289967" class="icon" style="" viewBox="0 0 1170 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1952" xmlns:xlink="http://www.w3.org/1999/xlink" width="228.515625" height="200"><defs><style type="text/css"></style></defs><path d="M1028.571429 441.142857q63.428571 26.285714 102.571428 83.142857T1170.285714 650.857143q0 93.714286-67.428571 160.285714T940 877.714286q-2.285714 0-6.571429-0.285715t-6-0.285714H232q-97.142857-5.714286-164.571429-71.714286T0 645.142857q0-62.857143 31.428571-116t84-84q-6.857143-22.285714-6.857142-46.857143 0-65.714286 46.857142-112t113.714286-46.285714q54.285714 0 98.285714 33.142857 42.857143-88 127.142858-141.714286t186.571428-53.714285q94.857143 0 174.857143 46T982.571429 248.571429t46.571428 172q0 3.428571-0.285714 10.285714t-0.285714 10.285714zM267.428571 593.142857q0 69.714286 48 110.285714t118.857143 40.571429q78.285714 0 137.142857-56.571429-9.142857-11.428571-27.142857-32.285714T519.428571 626.285714q-38.285714 37.142857-82.285714 37.142857-31.428571 0-53.428571-19.142857T361.714286 594.285714q0-30.285714 22-49.714285t52.285714-19.428572q25.142857 0 48.285714 12t41.714286 31.428572 37.142857 42.857142 39.428572 46.857143 44 42.857143 55.428571 31.428572 69.428571 12q69.142857 0 116.857143-40.857143T936 594.857143q0-69.142857-48-109.714286t-118.285714-40.571428q-81.714286 0-137.714286 55.428571l53.142857 61.714286q37.714286-36.571429 81.142857-36.571429 29.714286 0 52.571429 18.857143t22.857143 48q0 32.571429-21.142857 52.285714t-53.714286 19.714286q-24.571429 0-47.142857-12t-41.142857-31.428571-37.428572-42.857143-39.714286-46.857143-44.285714-42.857143-55.142857-31.428571T434.285714 444.571429q-69.714286 0-118.285714 40.285714T267.428571 593.142857z" p-id="1953"></path></svg>',datatip:"JSFiddle"}}])}(l)),Ls("codepen")&&r.appendChild(function(n){var e=n.css,t=n.htmlTpl,r=n.jsTpl,o=n.jsLib,a=n.cssLib,i=JSON.stringify({css:e,html:t,js:r,js_external:o.concat(Ls("jsLib")).join(";"),css_external:a.concat(Ls("cssLib")).join(";"),layout:Ls("codepenLayout"),js_pre_processor:Ls("codepenJsProcessor"),editors:Ls("codepenEditors")});return As("form",{className:"vuepress-plugin-demo-block__codepen",target:"_blank",action:"https://codepen.io/pen/define",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"data",value:i}},{tag:"button",attrs:{type:"submit",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088271207" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1737" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M123.428571 668l344.571429 229.714286v-205.142857L277.142857 565.142857z m-35.428571-82.285714l110.285714-73.714286-110.285714-73.714286v147.428572z m468 312l344.571429-229.714286-153.714286-102.857143-190.857143 127.428572v205.142857z m-44-281.714286l155.428571-104-155.428571-104-155.428571 104zM277.142857 458.857143l190.857143-127.428572V126.285714L123.428571 356z m548.571429 53.142857l110.285714 73.714286V438.285714z m-78.857143-53.142857l153.714286-102.857143-344.571429-229.714286v205.142857z m277.142857-102.857143v312q0 23.428571-19.428571 36.571429l-468 312q-12 7.428571-24.571429 7.428571t-24.571429-7.428571L19.428571 704.571429q-19.428571-13.142857-19.428571-36.571429V356q0-23.428571 19.428571-36.571429L487.428571 7.428571q12-7.428571 24.571429-7.428571t24.571429 7.428571l468 312q19.428571 13.142857 19.428571 36.571429z" p-id="1738"></path></svg>',className:"vuepress-plugin-demo-block__button",datatip:"Codepen"}}])}(l)),void 0!==i.horizontal?i.horizontal:Ls("horizontal")){n.classList.add("vuepress-plugin-demo-block__horizontal");var d=e.firstChild.cloneNode(!0);d.classList.add("vuepress-plugin-demo-block__h_code"),t.appendChild(d)}if(l.css&&function(n){if(!zs[n]){var e=As("style",{innerHTML:n});document.body.appendChild(e),zs[n]=!0}}(l.css),"react"===s)ReactDOM.render(React.createElement(l.js),o);else if("vue"===s){var p=(new(Vue.extend(l.script))).$mount();o.appendChild(p.$el)}else"vanilla"===s&&(o.innerHTML=l.html,new Function("return (function(){".concat(l.script,"})()"))());n.dataset.created="true"}})):setTimeout((function(n){Us()}),300)}function Ns(n,e,t,r){var o="1"!==n.dataset.isExpand;t.style.height=o?"".concat(e,"px"):0,o?r.classList.add("vuepress-plugin-demo-block__show-link"):r.classList.remove("vuepress-plugin-demo-block__show-link"),n.dataset.isExpand=o?"1":"0"}var Ms={mounted:function(){window.$VUEPRESS_DEMO_BLOCK={jsfiddle:!1,codepen:!0,horizontal:!1},Us()},updated:function(){Us()}},Bs="auto",Fs="zoom-in",qs="zoom-out",Hs="grab",Gs="move";function Ws(n,e,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o={passive:!1};r?n.addEventListener(e,t,o):n.removeEventListener(e,t,o)}function Vs(n,e){if(n){var t=new Image;t.onload=function(){e&&e(t)},t.src=n}}function Js(n){return n.dataset.original?n.dataset.original:"A"===n.parentNode.tagName?n.parentNode.getAttribute("href"):null}function Zs(n,e,t){!function(n){var e=Ks,t=Xs;if(n.transition){var r=n.transition;delete n.transition,n[e]=r}if(n.transform){var o=n.transform;delete n.transform,n[t]=o}}(e);var r=n.style,o={};for(var a in e)t&&(o[a]=r[a]||""),r[a]=e[a];return o}var Ks="transition",Xs="transform",Ys="transform",Qs="transitionend";var nc=function(){},ec={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:nc,onClose:nc,onGrab:nc,onMove:nc,onRelease:nc,onBeforeOpen:nc,onBeforeClose:nc,onBeforeGrab:nc,onBeforeRelease:nc,onImageLoading:nc,onImageLoaded:nc},tc={init:function(n){var e,t;e=this,t=n,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){e[n]=e[n].bind(t)}))},click:function(n){if(n.preventDefault(),oc(n))return window.open(this.target.srcOriginal||n.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(n.currentTarget)},scroll:function(){var n=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||n.scrollLeft,t=window.pageYOffset||n.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:t});var r=this.lastScrollPosition.x-e,o=this.lastScrollPosition.y-t,a=this.options.scrollThreshold;(Math.abs(o)>=a||Math.abs(r)>=a)&&(this.lastScrollPosition=null,this.close())},keydown:function(n){(function(n){return"Escape"===(n.key||n.code)||27===n.keyCode})(n)&&(this.released?this.close():this.release(this.close))},mousedown:function(n){if(rc(n)&&!oc(n)){n.preventDefault();var e=n.clientX,t=n.clientY;this.pressTimer=setTimeout(function(){this.grab(e,t)}.bind(this),200)}},mousemove:function(n){this.released||this.move(n.clientX,n.clientY)},mouseup:function(n){rc(n)&&!oc(n)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(n){n.preventDefault();var e=n.touches[0],t=e.clientX,r=e.clientY;this.pressTimer=setTimeout(function(){this.grab(t,r)}.bind(this),200)},touchmove:function(n){if(!this.released){var e=n.touches[0],t=e.clientX,r=e.clientY;this.move(t,r)}},touchend:function(n){(function(n){n.targetTouches.length})(n)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function rc(n){return 0===n.button}function oc(n){return n.metaKey||n.ctrlKey}var ac={init:function(n){this.el=document.createElement("div"),this.instance=n,this.parent=document.body,Zs(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(n.options),Ws(this.el,"click",n.handler.clickOverlay.bind(n))},updateStyle:function(n){Zs(this.el,{zIndex:n.zIndex,backgroundColor:n.bgColor,transition:"opacity\n        "+n.transitionDuration+"s\n        "+n.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},sc=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),cc=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lc={init:function(n,e){this.el=n,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=Js(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var n=this.instance.options,e=n.zIndex,t=n.enableGrab,r=n.transitionDuration,o=n.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:t?Hs:qs,transition:Ys+"\n        "+r+"s\n        "+o,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=Zs(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,Zs(this.el,{transform:"none"})},grab:function(n,e,t){var r=uc(),o=r.x-n,a=r.y-e;Zs(this.el,{cursor:Gs,transform:"translate3d(\n        "+(this.translate.x+o)+"px, "+(this.translate.y+a)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(n,e,t){var r=uc(),o=r.x-n,a=r.y-e;Zs(this.el,{transition:Ys,transform:"translate3d(\n        "+(this.translate.x+o)+"px, "+(this.translate.y+a)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){Zs(this.el,this.styleClose)},restoreOpenStyle:function(){Zs(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var n=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",n.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),n.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var n=uc(),e=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:n.x-e,y:n.y-t}},calculateScale:function(){var n=this.el.dataset,e=n.zoomingHeight,t=n.zoomingWidth,r=this.instance.options,o=r.customSize,a=r.scaleBase;if(!o&&e&&t)return{x:t/this.rect.width,y:e/this.rect.height};if(o&&"object"===(void 0===o?"undefined":ic(o)))return{x:o.width/this.rect.width,y:o.height/this.rect.height};var i=this.rect.width/2,s=this.rect.height/2,c=uc(),l={x:c.x-i,y:c.y-s},u=l.x/i,d=l.y/s,p=a+Math.min(u,d);if(o&&"string"==typeof o){var h=t||this.el.naturalWidth,f=e||this.el.naturalHeight,m=parseFloat(o)*h/(100*this.rect.width),v=parseFloat(o)*f/(100*this.rect.height);if(p>m||p>v)return{x:m,y:v}}return{x:p,y:p}}};function uc(){var n=document.documentElement;return{x:Math.min(n.clientWidth,window.innerWidth)/2,y:Math.min(n.clientHeight,window.innerHeight)/2}}function dc(n,e,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(r){Ws(n,r,e[r],t)}))}var pc=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create(lc),this.overlay=Object.create(ac),this.handler=Object.create(tc),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=cc({},ec,e),this.overlay.init(this),this.handler.init(this)}return sc(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var e=document.querySelectorAll(n),t=e.length;t--;)this.listen(e[t]);else"IMG"===n.tagName&&(n.style.cursor=Fs,Ws(n,"click",this.handler.click),this.options.preloadImage&&Vs(Js(n)));return this}},{key:"config",value:function(n){return n?(cc(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var r="string"==typeof n?document.querySelector(n):n;if("IMG"===r.tagName){if(this.options.onBeforeOpen(r),this.target.init(r,this),!this.options.preloadImage){var o=this.target.srcOriginal;null!=o&&(this.options.onImageLoading(r),Vs(o,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),Ws(document,"scroll",this.handler.scroll),Ws(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&Ws(window,"resize",this.handler.resizeWindow);var a=function n(){Ws(r,Qs,n,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&dc(document,e.handler,!0),t(r)};return Ws(r,Qs,a),this}}}},{key:"close",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=Bs,this.overlay.fadeOut(),this.target.zoomOut(),Ws(document,"scroll",this.handler.scroll,!1),Ws(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&Ws(window,"resize",this.handler.resizeWindow,!1);var r=function r(){Ws(t,Qs,r,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&dc(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),e(t)};return Ws(t,Qs,r),this}}},{key:"grab",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var o=this.target.el;this.options.onBeforeGrab(o),this.released=!1,this.target.grab(n,e,t);var a=function n(){Ws(o,Qs,n,!1),r(o)};return Ws(o,Qs,a),this}}},{key:"move",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=Gs,this.target.move(n,e,t);var o=this.target.el,a=function n(){Ws(o,Qs,n,!1),r(o)};return Ws(o,Qs,a),this}}},{key:"release",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=Bs,this.target.restoreOpenStyle();var r=function r(){Ws(t,Qs,r,!1),n.lock=!1,n.released=!0,e(t)};return Ws(t,Qs,r),this}}}]),n}();const hc=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),fc=Number("500");class mc{constructor(){this.instance=new pc(hc)}update(n=".theme-vdoing-content img:not(.no-zoom)"){"undefined"!=typeof window&&this.instance.listen(n)}updateDelay(n=".theme-vdoing-content img:not(.no-zoom)",e=fc){setTimeout(()=>this.update(n),e)}}var vc=[gs,ws,Ts,Es,Ms,{watch:{"$page.path"(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted(){this.$vuepress.zooming=new mc,this.$vuepress.zooming.updateDelay()}}],gc={name:"GlobalLayout",computed:{layout(){const n=this.getLayout();return ps("layout",n),Vt.component(n)}},methods:{getLayout(){if(this.$page.path){const n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},bc=t(8),yc=Object(bc.a)(gc,(function(){return(0,this._self._c)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,e,t){switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),n[e].push(...t);break;default:throw new Error("Unknown option name.")}}(yc,"mixins",vc);const xc=[{name:"v-566f6685",path:"/archives/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-566f6685").then(t)}},{path:"/archives/index.html",redirect:"/archives/"},{path:"/@pages/archivesPage.html",redirect:"/archives/"},{name:"v-3f7b02b6",path:"/blog/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-3f7b02b6").then(t)}},{path:"/blog/index.html",redirect:"/blog/"},{path:"/@pages/blogPage.html",redirect:"/blog/"},{name:"v-cfc43c36",path:"/categories/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-cfc43c36").then(t)}},{path:"/categories/index.html",redirect:"/categories/"},{path:"/@pages/categoriesPage.html",redirect:"/categories/"},{name:"v-964067f6",path:"/tags/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-964067f6").then(t)}},{path:"/tags/index.html",redirect:"/tags/"},{path:"/@pages/tagsPage.html",redirect:"/tags/"},{name:"v-21464336",path:"/ai/llm/links/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-21464336").then(t)}},{path:"/ai/llm/links/index.html",redirect:"/ai/llm/links/"},{path:"/AI/00.Links.html",redirect:"/ai/llm/links/"},{name:"v-51adbf3f",path:"/ai/geektime-ai-course/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-51adbf3f").then(t)}},{path:"/ai/geektime-ai-course/index.html",redirect:"/ai/geektime-ai-course/"},{path:"/AI/02.geektime-ai-course.html",redirect:"/ai/geektime-ai-course/"},{name:"v-d6596016",path:"/cloud-native/env-config/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-d6596016").then(t)}},{path:"/cloud-native/env-config/index.html",redirect:"/cloud-native/env-config/"},{path:"/Cloud-Native/00.Docker/01.env-config.html",redirect:"/cloud-native/env-config/"},{name:"v-67d3018d",path:"/cloud-native/k8s/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-67d3018d").then(t)}},{path:"/cloud-native/k8s/index.html",redirect:"/cloud-native/k8s/"},{path:"/Cloud-Native/02.K8S/02.K8S常用技巧.html",redirect:"/cloud-native/k8s/"},{name:"v-062149ae",path:"/db/mysql/soft-delete-and-unique-index/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-062149ae").then(t)}},{path:"/db/mysql/soft-delete-and-unique-index/index.html",redirect:"/db/mysql/soft-delete-and-unique-index/"},{path:"/DB/00.MySql/01. 软删除+唯一索引遇到的坑.html",redirect:"/db/mysql/soft-delete-and-unique-index/"},{name:"v-af165e76",path:"/pages/design-pattern/设计模式之美/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-af165e76").then(t)}},{path:"/pages/design-pattern/设计模式之美/index.html",redirect:"/pages/design-pattern/设计模式之美/"},{path:"/Design-Pattern/01.设计模式之美.html",redirect:"/pages/design-pattern/设计模式之美/"},{name:"v-14bb5c32",path:"/pages/design-pattern/前端与设计模式/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-14bb5c32").then(t)}},{path:"/pages/design-pattern/前端与设计模式/index.html",redirect:"/pages/design-pattern/前端与设计模式/"},{path:"/Design-Pattern/02.前端与设计模式.html",redirect:"/pages/design-pattern/前端与设计模式/"},{name:"v-6642a2d4",path:"/pages/design-pattern/依赖反转/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-6642a2d4").then(t)}},{path:"/pages/design-pattern/依赖反转/index.html",redirect:"/pages/design-pattern/依赖反转/"},{path:"/Design-Pattern/03.依赖反转.html",redirect:"/pages/design-pattern/依赖反转/"},{name:"v-4a6e4fe3",path:"/fe/nodejs/踩坑记录/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-4a6e4fe3").then(t)}},{path:"/fe/nodejs/踩坑记录/index.html",redirect:"/fe/nodejs/踩坑记录/"},{path:"/FE/01.Nodejs/01.踩坑记录.html",redirect:"/fe/nodejs/踩坑记录/"},{name:"v-7366bd62",path:"/fe/前端技术/浏览器/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-7366bd62").then(t)}},{path:"/fe/前端技术/浏览器/index.html",redirect:"/fe/前端技术/浏览器/"},{path:"/FE/02.前端技术/01.浏览器.html",redirect:"/fe/前端技术/浏览器/"},{name:"v-2dd33af0",path:"/fe/前端技术/JS执行/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-2dd33af0").then(t)}},{path:"/fe/前端技术/JS执行/index.html",redirect:"/fe/前端技术/JS执行/"},{path:"/FE/02.前端技术/02.JS执行.html",redirect:"/fe/前端技术/JS执行/"},{name:"v-456da333",path:"/fe/3d/webgl/intro/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-456da333").then(t)}},{path:"/fe/3d/webgl/intro/index.html",redirect:"/fe/3d/webgl/intro/"},{path:"/FE/03.WebGL/00.intro.html",redirect:"/fe/3d/webgl/intro/"},{name:"v-e8d5bc5a",path:"/fe/3d/webgl/渲染流水线/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-e8d5bc5a").then(t)}},{path:"/fe/3d/webgl/渲染流水线/index.html",redirect:"/fe/3d/webgl/渲染流水线/"},{path:"/FE/03.WebGL/01.渲染流水线.html",redirect:"/fe/3d/webgl/渲染流水线/"},{name:"v-fa063c02",path:"/leetcode/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-fa063c02").then(t)}},{path:"/leetcode/index.html",redirect:"/leetcode/"},{path:"/Leetcode/00.Leetcode.html",redirect:"/leetcode/"},{name:"v-4c083da5",path:"/pages/leetcode/linux/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-4c083da5").then(t)}},{path:"/pages/leetcode/linux/index.html",redirect:"/pages/leetcode/linux/"},{path:"/Leetcode/00.linux.html",redirect:"/pages/leetcode/linux/"},{name:"v-4e6d47d9",path:"/leetcode/leetcode/162/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-4e6d47d9").then(t)}},{path:"/leetcode/leetcode/162/index.html",redirect:"/leetcode/leetcode/162/"},{path:"/Leetcode/02.leetcode/169.多数元素.html",redirect:"/leetcode/leetcode/162/"},{name:"v-e55778b0",path:"/leetcode/leetcode/189/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-e55778b0").then(t)}},{path:"/leetcode/leetcode/189/index.html",redirect:"/leetcode/leetcode/189/"},{path:"/Leetcode/02.leetcode/189.Rotate Array.html",redirect:"/leetcode/leetcode/189/"},{name:"v-91340b78",path:"/leetcode/leetcode/560/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-91340b78").then(t)}},{path:"/leetcode/leetcode/560/index.html",redirect:"/leetcode/leetcode/560/"},{path:"/Leetcode/02.leetcode/560.和为K的子数组.html",redirect:"/leetcode/leetcode/560/"},{name:"v-b422fe52",path:"/leetcode/leetcode/574/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-b422fe52").then(t)}},{path:"/leetcode/leetcode/574/index.html",redirect:"/leetcode/leetcode/574/"},{path:"/Leetcode/02.leetcode/574.Number of Provinces.html",redirect:"/leetcode/leetcode/574/"},{name:"v-455d1caa",path:"/leetcode/interview/62/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-455d1caa").then(t)}},{path:"/leetcode/interview/62/index.html",redirect:"/leetcode/interview/62/"},{path:"/Leetcode/03.interview/62.圆圈中最后的数字.html",redirect:"/leetcode/interview/62/"},{name:"v-73492478",path:"/pages/others/工作技巧/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-73492478").then(t)}},{path:"/pages/others/工作技巧/index.html",redirect:"/pages/others/工作技巧/"},{path:"/Others/01.工作技巧.html",redirect:"/pages/others/工作技巧/"},{name:"v-7c00a725",path:"/pages/others/shell/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-7c00a725").then(t)}},{path:"/pages/others/shell/index.html",redirect:"/pages/others/shell/"},{path:"/Others/02.shell.html",redirect:"/pages/others/shell/"},{name:"v-25ee86a5",path:"/programming-language/rust/学习资料/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-25ee86a5").then(t)}},{path:"/programming-language/rust/学习资料/index.html",redirect:"/programming-language/rust/学习资料/"},{path:"/Rust/01.index.html",redirect:"/programming-language/rust/学习资料/"},{name:"v-3cee53c1",path:"/software/video-clip/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-3cee53c1").then(t)}},{path:"/software/video-clip/index.html",redirect:"/software/video-clip/"},{path:"/Software/00.video-clip.html",redirect:"/software/video-clip/"},{name:"v-cd61ed3e",path:"/software/vscode/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-cd61ed3e").then(t)}},{path:"/software/vscode/index.html",redirect:"/software/vscode/"},{path:"/Software/01.vscode/00.vscode.html",redirect:"/software/vscode/"},{name:"v-4f1dd276",path:"/pages/bfd728/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-4f1dd276").then(t)}},{path:"/pages/bfd728/index.html",redirect:"/pages/bfd728/"},{path:"/_posts/helloworld.html",redirect:"/pages/bfd728/"},{name:"v-20e6a05e",path:"/blog/2016/evercookie/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-20e6a05e").then(t)}},{path:"/blog/2016/evercookie/index.html",redirect:"/blog/2016/evercookie/"},{path:"/blog/16.2016/00.evercookie.html",redirect:"/blog/2016/evercookie/"},{name:"v-45253c2d",path:"/blog/2016/tail-recursive/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-45253c2d").then(t)}},{path:"/blog/2016/tail-recursive/index.html",redirect:"/blog/2016/tail-recursive/"},{path:"/blog/16.2016/01.tail-recursive.html",redirect:"/blog/2016/tail-recursive/"},{name:"v-09099876",path:"/blog/2016/continuation-callback/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-09099876").then(t)}},{path:"/blog/2016/continuation-callback/index.html",redirect:"/blog/2016/continuation-callback/"},{path:"/blog/16.2016/02.continuation-callback.html",redirect:"/blog/2016/continuation-callback/"},{name:"v-1f566026",path:"/blog/2016/binary-search-tree/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-1f566026").then(t)}},{path:"/blog/2016/binary-search-tree/index.html",redirect:"/blog/2016/binary-search-tree/"},{path:"/blog/16.2016/03.binary-search-tree.html",redirect:"/blog/2016/binary-search-tree/"},{name:"v-29944252",path:"/blog/2016/random/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-29944252").then(t)}},{path:"/blog/2016/random/index.html",redirect:"/blog/2016/random/"},{path:"/blog/16.2016/04.random.html",redirect:"/blog/2016/random/"},{name:"v-ff1e67fe",path:"/blog/2016/fp/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-ff1e67fe").then(t)}},{path:"/blog/2016/fp/index.html",redirect:"/blog/2016/fp/"},{path:"/blog/16.2016/05.functional-programming.html",redirect:"/blog/2016/fp/"},{name:"v-5e6e1e4e",path:"/blog/2017/js-prototype/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-5e6e1e4e").then(t)}},{path:"/blog/2017/js-prototype/index.html",redirect:"/blog/2017/js-prototype/"},{path:"/blog/17.2017/00.js-prototype.html",redirect:"/blog/2017/js-prototype/"},{name:"v-342230e2",path:"/blog/2017/metaball/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-342230e2").then(t)}},{path:"/blog/2017/metaball/index.html",redirect:"/blog/2017/metaball/"},{path:"/blog/17.2017/01.metaball.html",redirect:"/blog/2017/metaball/"},{name:"v-be2df43e",path:"/blog/2018/co-promise/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-be2df43e").then(t)}},{path:"/blog/2018/co-promise/index.html",redirect:"/blog/2018/co-promise/"},{path:"/blog/18.2018/00.co-promise.html",redirect:"/blog/2018/co-promise/"},{name:"v-2ead0b8f",path:"/blog/2018/wasm/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-2ead0b8f").then(t)}},{path:"/blog/2018/wasm/index.html",redirect:"/blog/2018/wasm/"},{path:"/blog/18.2018/01.wasm.html",redirect:"/blog/2018/wasm/"},{name:"v-2db98d25",path:"/blog/2018/virtual-method-table-in-cpp/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-2db98d25").then(t)}},{path:"/blog/2018/virtual-method-table-in-cpp/index.html",redirect:"/blog/2018/virtual-method-table-in-cpp/"},{path:"/blog/18.2018/02.virtual-method-table-in-cpp.html",redirect:"/blog/2018/virtual-method-table-in-cpp/"},{name:"v-fb616756",path:"/blog/2018/global-var-in-nodejs/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-fb616756").then(t)}},{path:"/blog/2018/global-var-in-nodejs/index.html",redirect:"/blog/2018/global-var-in-nodejs/"},{path:"/blog/18.2018/03.global-var-in-nodejs.html",redirect:"/blog/2018/global-var-in-nodejs/"},{name:"v-74fd280b",path:"/blog/2018/cpp-rvalue/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-74fd280b").then(t)}},{path:"/blog/2018/cpp-rvalue/index.html",redirect:"/blog/2018/cpp-rvalue/"},{path:"/blog/18.2018/04.cpp-rvalue.html",redirect:"/blog/2018/cpp-rvalue/"},{name:"v-0e3c6cc3",path:"/blog/2018/cpp-extern/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-0e3c6cc3").then(t)}},{path:"/blog/2018/cpp-extern/index.html",redirect:"/blog/2018/cpp-extern/"},{path:"/blog/18.2018/05.cpp-keyword-extern.html",redirect:"/blog/2018/cpp-extern/"},{name:"v-1ba2a60a",path:"/blog/2019/x-filter/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-1ba2a60a").then(t)}},{path:"/blog/2019/x-filter/index.html",redirect:"/blog/2019/x-filter/"},{path:"/blog/19.2019/00.x-filter.html",redirect:"/blog/2019/x-filter/"},{name:"v-21a92ca5",path:"/blog/2020/opensuse-env-config/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-21a92ca5").then(t)}},{path:"/blog/2020/opensuse-env-config/index.html",redirect:"/blog/2020/opensuse-env-config/"},{path:"/blog/19.2019/01.opensuse-env-config.html",redirect:"/blog/2020/opensuse-env-config/"},{name:"v-e220d9f6",path:"/blog/2019/blog-optimize/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-e220d9f6").then(t)}},{path:"/blog/2019/blog-optimize/index.html",redirect:"/blog/2019/blog-optimize/"},{path:"/blog/19.2019/03.blog-optimize.html",redirect:"/blog/2019/blog-optimize/"},{name:"v-001f87ba",path:"/blog/2019/fe-deploy/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-001f87ba").then(t)}},{path:"/blog/2019/fe-deploy/index.html",redirect:"/blog/2019/fe-deploy/"},{path:"/blog/19.2019/04.fe-router-deploy.html",redirect:"/blog/2019/fe-deploy/"},{name:"v-476b2cc5",path:"/blog/2020/js-call-stack/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-476b2cc5").then(t)}},{path:"/blog/2020/js-call-stack/index.html",redirect:"/blog/2020/js-call-stack/"},{path:"/blog/20.2020/00.js-call-stack.html",redirect:"/blog/2020/js-call-stack/"},{name:"v-332942f6",path:"/blog/2024/2023-hot-FE-tech/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-332942f6").then(t)}},{path:"/blog/2024/2023-hot-FE-tech/index.html",redirect:"/blog/2024/2023-hot-FE-tech/"},{path:"/blog/24.2024/00.2023hot-FE-tech.html",redirect:"/blog/2024/2023-hot-FE-tech/"},{name:"v-dfd180f6",path:"/blog/2024/what-is-a-good-arch/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-dfd180f6").then(t)}},{path:"/blog/2024/what-is-a-good-arch/index.html",redirect:"/blog/2024/what-is-a-good-arch/"},{path:"/blog/24.2024/01.what-is-a-good-arch.html",redirect:"/blog/2024/what-is-a-good-arch/"},{name:"v-967ded36",path:"/blog/2024/absolute-security/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-967ded36").then(t)}},{path:"/blog/2024/absolute-security/index.html",redirect:"/blog/2024/absolute-security/"},{path:"/blog/24.2024/02.absolute-security.html",redirect:"/blog/2024/absolute-security/"},{name:"v-04276b56",path:"/blog/2024/race-condition-in-js/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-04276b56").then(t)}},{path:"/blog/2024/race-condition-in-js/index.html",redirect:"/blog/2024/race-condition-in-js/"},{path:"/blog/24.2024/03.race-condition-in-js.html",redirect:"/blog/2024/race-condition-in-js/"},{name:"v-9c6fe26a",path:"/blog/2024/how-to-verify-you-is-you/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-9c6fe26a").then(t)}},{path:"/blog/2024/how-to-verify-you-is-you/index.html",redirect:"/blog/2024/how-to-verify-you-is-you/"},{path:"/blog/24.2024/04.how-to-verify-you-is-you.html",redirect:"/blog/2024/how-to-verify-you-is-you/"},{name:"v-2bd19845",path:"/computer-graphics/games-101/review-of-linear-algrebra/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-2bd19845").then(t)}},{path:"/computer-graphics/games-101/review-of-linear-algrebra/index.html",redirect:"/computer-graphics/games-101/review-of-linear-algrebra/"},{path:"/computer-graphics/00.GAMES-101/01.review-of-linear-algrebra.html",redirect:"/computer-graphics/games-101/review-of-linear-algrebra/"},{name:"v-0f46c125",path:"/computer-graphics/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-0f46c125").then(t)}},{path:"/computer-graphics/index.html",redirect:"/computer-graphics/"},{path:"/computer-science/00.computer-graphics.html",redirect:"/computer-graphics/"},{name:"v-34fec19c",path:"/inbox/fragment/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-34fec19c").then(t)}},{path:"/inbox/fragment/index.html",redirect:"/inbox/fragment/"},{path:"/inbox/01.各种碎片.html",redirect:"/inbox/fragment/"},{name:"v-b12fc6c4",path:"/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-b12fc6c4").then(t)}},{path:"/index.html",redirect:"/"},{name:"v-d4d869b6",path:"/network/linux-with-network/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-d4d869b6").then(t)}},{path:"/network/linux-with-network/index.html",redirect:"/network/linux-with-network/"},{path:"/network/01.linux-with-network.html",redirect:"/network/linux-with-network/"},{name:"v-1459e065",path:"/pages/program-language/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-1459e065").then(t)}},{path:"/pages/program-language/index.html",redirect:"/pages/program-language/"},{path:"/pages/02.Program-Language.html",redirect:"/pages/program-language/"},{name:"v-c0149876",path:"/pages/design-pattern/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-c0149876").then(t)}},{path:"/pages/design-pattern/index.html",redirect:"/pages/design-pattern/"},{path:"/pages/03.Design-Pattern.html",redirect:"/pages/design-pattern/"},{name:"v-555b8c05",path:"/pages/3d/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-555b8c05").then(t)}},{path:"/pages/3d/index.html",redirect:"/pages/3d/"},{path:"/pages/05.3D.html",redirect:"/pages/3d/"},{name:"v-307c9236",path:"/pages/others/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-307c9236").then(t)}},{path:"/pages/others/index.html",redirect:"/pages/others/"},{path:"/pages/99.Others.html",redirect:"/pages/others/"},{name:"v-575c5965",path:"/fe/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-575c5965").then(t)}},{path:"/fe/index.html",redirect:"/fe/"},{path:"/professional-knowledge/00.FE.html",redirect:"/fe/"},{name:"v-97e49772",path:"/cloud-native/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-97e49772").then(t)}},{path:"/cloud-native/index.html",redirect:"/cloud-native/"},{path:"/professional-knowledge/01.cloud-native.html",redirect:"/cloud-native/"},{name:"v-2fbf65d7",path:"/ai/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-2fbf65d7").then(t)}},{path:"/ai/index.html",redirect:"/ai/"},{path:"/professional-knowledge/02.AI.html",redirect:"/ai/"},{name:"v-4a92beb3",path:"/programming-language/rust/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-4a92beb3").then(t)}},{path:"/programming-language/rust/index.html",redirect:"/programming-language/rust/"},{path:"/programming-language/00.Rust.html",redirect:"/programming-language/rust/"},{name:"v-1dfc763a",path:"/programming-language/javascript/",component:yc,beforeEnter:(n,e,t)=>{ds("Layout","v-1dfc763a").then(t)}},{path:"/programming-language/javascript/index.html",redirect:"/programming-language/javascript/"},{path:"/programming-language/01.JavaScript.html",redirect:"/programming-language/javascript/"},{path:"*",component:yc}],kc={title:"",description:"",base:"/",headTags:[["link",{rel:"icon",href:"https://sailor.ink/favicon.ico"}],["meta",{name:"theme-color",content:"#11a8cd"}]],pages:[{title:"归档",frontmatter:{archivesPage:!0,title:"归档",permalink:"/archives/",article:!1},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-566f6685",path:"/archives/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/05/27, 15:16:02",lastUpdatedTimestamp:1716794162e3},{title:"技术博客",frontmatter:{blogPage:!0,title:"技术博客",permalink:"/blog/",article:!1},regularPath:"/@pages/blogPage.html",relativePath:"@pages/blogPage.md",key:"v-3f7b02b6",path:"/blog/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/01/19, 09:25:01",lastUpdatedTimestamp:1705627501e3},{title:"分类",frontmatter:{categoriesPage:!0,title:"分类",permalink:"/categories/",article:!1},regularPath:"/@pages/categoriesPage.html",relativePath:"@pages/categoriesPage.md",key:"v-cfc43c36",path:"/categories/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2023/05/10, 20:19:22",lastUpdatedTimestamp:1683721162e3},{title:"标签",frontmatter:{tagsPage:!0,title:"标签",permalink:"/tags/",article:!1},regularPath:"/@pages/tagsPage.html",relativePath:"@pages/tagsPage.md",key:"v-964067f6",path:"/tags/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2023/05/10, 20:19:22",lastUpdatedTimestamp:1683721162e3},{title:"Links",frontmatter:{title:"Links",date:"2023-12-25T13:58:52.000Z",permalink:"/ai/llm/links",categories:["LLM"],tags:["链接"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/AI/00.Links.html",relativePath:"AI/00.Links.md",key:"v-21464336",path:"/ai/llm/links/",headersStr:null,content:"What Is ChatGPT Doing … and Why Does It Work?\n\nxuwenhao/geektime-ai-course\n\n大模型生成图表",normalizedContent:"what is chatgpt doing … and why does it work?\n\nxuwenhao/geektime-ai-course\n\n大模型生成图表",charsets:{cjk:!0},lastUpdated:"2024/06/12, 12:07:58",lastUpdatedTimestamp:1718165278e3},{title:"AI大模型之美",frontmatter:{title:"AI大模型之美",date:"2023-12-25T14:00:47.000Z",permalink:"/ai/geektime-ai-course",categories:["LLM","AI"],tags:["notes"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/AI/02.geektime-ai-course.html",relativePath:"AI/02.geektime-ai-course.md",key:"v-51adbf3f",path:"/ai/geektime-ai-course/",headersStr:null,content:"Q: 为什么人人都应该学习开发新一代的AI应用\n\n 1. 开发AI应用的门槛大幅降低。\n 2. 这一轮的浪潮中，对应技术能够应用的范围非常广泛。\n 3. 给每个人的工作都带来巨大冲击\n\n----------------------------------------\n\nEmbedding 向量化\n\n分类问题 传统机器学习方法：\n\n 1. 朴素贝叶斯\n 2. 逻辑回归\n 3. 随机数森林\n\n案例：评价语的情感分析、垃圾邮件的分类\n\n传统的挑战：特征工程\n\n使用大模型的Embedding之间的距离，进行零样本分类。\n\n----------------------------------------\n\nCompletion 利用大模型进行补全",normalizedContent:"q: 为什么人人都应该学习开发新一代的ai应用\n\n 1. 开发ai应用的门槛大幅降低。\n 2. 这一轮的浪潮中，对应技术能够应用的范围非常广泛。\n 3. 给每个人的工作都带来巨大冲击\n\n----------------------------------------\n\nembedding 向量化\n\n分类问题 传统机器学习方法：\n\n 1. 朴素贝叶斯\n 2. 逻辑回归\n 3. 随机数森林\n\n案例：评价语的情感分析、垃圾邮件的分类\n\n传统的挑战：特征工程\n\n使用大模型的embedding之间的距离，进行零样本分类。\n\n----------------------------------------\n\ncompletion 利用大模型进行补全",charsets:{cjk:!0},lastUpdated:"2024/06/12, 12:07:39",lastUpdatedTimestamp:1718165259e3},{title:"环境配置",frontmatter:{title:"环境配置",date:"2024-01-04T17:47:52.000Z",permalink:"/cloud-native/env-config",categories:["云原生"],tags:["云原生"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Cloud-Native/00.Docker/01.env-config.html",relativePath:"Cloud-Native/00.Docker/01.env-config.md",key:"v-d6596016",path:"/cloud-native/env-config/",headersStr:null,content:"在MacOS上，我目前最常用的是OrbStack，但是偶尔还是需要用到Docker Desktop，因此需要两者并存的方案。\n\n切换至Docker desktop\n\ndocker context use desktop-linux\n\n\n1\n\n\n切换至OrbStack\n\norb migrate docker\n\n\n1\n\n\n----------------------------------------\n\n2024年6月6日，DockerHub因不知名原因被墙，国内不少DockerHub的镜像站于同日宣布不在提供服务。国内使用Docker的难度一下子提升。\n\n在本地环境中，如果我们在有代理的情况下直接将docker的域名加入到代理中即可。docker必备的域名：\n\n*.docker.com\n*.docker.io\n\n\n1\n2\n\n\n将这俩加入到代理白名单后，即可实现dockerhub镜像的下载了。\n\n但是，针对不具备翻墙条件的环境来说，我们可以通过其他仍然存活的代理来使用。\n\n这里感谢一下某些无私的开发者以及团队，在如此艰难的时刻，为大家带来了便利:\n\nhttps://github.com/DaoCloud/public-image-mirror\n\n\n1\n",normalizedContent:"在macos上，我目前最常用的是orbstack，但是偶尔还是需要用到docker desktop，因此需要两者并存的方案。\n\n切换至docker desktop\n\ndocker context use desktop-linux\n\n\n1\n\n\n切换至orbstack\n\norb migrate docker\n\n\n1\n\n\n----------------------------------------\n\n2024年6月6日，dockerhub因不知名原因被墙，国内不少dockerhub的镜像站于同日宣布不在提供服务。国内使用docker的难度一下子提升。\n\n在本地环境中，如果我们在有代理的情况下直接将docker的域名加入到代理中即可。docker必备的域名：\n\n*.docker.com\n*.docker.io\n\n\n1\n2\n\n\n将这俩加入到代理白名单后，即可实现dockerhub镜像的下载了。\n\n但是，针对不具备翻墙条件的环境来说，我们可以通过其他仍然存活的代理来使用。\n\n这里感谢一下某些无私的开发者以及团队，在如此艰难的时刻，为大家带来了便利:\n\nhttps://github.com/daocloud/public-image-mirror\n\n\n1\n",charsets:{cjk:!0},lastUpdated:"2024/06/12, 12:07:39",lastUpdatedTimestamp:1718165259e3},{title:"K8S常用技巧",frontmatter:{title:"K8S常用技巧",date:"2024-05-21T17:47:52.000Z",permalink:"/cloud-native/k8s",categories:["云原生"],tags:["云原生"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Cloud-Native/02.K8S/02.K8S%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7.html",relativePath:"Cloud-Native/02.K8S/02.K8S常用技巧.md",key:"v-67d3018d",path:"/cloud-native/k8s/",headers:[{level:2,title:"常用命令",slug:"常用命令",normalizedTitle:"常用命令",charIndex:2}],headersStr:"常用命令",content:"# 常用命令\n\n 1. 重启Deployment\n\n一些场景下，我们不需要修改deploy的yaml，但是希望能重新部署一下。例如：镜像需要重新拉，CM修改需要重新挂载读取。\n\nk rollout restart deploy -n namespace deploy_name\n\n\n\n1\n2\n\n 2. NodePort的有效范围 Service 的NodePort所能占用的机器的端口的范围是30000-32767，因此无法将ingress-controller的service的nodeport设置为80来达到占用80的目的。\n\n通常常规的做法是在集群前面增加一个slb。",normalizedContent:"# 常用命令\n\n 1. 重启deployment\n\n一些场景下，我们不需要修改deploy的yaml，但是希望能重新部署一下。例如：镜像需要重新拉，cm修改需要重新挂载读取。\n\nk rollout restart deploy -n namespace deploy_name\n\n\n\n1\n2\n\n 2. nodeport的有效范围 service 的nodeport所能占用的机器的端口的范围是30000-32767，因此无法将ingress-controller的service的nodeport设置为80来达到占用80的目的。\n\n通常常规的做法是在集群前面增加一个slb。",charsets:{cjk:!0},lastUpdated:"2024/06/12, 12:07:39",lastUpdatedTimestamp:1718165259e3},{title:"软删除+唯一索引遇到的坑",frontmatter:{title:"软删除+唯一索引遇到的坑",date:"2024-07-17T19:08:52.000Z",permalink:"/db/mysql/soft-delete-and-unique-index",categories:["MySql"],tags:["MySql","Database"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/DB/00.MySql/01.%20%E8%BD%AF%E5%88%A0%E9%99%A4+%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91.html",relativePath:"DB/00.MySql/01. 软删除+唯一索引遇到的坑.md",key:"v-062149ae",path:"/db/mysql/soft-delete-and-unique-index/",headersStr:null,content:"软删除就是我们经常聊的逻辑删除，软删除的本质是使用某种标记的方案，使得数据实际上并没有删除，但是我们在对数据库进行增删改查的时候，这条数据都是被当作删除看待。\n\n为什么要采用软删除？\n\n因为我们的数据可能非常昂贵，如果由于用户不小心操作或者我们的代码逻辑产生bug使得数据丢失，那可能造成的后果非常严重，因此在很多场景上，我们都会采用软删除的手段来避免这个问题。\n\n----------------------------------------\n\n常见的ORM，一般也会提供软删除的能力，例如typeorm中，我们可以直接调用softDelete来将一条记录给软删除掉：\n\nthis.userEntity.softDelete(id);\n\n\n1\n\n\ntypeorm中，一般默认采用gmt_deleted这个字段来进行判断，初始值为null，如果删除，那么gmt_deleted就设置为删除的时间。golang的gorm也是类似，采用了一个deleted_at的字段。\n\n----------------------------------------\n\n再说到唯一索引，数据库中的唯一索引，是我们保证某个字段唯一性的有效手段。例如我们不希望注册用户的用户名重复，可以加上unique key (username)来进行控制。如果用户在注册的时候，填入了相同的用户名，那么数据库就会返回一个key名重复的报错。\n\n然而，在软删除场景，这一切都变的有意思起来。\n\n假设我们数据库中已经存在username为：xiaoming 的用户，此时我们再注册相同用户名的时候，预期是注册不了的。但是如果我删除了已经存在的这个用户，我们再进行注册，发现仍然还是注册不了。\n\n但是想想，这是对的，因为唯一索引根本不认你什么软删除，硬删除。对于数据库中，这条记录就是存在的。因此注册的时候必然会报错。那么我们怎么办呢？\n\n一种方案是，将username和gmt_deleted设置一个联合索引，初始的时候为xiaoming-null，删除的时候为xiaoming-{deletetime}。然而，此时又陷入了另一个坑，那就是xiaoming-null 这个联合索引不生效，在mysql中，null 和null 既不相等，也不不相等。所以这个唯一索引就没什么作用了。\n\n所以应该怎么办呢？\n\n一种方案，是将gmt_deleted改造为删除的时间戳，初始值设为0。但是这个方案，我们可能需要去改造ORM的代码，成本还是相对有点高的。\n\n另一种方案，我们在执行软删除之前，先把这个唯一索引的字段给修改掉，例如，将xiaoming修改为xiaoming-{timestamp}，但是这个其实也有问题，假设我们的username为varchar(20)的字段，那么加上一个18位的时间戳，几乎肯定都会溢出了。因此在设计数据库的时候，就得把长度做好多余的留存。\n\n以上是最近在做项目的时候，遇到的坑，做个笔记。",normalizedContent:"软删除就是我们经常聊的逻辑删除，软删除的本质是使用某种标记的方案，使得数据实际上并没有删除，但是我们在对数据库进行增删改查的时候，这条数据都是被当作删除看待。\n\n为什么要采用软删除？\n\n因为我们的数据可能非常昂贵，如果由于用户不小心操作或者我们的代码逻辑产生bug使得数据丢失，那可能造成的后果非常严重，因此在很多场景上，我们都会采用软删除的手段来避免这个问题。\n\n----------------------------------------\n\n常见的orm，一般也会提供软删除的能力，例如typeorm中，我们可以直接调用softdelete来将一条记录给软删除掉：\n\nthis.userentity.softdelete(id);\n\n\n1\n\n\ntypeorm中，一般默认采用gmt_deleted这个字段来进行判断，初始值为null，如果删除，那么gmt_deleted就设置为删除的时间。golang的gorm也是类似，采用了一个deleted_at的字段。\n\n----------------------------------------\n\n再说到唯一索引，数据库中的唯一索引，是我们保证某个字段唯一性的有效手段。例如我们不希望注册用户的用户名重复，可以加上unique key (username)来进行控制。如果用户在注册的时候，填入了相同的用户名，那么数据库就会返回一个key名重复的报错。\n\n然而，在软删除场景，这一切都变的有意思起来。\n\n假设我们数据库中已经存在username为：xiaoming 的用户，此时我们再注册相同用户名的时候，预期是注册不了的。但是如果我删除了已经存在的这个用户，我们再进行注册，发现仍然还是注册不了。\n\n但是想想，这是对的，因为唯一索引根本不认你什么软删除，硬删除。对于数据库中，这条记录就是存在的。因此注册的时候必然会报错。那么我们怎么办呢？\n\n一种方案是，将username和gmt_deleted设置一个联合索引，初始的时候为xiaoming-null，删除的时候为xiaoming-{deletetime}。然而，此时又陷入了另一个坑，那就是xiaoming-null 这个联合索引不生效，在mysql中，null 和null 既不相等，也不不相等。所以这个唯一索引就没什么作用了。\n\n所以应该怎么办呢？\n\n一种方案，是将gmt_deleted改造为删除的时间戳，初始值设为0。但是这个方案，我们可能需要去改造orm的代码，成本还是相对有点高的。\n\n另一种方案，我们在执行软删除之前，先把这个唯一索引的字段给修改掉，例如，将xiaoming修改为xiaoming-{timestamp}，但是这个其实也有问题，假设我们的username为varchar(20)的字段，那么加上一个18位的时间戳，几乎肯定都会溢出了。因此在设计数据库的时候，就得把长度做好多余的留存。\n\n以上是最近在做项目的时候，遇到的坑，做个笔记。",charsets:{cjk:!0},lastUpdated:"2024/07/17, 19:45:31",lastUpdatedTimestamp:1721216731e3},{title:"设计模式之美",frontmatter:{title:"设计模式之美",date:"2024-01-04T17:47:52.000Z",permalink:"/pages/design-pattern/设计模式之美",categories:["设计模式"],tags:["设计模式"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Design-Pattern/01.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%BE%8E.html",relativePath:"Design-Pattern/01.设计模式之美.md",key:"v-af165e76",path:"/pages/design-pattern/设计模式之美/",headers:[{level:2,title:"分类",slug:"分类",normalizedTitle:"分类",charIndex:101},{level:3,title:"创建型",slug:"创建型",normalizedTitle:"创建型",charIndex:108},{level:3,title:"结构型",slug:"结构型",normalizedTitle:"结构型",charIndex:154},{level:3,title:"行为型",slug:"行为型",normalizedTitle:"行为型",charIndex:228},{level:2,title:"封装、抽象、继承、多态",slug:"封装、抽象、继承、多态",normalizedTitle:"封装、抽象、继承、多态",charIndex:368},{level:3,title:"封装",slug:"封装",normalizedTitle:"封装",charIndex:368}],headersStr:"分类 创建型 结构型 行为型 封装、抽象、继承、多态 封装",content:"# 设计原则\n\nSOLID原则\n\n 1. SRP 单一职责\n 2. OCP 开闭原则\n 3. LSP 里式替换原则\n 4. ISP 接口隔离原则\n 5. DIP 依赖倒置原则\n\n\n# 设计模式\n\n\n# 分类\n\n\n# 创建型\n\n 1. 单例模式\n 2. 工厂模式\n 3. 建造者模式\n 4. 原型模式\n\n\n# 结构型\n\n 1. 代理模式\n 2. 桥接模式\n 3. 装饰者模式\n 4. 适配器模式\n 5. 门面模式\n 6. 组合模式\n 7. 享元模式\n\n\n# 行为型\n\n 1.  观察者模式\n 2.  模板模式\n 3.  策略模式\n 4.  职责链模式\n 5.  迭代器模式\n 6.  状态模式\n 7.  访问者模式\n 8.  备忘录模式\n 9.  命令模式\n 10. 解释器模式\n 11. 中介模式\n\n\n# 面向对象\n\n类和对象\n\n\n# 封装、抽象、继承、多态\n\n\n# 封装\n\n定义：信息隐藏、数据访问保护",normalizedContent:"# 设计原则\n\nsolid原则\n\n 1. srp 单一职责\n 2. ocp 开闭原则\n 3. lsp 里式替换原则\n 4. isp 接口隔离原则\n 5. dip 依赖倒置原则\n\n\n# 设计模式\n\n\n# 分类\n\n\n# 创建型\n\n 1. 单例模式\n 2. 工厂模式\n 3. 建造者模式\n 4. 原型模式\n\n\n# 结构型\n\n 1. 代理模式\n 2. 桥接模式\n 3. 装饰者模式\n 4. 适配器模式\n 5. 门面模式\n 6. 组合模式\n 7. 享元模式\n\n\n# 行为型\n\n 1.  观察者模式\n 2.  模板模式\n 3.  策略模式\n 4.  职责链模式\n 5.  迭代器模式\n 6.  状态模式\n 7.  访问者模式\n 8.  备忘录模式\n 9.  命令模式\n 10. 解释器模式\n 11. 中介模式\n\n\n# 面向对象\n\n类和对象\n\n\n# 封装、抽象、继承、多态\n\n\n# 封装\n\n定义：信息隐藏、数据访问保护",charsets:{cjk:!0},lastUpdated:"2024/01/08, 19:49:22",lastUpdatedTimestamp:1704714562e3},{title:"前端与设计模式",frontmatter:{title:"前端与设计模式",date:"2024-01-05T17:47:52.000Z",permalink:"/pages/design-pattern/前端与设计模式",categories:["设计模式"],tags:["设计模式"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Design-Pattern/02.%E5%89%8D%E7%AB%AF%E4%B8%8E%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html",relativePath:"Design-Pattern/02.前端与设计模式.md",key:"v-14bb5c32",path:"/pages/design-pattern/前端与设计模式/",headersStr:null,content:"Javascript语言并不是一个纯粹的OOP语言，在JS中，函数是第一等公民。因此，原生的OOP的设计模式在Javascript中很多情况下实现有一定的困难。",normalizedContent:"javascript语言并不是一个纯粹的oop语言，在js中，函数是第一等公民。因此，原生的oop的设计模式在javascript中很多情况下实现有一定的困难。",charsets:{cjk:!0},lastUpdated:"2024/01/08, 19:49:22",lastUpdatedTimestamp:1704714562e3},{title:"依赖反转",frontmatter:{title:"依赖反转",date:"2024-01-08T19:37:52.000Z",permalink:"/pages/design-pattern/依赖反转",categories:["设计模式"],tags:["设计模式"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Design-Pattern/03.%E4%BE%9D%E8%B5%96%E5%8F%8D%E8%BD%AC.html",relativePath:"Design-Pattern/03.依赖反转.md",key:"v-6642a2d4",path:"/pages/design-pattern/依赖反转/",headersStr:null,content:"依赖反转是SOLID设计原则中的最后一个原理，Dependency Inversion。其核心的目的是减少模块与模块之间的耦合，提高代码的可维护性和扩展性。\n\n依赖反转的关键点：\n\n 1. 模块之前不应该存在直接的依赖关系，两者都应该依赖于抽象类或者接口\n 2. 抽象不应该依赖于细节，细节需要依赖于抽象\n\n下面以Node.js来举例，假设有一个UserSerivce类，需要从数据库中来查询用户信息，如果没有应用依赖反转，那么UserSerivce类需要依赖于数据库，这样会导致UserSerivce类与数据库耦合，如果数据库发生变化，那么UserSerivce类也需要跟着变化，这显然是不合理的。\n\nclass UserService {\n  constructor(db) {\n    this.db = db;\n  }\n  getUser(id) {\n    return this.db.getUser(id);\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n下面利用依赖反转来重构以上代码：\n\n// IUserRepository.ts\n\nabstract class IUserRepository {\n  getUser(id) {\n    throw new Error('not implemented');\n  }\n}\n\n// UserRepository.ts\nclass UserRepository extends IUserRepository {\n  constructor(db) {\n    super();\n    this.db = db;\n  }\n  getUser(id) {\n    return this.db.getUser(id);\n  }\n}\n\n// UserSerivce.ts\nclass UserSerivce {\n  constructor(userRepository) {\n    this.userRepository = userRepository;\n  }\n  getUserInfo(id) {\n    return this.userRepository.getUser(id);\n  }\n}\n\n//app.ts\nconst Db = require('./db');\nconst UserRepository = require('./UserRepository');\nconst UserService = require('./UserService');\nconst db = new Db()\nconst userRepository = new UserRepository(db);\nconst userService = new UserService(userRepository);\n\nuserService.getUserInfo(1);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n通过这种依赖反转的方式，如果我们需要增加缓存或者是更换数据库技术，那么只需要重新实现一个IUserRepostory即可，UserServicelei本身不需要与存储细节耦合。",normalizedContent:"依赖反转是solid设计原则中的最后一个原理，dependency inversion。其核心的目的是减少模块与模块之间的耦合，提高代码的可维护性和扩展性。\n\n依赖反转的关键点：\n\n 1. 模块之前不应该存在直接的依赖关系，两者都应该依赖于抽象类或者接口\n 2. 抽象不应该依赖于细节，细节需要依赖于抽象\n\n下面以node.js来举例，假设有一个userserivce类，需要从数据库中来查询用户信息，如果没有应用依赖反转，那么userserivce类需要依赖于数据库，这样会导致userserivce类与数据库耦合，如果数据库发生变化，那么userserivce类也需要跟着变化，这显然是不合理的。\n\nclass userservice {\n  constructor(db) {\n    this.db = db;\n  }\n  getuser(id) {\n    return this.db.getuser(id);\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n下面利用依赖反转来重构以上代码：\n\n// iuserrepository.ts\n\nabstract class iuserrepository {\n  getuser(id) {\n    throw new error('not implemented');\n  }\n}\n\n// userrepository.ts\nclass userrepository extends iuserrepository {\n  constructor(db) {\n    super();\n    this.db = db;\n  }\n  getuser(id) {\n    return this.db.getuser(id);\n  }\n}\n\n// userserivce.ts\nclass userserivce {\n  constructor(userrepository) {\n    this.userrepository = userrepository;\n  }\n  getuserinfo(id) {\n    return this.userrepository.getuser(id);\n  }\n}\n\n//app.ts\nconst db = require('./db');\nconst userrepository = require('./userrepository');\nconst userservice = require('./userservice');\nconst db = new db()\nconst userrepository = new userrepository(db);\nconst userservice = new userservice(userrepository);\n\nuserservice.getuserinfo(1);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n通过这种依赖反转的方式，如果我们需要增加缓存或者是更换数据库技术，那么只需要重新实现一个iuserrepostory即可，userservicelei本身不需要与存储细节耦合。",charsets:{cjk:!0},lastUpdated:"2024/01/08, 19:49:22",lastUpdatedTimestamp:1704714562e3},{title:"踩坑记录",frontmatter:{title:"踩坑记录",date:"2024-01-04T18:47:52.000Z",permalink:"/fe/nodejs/踩坑记录",categories:["Node.js","踩坑记录"],tags:["踩坑记录"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/FE/01.Nodejs/01.%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95.html",relativePath:"FE/01.Nodejs/01.踩坑记录.md",key:"v-4a6e4fe3",path:"/fe/nodejs/踩坑记录/",headers:[{level:2,title:"Node17后采用OPENSSL_CONF依赖库 导致部分旧的Webpack的插件包错",slug:"node17后采用openssl-conf依赖库-导致部分旧的webpack的插件包错",normalizedTitle:"node17后采用openssl_conf依赖库 导致部分旧的webpack的插件包错",charIndex:2}],headersStr:"Node17后采用OPENSSL_CONF依赖库 导致部分旧的Webpack的插件包错",content:'# Node17后采用OPENSSL_CONF依赖库 导致部分旧的Webpack的插件包错\n\n解决方案： 你可以通过设置环境变量来解决这个问题。在Linux或MacOS上，你可以在终端中运行以下命令：\n\nexport NODE_OPTIONS=--openssl-legacy-provider\n\n\n1\n\n\n或者在项目的package.json中来添加这个环境变量\n\n"scripts": {\n  "build": "NODE_OPTIONS=--openssl-legacy-provider npx webpack --mode production"\n}\n\n\n1\n2\n3\n\n\n为什么 NODE_OPTIONS=--openssl-legacy-provider && npx webpack --mode production不行 而 NODE_OPTIONS=--openssl-legacy-provider npx webpack --mode production 可以呢?\n\n&& 用于连接两个命令，所以需要这样写：\n\nexport NODE_OPTIONS=--openssl-legacy-provider && npx webpack --mode production\n\n\n1\n\n\n否则NODE_OPTIONS这个变量的设置不会被作为环境变量被npm读取到。',normalizedContent:'# node17后采用openssl_conf依赖库 导致部分旧的webpack的插件包错\n\n解决方案： 你可以通过设置环境变量来解决这个问题。在linux或macos上，你可以在终端中运行以下命令：\n\nexport node_options=--openssl-legacy-provider\n\n\n1\n\n\n或者在项目的package.json中来添加这个环境变量\n\n"scripts": {\n  "build": "node_options=--openssl-legacy-provider npx webpack --mode production"\n}\n\n\n1\n2\n3\n\n\n为什么 node_options=--openssl-legacy-provider && npx webpack --mode production不行 而 node_options=--openssl-legacy-provider npx webpack --mode production 可以呢?\n\n&& 用于连接两个命令，所以需要这样写：\n\nexport node_options=--openssl-legacy-provider && npx webpack --mode production\n\n\n1\n\n\n否则node_options这个变量的设置不会被作为环境变量被npm读取到。',charsets:{cjk:!0},lastUpdated:"2024/05/27, 15:16:02",lastUpdatedTimestamp:1716794162e3},{title:"浏览器",frontmatter:{title:"浏览器",date:"2021-08-10T18:47:52.000Z",permalink:"/fe/前端技术/浏览器",categories:["前端"],tags:["浏览器"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/FE/02.%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/01.%E6%B5%8F%E8%A7%88%E5%99%A8.html",relativePath:"FE/02.前端技术/01.浏览器.md",key:"v-7366bd62",path:"/fe/前端技术/浏览器/",headers:[{level:2,title:"浏览器渲染中 重排、重绘、合成",slug:"浏览器渲染中-重排、重绘、合成",normalizedTitle:"浏览器渲染中 重排、重绘、合成",charIndex:396},{level:3,title:"浏览器请求过程",slug:"浏览器请求过程",normalizedTitle:"浏览器请求过程",charIndex:1143},{level:2,title:"浏览器输入地址后的流程",slug:"浏览器输入地址后的流程",normalizedTitle:"浏览器输入地址后的流程",charIndex:1523}],headersStr:"浏览器渲染中 重排、重绘、合成 浏览器请求过程 浏览器输入地址后的流程",content:'浏览器 渲染主线程消费消息队列 执行任务 IO线程等负责生产队列\n\n页面渲染采用单线程的弊端：\n\n 1. 如何处理更高优先级的事情 microTask 的产生就是为了解决这个问题的 消息队列中的任务称为宏任务，而每个宏任务里又有一个微任务队列。当宏任务的主要任务执行完后，宏任务里的微任务队列开始执行，执行完成后，才会开始执行下一个任务。\n 2. 单个任务执行时间过长，导致所有其它的任务都会被延后。\n\n基于消息队列的设计是目前最广泛的消息架构，无论是Android还是浏览器，都采用这种方式。\n\n除了正常消费的消息队列，chrome中还存在一个异步队列，用来存放Chrome本身的一些需要延时处理的任务，\n\n当然setTimeout这种异步的任务，也会被放到这个队列中。而像clearTimeout这种api就是从当前的延时队列中去除掉这个\n\n宏任务由宿主发起\n\n微任务由引擎发起\n\n\n# 浏览器渲染中 重排、重绘、合成\n\n 1. 重排\n    1. 修改宽高等属性会触发重排，即整个渲染流水线都得重新走一遍。\n 2. 重绘 相比于重排，重绘跳过布局、分层阶段，开销减少很多\n    1. 修改色彩等绘制属性的时候，仅触发重绘。\n 3. 触发一个既不需要重排也不需要重绘的属性，浏览器就会跳过布局和绘制阶段\n    1. transform的动画即是合成阶段，不会触发重绘和重排。\n\n渲染流水线：\n\n 1. 构建DOM树 输入HTML标签 输出DOM树 从浏览器获取到HTML文件时，构建DOM树的过程已经开始了，因此即使样式表下载过慢，也不会阻塞这一过程，阻塞的只是渲染的过程。\n 2. 样式计算\n    1. 首先要构建“CSS tree”，将各个位置的样式都转化成浏览器可以搞懂的样式树。\n    2. 其次将样式中一些单位、色彩转成浏览器可以理解的，如像素，色值。\n    3. 将样式树应用在dom树上，计算出每个dom节点的具体样式。\n 3. 布局阶段\n    1. 创建布局树，去除一些不需要展示的dom节点。\n    2. 布局计算，计算布局树上每个节点的坐标和位置。这些计算后的坐标信息仍然会写进布局树中。\n    3. 分层\n       1. 创建图层 根据布局树来计算图层，拥有层叠上下文的属性的元素会被单独列为一层。\n       2. 层叠上下文\n 4. 图层绘制\n    1. 图层绘制并不会真正绘制，而是输出绘制指令的列表。\n 5. 栅格化（raster）\n    1. 栅格化才是真正去做绘制的步骤。渲染进程在做好绘制指令后，会将操作提交给渲染引擎的合成进程，这部分会采用GPU进行绘制。合成进程会将网页分成多个图块，以当前视窗优先级最高。\n\n\n# 浏览器请求过程\n\n * 浏览器发送请求\n   1. 构建HTTP请求行\n   2. 浏览器本地缓存拦截\n   3. DNS查询 IP + 端口确定\n   4. 进入TCP队列\n      * HTTP1.1中 由于一个TCP只能同时进行一个HTTP请求，所以一个域名）下，chrome浏览器只能同时存在6个TCP请求，当然这些HTTP完成后，这个TCP不会断开，而是被后面的HTTP请求复用。（因为是域名纬度，所以一些资源可以放在其他域名下，比如CDN）\n      * HTTP2.0中 一个TCP中可以进行并行请求，所以浏览器只会维护一个TCP请求。\n   5. 建立TCP连接 发送TCP请求\n * 服务端处理请求\n   1. 接受到TCP请求\n   2. 服务端应用处理请求\n   3. 返回HTTP响应头、响应体\n   4. 断开TCP连接\n\n\n# 浏览器输入地址后的流程\n\n 1. 用户输入URL地址\n 2. 发起请求 [[浏览器请求过程]]\n 3. 准备渲染流程\n    1. 如果从一个标签页打开了另一个新标签，如果这个新标签和原页面是same-site的，那么chrome不会重新开一个渲染进程，而是复用父页面的进程。否则，则新开一个进程来进行渲染。\n    2. 如果链接带有rel="noopener noreferrer"属性，则即使是same-site的页面，也不会复用父页面进程。使用 noopener noreferrer 就是告诉浏览器 新打开的子页面不需要访问父页面的任何信息。这是一个安全策略，防止钓鱼网站。\n 4. 提交文档 CommitNavigation\n    1. 浏览器接收到响应头后向渲染进程发送提交文档的消息\n    2. 渲染进程和网络进程开启通道\n    3. 网络数据传输后，渲染进程通知浏览器“确认提交”\n    4. 浏览器更新页面、URL地址等状态\n 5. 渲染',normalizedContent:'浏览器 渲染主线程消费消息队列 执行任务 io线程等负责生产队列\n\n页面渲染采用单线程的弊端：\n\n 1. 如何处理更高优先级的事情 microtask 的产生就是为了解决这个问题的 消息队列中的任务称为宏任务，而每个宏任务里又有一个微任务队列。当宏任务的主要任务执行完后，宏任务里的微任务队列开始执行，执行完成后，才会开始执行下一个任务。\n 2. 单个任务执行时间过长，导致所有其它的任务都会被延后。\n\n基于消息队列的设计是目前最广泛的消息架构，无论是android还是浏览器，都采用这种方式。\n\n除了正常消费的消息队列，chrome中还存在一个异步队列，用来存放chrome本身的一些需要延时处理的任务，\n\n当然settimeout这种异步的任务，也会被放到这个队列中。而像cleartimeout这种api就是从当前的延时队列中去除掉这个\n\n宏任务由宿主发起\n\n微任务由引擎发起\n\n\n# 浏览器渲染中 重排、重绘、合成\n\n 1. 重排\n    1. 修改宽高等属性会触发重排，即整个渲染流水线都得重新走一遍。\n 2. 重绘 相比于重排，重绘跳过布局、分层阶段，开销减少很多\n    1. 修改色彩等绘制属性的时候，仅触发重绘。\n 3. 触发一个既不需要重排也不需要重绘的属性，浏览器就会跳过布局和绘制阶段\n    1. transform的动画即是合成阶段，不会触发重绘和重排。\n\n渲染流水线：\n\n 1. 构建dom树 输入html标签 输出dom树 从浏览器获取到html文件时，构建dom树的过程已经开始了，因此即使样式表下载过慢，也不会阻塞这一过程，阻塞的只是渲染的过程。\n 2. 样式计算\n    1. 首先要构建“css tree”，将各个位置的样式都转化成浏览器可以搞懂的样式树。\n    2. 其次将样式中一些单位、色彩转成浏览器可以理解的，如像素，色值。\n    3. 将样式树应用在dom树上，计算出每个dom节点的具体样式。\n 3. 布局阶段\n    1. 创建布局树，去除一些不需要展示的dom节点。\n    2. 布局计算，计算布局树上每个节点的坐标和位置。这些计算后的坐标信息仍然会写进布局树中。\n    3. 分层\n       1. 创建图层 根据布局树来计算图层，拥有层叠上下文的属性的元素会被单独列为一层。\n       2. 层叠上下文\n 4. 图层绘制\n    1. 图层绘制并不会真正绘制，而是输出绘制指令的列表。\n 5. 栅格化（raster）\n    1. 栅格化才是真正去做绘制的步骤。渲染进程在做好绘制指令后，会将操作提交给渲染引擎的合成进程，这部分会采用gpu进行绘制。合成进程会将网页分成多个图块，以当前视窗优先级最高。\n\n\n# 浏览器请求过程\n\n * 浏览器发送请求\n   1. 构建http请求行\n   2. 浏览器本地缓存拦截\n   3. dns查询 ip + 端口确定\n   4. 进入tcp队列\n      * http1.1中 由于一个tcp只能同时进行一个http请求，所以一个域名）下，chrome浏览器只能同时存在6个tcp请求，当然这些http完成后，这个tcp不会断开，而是被后面的http请求复用。（因为是域名纬度，所以一些资源可以放在其他域名下，比如cdn）\n      * http2.0中 一个tcp中可以进行并行请求，所以浏览器只会维护一个tcp请求。\n   5. 建立tcp连接 发送tcp请求\n * 服务端处理请求\n   1. 接受到tcp请求\n   2. 服务端应用处理请求\n   3. 返回http响应头、响应体\n   4. 断开tcp连接\n\n\n# 浏览器输入地址后的流程\n\n 1. 用户输入url地址\n 2. 发起请求 [[浏览器请求过程]]\n 3. 准备渲染流程\n    1. 如果从一个标签页打开了另一个新标签，如果这个新标签和原页面是same-site的，那么chrome不会重新开一个渲染进程，而是复用父页面的进程。否则，则新开一个进程来进行渲染。\n    2. 如果链接带有rel="noopener noreferrer"属性，则即使是same-site的页面，也不会复用父页面进程。使用 noopener noreferrer 就是告诉浏览器 新打开的子页面不需要访问父页面的任何信息。这是一个安全策略，防止钓鱼网站。\n 4. 提交文档 commitnavigation\n    1. 浏览器接收到响应头后向渲染进程发送提交文档的消息\n    2. 渲染进程和网络进程开启通道\n    3. 网络数据传输后，渲染进程通知浏览器“确认提交”\n    4. 浏览器更新页面、url地址等状态\n 5. 渲染',charsets:{cjk:!0},lastUpdated:"2024/05/27, 15:16:02",lastUpdatedTimestamp:1716794162e3},{title:"JS执行相关",frontmatter:{title:"JS执行相关",date:"2021-08-10T18:47:52.000Z",permalink:"/fe/前端技术/JS执行",categories:["前端"],tags:["浏览器","JavaScript"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/FE/02.%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/02.JS%E6%89%A7%E8%A1%8C.html",relativePath:"FE/02.前端技术/02.JS执行.md",key:"v-2dd33af0",path:"/fe/前端技术/JS执行/",headers:[{level:2,title:"JS执行 调用栈",slug:"js执行-调用栈",normalizedTitle:"js执行 调用栈",charIndex:2},{level:2,title:"作用域链",slug:"作用域链",normalizedTitle:"作用域链",charIndex:358}],headersStr:"JS执行 调用栈 作用域链",content:"# JS执行 调用栈\n\nv8解析js代码后，不会直接运行，会先编译，生成上下文后，再运行。\n\n 1. 编译代码，生成全局上下文\n 2. 进入函数后，创建运行上下文，函数运行结束后，运行上下文被销毁\n 3. 进入eval后，创建运行上下文。\n\n运行前，首先会将全局上下文压入调用栈。执行代码期间，如果遇到变量赋值等操作会改变一下全局上下文中的变量环境。如果遇到函数，会创建函数的运行上下文，并压入调用栈。函数内的过程和全局过程是一次递归。函数运行结束后，上下文销毁，出栈。直至全局代码运行完。\n\n调用栈可能会爆栈。当递归次数比较多的时候，通常会上万，这时候调用栈会溢出。实验表明，即使是尾递归再当前的v8版本也会爆栈，再Safari中不会，应该是被优化成了迭代。\n\nES6中的箭头函数不会创建自己的执行上下文\n\n\n# 作用域链\n\n代码中出现相同的变量，JS引擎如何来决定用哪一个呢？\n\n如下代码：\n\nfunction foo() {\n\tconsole.log(title);\n}\nfunction bar() {\n\tvar title = 'bar';\n\tfoo();\n}\nvar title = 'global';\nbar();\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n输出结果为: global;\n\n[[JS执行 调用栈]]中讲到，js的执行环境由调用栈来控制。不妨站在这个角度看下。\n\n 1. 首先进入全局上下文，从头开始运行，函数定义、变量定义，变量赋值\n 2. bar()调用，创建bar的执行上下文，变量定义、赋值\n 3. foo()调用，创建foo的执行上下文，这时候，需要打印出title的值。\n 4. foo执行完毕，销毁上下文。bar执行完毕，销毁上下文。全局执行环境，销毁上下文。\n\n可见，title并没有直接取调用栈最上买呢的bar的上下文中的变量环境，而是取了global的值。\n\n这是因为调用栈中，变量环境中都有一个outer的引用，用来指向外部执行环境，如果变量没有在当环境中找到，那么就会取外部执行环境来取。这个过程叫做作用域链，那为啥这个外部环境不是bar呢？\n\n这是因为js的 作用域链是由词法作用域决定的，而这个词法作用域和运行时是没有任何关系的。看下面的代码：\n\nfunction bar() {\n\tfunction foo() {\n\t\tconsole.log(title);\n\t}\n\tvar title = 'bar';\n\tfoo();\n}\nvar title = 'global';\nbar();\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n输出 bar\n\n之前一直知道js的作用域，但是在分析代码运行的时候，从来没有站在调用栈的角度去思考问题。",normalizedContent:"# js执行 调用栈\n\nv8解析js代码后，不会直接运行，会先编译，生成上下文后，再运行。\n\n 1. 编译代码，生成全局上下文\n 2. 进入函数后，创建运行上下文，函数运行结束后，运行上下文被销毁\n 3. 进入eval后，创建运行上下文。\n\n运行前，首先会将全局上下文压入调用栈。执行代码期间，如果遇到变量赋值等操作会改变一下全局上下文中的变量环境。如果遇到函数，会创建函数的运行上下文，并压入调用栈。函数内的过程和全局过程是一次递归。函数运行结束后，上下文销毁，出栈。直至全局代码运行完。\n\n调用栈可能会爆栈。当递归次数比较多的时候，通常会上万，这时候调用栈会溢出。实验表明，即使是尾递归再当前的v8版本也会爆栈，再safari中不会，应该是被优化成了迭代。\n\nes6中的箭头函数不会创建自己的执行上下文\n\n\n# 作用域链\n\n代码中出现相同的变量，js引擎如何来决定用哪一个呢？\n\n如下代码：\n\nfunction foo() {\n\tconsole.log(title);\n}\nfunction bar() {\n\tvar title = 'bar';\n\tfoo();\n}\nvar title = 'global';\nbar();\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n输出结果为: global;\n\n[[js执行 调用栈]]中讲到，js的执行环境由调用栈来控制。不妨站在这个角度看下。\n\n 1. 首先进入全局上下文，从头开始运行，函数定义、变量定义，变量赋值\n 2. bar()调用，创建bar的执行上下文，变量定义、赋值\n 3. foo()调用，创建foo的执行上下文，这时候，需要打印出title的值。\n 4. foo执行完毕，销毁上下文。bar执行完毕，销毁上下文。全局执行环境，销毁上下文。\n\n可见，title并没有直接取调用栈最上买呢的bar的上下文中的变量环境，而是取了global的值。\n\n这是因为调用栈中，变量环境中都有一个outer的引用，用来指向外部执行环境，如果变量没有在当环境中找到，那么就会取外部执行环境来取。这个过程叫做作用域链，那为啥这个外部环境不是bar呢？\n\n这是因为js的 作用域链是由词法作用域决定的，而这个词法作用域和运行时是没有任何关系的。看下面的代码：\n\nfunction bar() {\n\tfunction foo() {\n\t\tconsole.log(title);\n\t}\n\tvar title = 'bar';\n\tfoo();\n}\nvar title = 'global';\nbar();\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n输出 bar\n\n之前一直知道js的作用域，但是在分析代码运行的时候，从来没有站在调用栈的角度去思考问题。",charsets:{cjk:!0},lastUpdated:"2024/05/27, 15:16:02",lastUpdatedTimestamp:1716794162e3},{title:"webGL intro",frontmatter:{title:"webGL intro",date:"2018-10-30T19:24:29.000Z",permalink:"/fe/3d/webgl/intro",categories:["3D","WebGL"],tags:[null],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/FE/03.WebGL/00.intro.html",relativePath:"FE/03.WebGL/00.intro.md",key:"v-456da333",path:"/fe/3d/webgl/intro/",headers:[{level:2,title:"OpenGL介绍",slug:"opengl介绍",normalizedTitle:"opengl介绍",charIndex:2},{level:2,title:"WebGL简要介绍",slug:"webgl简要介绍",normalizedTitle:"webgl简要介绍",charIndex:141},{level:3,title:"WebGL怎么写？",slug:"webgl怎么写",normalizedTitle:"webgl怎么写？",charIndex:478},{level:3,title:"着色器的介绍",slug:"着色器的介绍",normalizedTitle:"着色器的介绍",charIndex:537},{level:3,title:"程序的介绍",slug:"程序的介绍",normalizedTitle:"程序的介绍",charIndex:1340},{level:3,title:"buffer的介绍",slug:"buffer的介绍",normalizedTitle:"buffer的介绍",charIndex:2124},{level:3,title:"图元的介绍",slug:"图元的介绍",normalizedTitle:"图元的介绍",charIndex:2436},{level:2,title:"简单的几何学",slug:"简单的几何学",normalizedTitle:"简单的几何学",charIndex:2556},{level:3,title:"投影",slug:"投影",normalizedTitle:"投影",charIndex:2567},{level:3,title:"变换",slug:"变换",normalizedTitle:"变换",charIndex:3543},{level:3,title:"小结",slug:"小结",normalizedTitle:"小结",charIndex:4859},{level:2,title:"Three.js简介",slug:"three-js简介",normalizedTitle:"three.js简介",charIndex:5049},{level:3,title:"Render",slug:"render",normalizedTitle:"render",charIndex:5071},{level:3,title:"Scene",slug:"scene",normalizedTitle:"scene",charIndex:5084},{level:3,title:"camera",slug:"camera",normalizedTitle:"camera",charIndex:5271},{level:3,title:"物体",slug:"物体",normalizedTitle:"物体",charIndex:2693},{level:4,title:"形状",slug:"形状",normalizedTitle:"形状",charIndex:5879},{level:4,title:"材质",slug:"材质",normalizedTitle:"材质",charIndex:5885},{level:3,title:"动画",slug:"动画",normalizedTitle:"动画",charIndex:6701},{level:3,title:"光源",slug:"光源",normalizedTitle:"光源",charIndex:6760},{level:3,title:"引入外部模型",slug:"引入外部模型",normalizedTitle:"引入外部模型",charIndex:6800},{level:3,title:"调试",slug:"调试",normalizedTitle:"调试",charIndex:6887},{level:2,title:"Three.js 部分代码分析",slug:"three-js-部分代码分析",normalizedTitle:"three.js 部分代码分析",charIndex:7e3},{level:3,title:"lookAt 的矩阵生成",slug:"lookat-的矩阵生成",normalizedTitle:"lookat 的矩阵生成",charIndex:7020},{level:2,title:"总结",slug:"总结",normalizedTitle:"总结",charIndex:8073},{level:3,title:"用途：",slug:"用途",normalizedTitle:"用途：",charIndex:8080},{level:2,title:"参考:",slug:"参考",normalizedTitle:"参考:",charIndex:8162}],headersStr:"OpenGL介绍 WebGL简要介绍 WebGL怎么写？ 着色器的介绍 程序的介绍 buffer的介绍 图元的介绍 简单的几何学 投影 变换 小结 Three.js简介 Render Scene camera 物体 形状 材质 动画 光源 引入外部模型 调试 Three.js 部分代码分析 lookAt 的矩阵生成 总结 用途： 参考:",content:'# OpenGL介绍\n\n * OpenGL 是一种跨平台的图形 API，其自诞生至今已催生了各种计算机平台及设备上的数千优秀应用程序。\n * 目前OpenGL已经停止更新了，同一公司下的Vulkan引擎在将来可能会大放异彩。但是这并不妨碍我们学习WebGL与OpenGL。\n\n\n# WebGL简要介绍\n\n * WebGL是一种3D绘图协议。\n\n * 在Linux/Unix和MacOS上，WebGL是基于OpenGL的，而在Windows系统上，则是基于微软的DirectX。\n\n * 这种绘图技术标准允许把JavaScript和OpenGL ES 2.0结合在一起，WebGL可以为HTML5 Canvas提供硬件3D加速渲染，\n\n * 这样Web开发人员就可以借助系统显卡来在浏览器里更流畅地展示3D场景和模型。\n\n * 目前WebGL技术在各个方面都有很多应用，Google的街景地图，3D的可视化网页上的3D模型等等，像Three.js、AFrame这种3d框架也都是基于WebGL的。\n\n##Echarts的3D可视化例子： 3d可视化\n\n\n# WebGL怎么写？\n\n * 着色器（Shader）\n * 程序（Program）\n * 数据（Buffer）\n\n\n# 着色器的介绍\n\n * 着色器程序，是运行在 GPU 中负责渲染算法的一类总称。语言是类似C语法的GLSL。因为写的代码是执行在 CPU 中的，因此，现在我们可以自豪地说，我们在写 GPU 程序...\n\n * 事实上，着色器通常是用来做一些渲染效果上的事，比如水面的渲染、马赛克效果、素描风格化渲染等等……\n\n着色器有两种：\n\n 1. 顶点着色器\n 2. 片段（片元）着色器\n\n * 在顶点着色器中，可以访问到顶点的三维位置、颜色、法向量等信息。可以通过修改这些值，或者将其传递到片元着色器中，实现特定的渲染效果。\n * 在片元着色器中，可以访问到片元在二维屏幕上的坐标、深度信息、颜色等信息。通过改变这些值，可以实现特定的渲染效果。\n\ne.g.\n\nattribute vec2 a_position;\nuniform vec2 u_resolution;\nvoid main()\n{\n    vec2 zeroToOne = a_position / u_resolution;\n    vec2 zeroToTwo = zeroToOne * 2.0;\n    vec2 clipSpace = zeroToTwo - 1.0;\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nprecision mediump float;\nvoid main ()\n{\n    gl_FragColor = vec4(1, 0, 0.5, 1);\n}\n\n\n1\n2\n3\n4\n5\n\n\n写在哪里？\n\n 1. 拼接字符串\n 2. Type不为javascript的script标签中\n 3. ES6中的多行字符串将着色器代码写到js中\n\n[slide style="text-align: left;"]\n\n\n# 程序的介绍\n\nProgram是着色器的容器，我们写好着色器代码后，需要用Program将其引入到js中，并且链接，交给WebGL。\n\n * 写一个C程序的步骤：\n   \n   1. 创建一个文件(.c)\n   2. 写源代码\n   3. 编译为obj文件(.o)\n   4. 链接，成为可执行文件\n\n * 怎么写着色器程序\n   \n   1. 创建一个着色器对象\n   2. 将源码放进着色器中\n   3. 编译着色器\n   4. 添加到程序中，并链接。\n\nvar vs,fs,vs_s,fs_s;\n//创建顶点着色器和片段着色器\nvs=webgl.createShader(webgl.VERTEX_SHADER);\nfs=webgl.createShader(webgl.FRAGMENT_SHADER);\n//着色器程序的源码\nvs_s="attribute vec4 p;void main(){gl_Position=p;}";\nfs_s="void main(){gl_FragColor=vec4(1.0,0.0,0.0,1.0);}";\n//把源码添加进着色器\nwebgl.shaderSource(vs,vs_s);\nwebgl.shaderSource(fs,fs_s);\n//编译着色器\nwebgl.compileShader(vs);\nwebgl.compileShader(fs);\n//把着色器添加到程序中\nwebgl.attachShader(program,vs);\nwebgl.attachShader(program,fs);\n//把这两个着色器程序链接成一个完整的程序\nwebgl.linkProgram(program);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# buffer的介绍\n\ncreatePositionBuffer = function () {\n\tlet b = this.gl.createBuffer();\n\tthis.gl.bindBuffer(this.gl.ARRAY_BUFFER, b);\n\tthis.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array(this.positions), this.gl.STATIC_DRAW);\n\tthis.positionBuffer = b;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nBuffer的主要作用就是存储图形所需要的数据，并且最后会传到着色器程序中。\n\n\n# 图元的介绍\n\n简单来讲，图元就是组成图像的基本单元，其实在WebGL中基本图元只有三大类，它们分别是，点、线和三角形。无论需要画什么样的图形都只能用这些图元去拼凑。\n\n三角形是最常用的图元，WebGL所有的图形都是由三角形拼成的。\n\n\n# 简单的几何学\n\n\n# 投影\n\n * 在WebGL和Three.js中，都是运用的右手坐标系，对于WebGL，X方向和Y方向的坐标范围都是[-1,1]，人眼观察的方向是Z轴的负方向。\n * 投影分为正交投影和透视投影。\n * 正交投影可以理解为上帝视角，人眼在Z轴的方向内观察物体没有任何偏移，我们看到的空间是一个正方体空间，最前面和最后面的东西的大小由坐标来决定。\n * 这样是真实的，但是却不符合人眼所看到的。\n\n> 横看成岭侧成峰 远景高低各不同\n\n因为透视，所以我们才会在相同的物体上看到不同的景色。 怎么在我们所绘制的内容中使用透视呢？ 我们先从一张图说起：\n\n假设我们人眼在EYE这个地方，往Z轴负方向看，离眼睛近的那条边的y的长度是[-1,1]，而离眼睛远的那条边的长度也是[-1,1]，这显然在透视模型中是不可能的。 所以我们要做一些变化，让我们的y根据z的不同来改变，所以这里我们假设有一个方法f(z)能够做到这一点，所以:$$f(z) = y$$,怎么来计算呢，假设我们知道FOV（机器所观察到的角度），在上图中，$$y/-z = tan(fov/2)$$;x同理$$x/-z = tan(fov/2)$$; 我们令$$f = 1/tan(fov/2)$$，故有$$y = 1/f * -z -> y = -z/f$$;\n\n有了以上知识，我们来构建我们的矩阵来将正交投影转为透视视图,这里有四个参数分别得到fov，屏幕比例，最近能够看到的点，最远能够看到的点。\n\nfunction perspective(fov,aspect,near,far){\n\tvar f = Math.tan(Math.PI/2 - fov/2);\n\tvar rangeInv = 1.0 / (near - far); \n\n\treturn [\n\t//  x         y  \tz  \t\t\t\t\t\t w \n\t\tf/aspect, 0, \t0, \t\t\t\t\t\t 0,\n\t\t0,        f, \t0, \t\t\t\t\t\t 0,\n\t\t0,        0, \t(near + far)*rangeInv,  -1,\n\t\t0,        0, \tnear*far* rangeInv *2,   0\n\t];\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 变换\n\n 1. 平移\n\n| ?  ?  ? |       | x |     | x+t |\n| ?  ?  ? |   *   | y |  =  | y+t |\n| ?  ?  ? |       | z |     | z+t |\n\n\n1\n2\n3\n\n\n这个矩阵怎么实现？\n\n在三维矩阵运算中，我们很难去定义这样一个矩阵满足如上的内容。 所以我们通过增加一维内容在实现平移的转换：\n\n| 1  0  0  t |       | x |      | x+t |\n| 0  1  0  t |       | y |      | y+t | \n| 0  0  1  t |   *   | z |   =  | z+t |\n| 0  0  0  1 |       | 1 |      |  1  |\n\n\n1\n2\n3\n4\n\n\n在shader中，gl_Position 的值为四维就是因为这个原因。可以通过四维矩阵乘法来保证齐次性变换\n\n 2. 旋转\n\n在webGL中，旋转操作对于某个物体来说是作用于这个物体上的每个顶点相对于原点沿着某条特定的线的旋转距离。 特殊情况下为绕X，Y，Z轴，在下面的情况中我们固定z轴，得到：\n\n故对于坐标点(x0,y0,z0)和目标坐标点(xr,yr,zr),如果转动了Θ角度：\n\n$$ cos(\\alpha+\\theta) = cos\\alpha cos\\theta - sin\\alpha sin\\theta $$\n\n| cosΘ  -sinΘ  0  0 |       | x |      | cosΘx0 - sinΘy0 |\n| sinΘ   cosΘ  0  0 |       | y |      | sinΘx0 + cosΘy0 | \n|    0      0  1  0 |   *   | z |   =  |  z  |\n|    0      0  0  1 |       | 1 |      |  1  |\n\n\n1\n2\n3\n4\n\n 3. 缩放\n\n| w  0  0 |       | x |     | w * x |\n| 0  w  0 |   *   | y |  =  | w * y |\n| 0  0  w |       | z |     | w * z |\n\n\n1\n2\n3\n\n\n但是为了统一，我们还是用四维的矩阵\n\n| w  0  0  0 |       | x |      | x * w |\n| 0  w  0  0 |       | y |      | y * w | \n| 0  0  w  0 |   *   | z |   =  | z * w |\n| 0  0  0  1 |       | 1 |      |   1   |\n\n\n1\n2\n3\n4\n\n\n无论是投影还是这里的变换，都用到了矩阵的变换\n\n在WebGL中的变换方式有两种，一种是javascript阶段，一种是shader阶段，由于shader阶段是在GPU中运算，而且GLSL对于矩阵有很好的优化，所以我们选择在shader中进行运算。\n\n\n# 小结\n\n因为 WebGL的各种API都是过程式的，用起来各种不方便，也很容易忘记。所以还是自己封装一下，更方便使用。\n\n其实不仅仅是前端，图形渲染对于整个软件工程来说，都是一个很特定的研究领域。这就意味着，大部分情况下，你可能并没有那么迫切的需求去学习它。这也是为什么，WebGL 标准推出了那么多年，在前端的各种分享会上，即使介绍，也永远都是 Hello World。\n\n\n# Three.js简介\n\n一个程序： 渲染器（Renderer） 场景（Scene） 照相机（Camera）\n\n\n# Render\n\n渲染器是将canvas元素和程序绑定的桥梁。一个THREE的程序，从渲染器开始，也从渲染器结束。\n\nrenderer = new THREE.WebGLRenderer(\n    document.getElementById(\'canvas\')\n);\n\n...\n\nrenderer.render(scene, camera);\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# Scene\n\n场景相当于一个比较大的容器，Three.js中的物体都是添加到场景中的，场景不会有很复杂的操作。 场景通常也会很早实例化。\n\n    var scene = new THREE.Scene();\n\n\n1\n\n\n\n# camera\n\n照相机。什么是照相机？\n\n现实中的照相机：咔嚓\n\n程序中的照相机：3维到2维的抽象\n\ncamera定义了三维空间到二维空间的投影方式。我们刚才已经谈到过投影有正交投影和透视投影之分，照相机也分这两种。\n\nTHREE.OrthgrapicCamera(left, right, top, bottom, near, far); //正交投影\nTHREE.PerspectiveCamera(fov, aspect, near, far) //透视投影\n\n\n1\n2\n\n\n而在webgl中，正交投影和透视投影，我们都得自己构造矩阵来进行变换，但是在Three.js中我们只需要传入特定的参数就可以。\n\ncamera有一个lookAt方法，lookAt函数接受的是一个THREE.Vector3的实例。使得相机朝指定的方向观察，关于这个函数的实现，后面和大家稍微分析一下。\n\n\n# 物体\n\n之前在WebGL，我们讲着色器分顶点着色器和片段着色器。着色器的叫法可能抽象了一点。在Three.js中，物体传入两个参数，一个是形状，一个是材质。\n\n# 形状\n\n在WebGL中，我们构造3D图形，需要传入图元的顶点，需要考虑用哪种图元保存的数组才是最小的。\n\n在Three.js中，封装了绝大多数的形状，我们写Three.js就像写Canvas一样。\n\nTHREE.SphereGeometry(radius, segmentsWidth, segmentsHeight, phiStart, phiLength, thetaStart, thetaLength) \n\n\n1\n\n\n比如构造一个球体，我们只需要调用上面的构造函数就可以。radius是半径；segmentsWidth表示经度上的切片数；segmentsHeight表示纬度上的切片数；phiStart表示经度开始的弧度；phiLength表示经度跨过的弧度；thetaStart表示纬度开始的弧度；thetaLength表示纬度跨过的弧度。\n\n因为构造球体是一个近似的过程，切片数目越多 越近似于球。\n\n# 材质\n\n材质（Material）是独立于物体顶点信息之外的与渲染效果相关的属性。通过设置材质可以改变物体的颜色、纹理贴图、光照模式等。\n\nThree.js中的材质分为基本材质、 Lambert材质、 Phong材质等。几种材质主要区别是对于光照模型的处理算法上的不同，Phong材质对于金属、镜面等镜面反射占主要的材质比较适合，Lambert则相反。基本材质则不受光照影响。\n\n继续回到形状,\n\nThree.js帮我们封装好了一些物体，Mesh（网格）是最有代表性的，由点 线 面 构成的形状，都属于网格，此外还有粒子系统等。\n\nMesh(geometry, material) \n\n\n1\n\n\n我们直接把形状和材质传入网格的构造函数，再加入Scene中，就可以生成想要的物体了。\n\nmesh.position.set(1.5, -0.5, 0); \n\n\n1\n\n\n实例上也有一些属性可以设置。\n\n\n# 动画\n\nHTML5提供了requestAnimationFrame方法\n\n为什么不用setInterval?\n\n\n# 光源\n\n 0. 环境光\n 1. 平行光\n 2. 点光源\n 3. 聚光灯\n\n\n# 引入外部模型\n\n很多复杂的模型，直接用Three建立也是很有难度的,这时候通常会用3dMax或者Maya导出模型文件,用Ajax等请求的方式导入进Three.js。\n\n\n# 调试\n\nchrome之前的版本中可以开启WebGL的分析，但是新版本中并没有看到，后续可能会完善功能后推出。\n\nchrome的插件 WebGL inspector。可以分析出着色器，某一帧buffer的内容，贴图等。\n\n\n# Three.js 部分代码分析\n\n\n# lookAt 的矩阵生成\n\nTHREE.Matrix4 = function () {\n\tthis._x = new THREE.Vector3();\n\tthis._y = new THREE.Vector3();\n\tthis._z = new THREE.Vector3();\n};\nTHREE.Matrix4.prototype = {\n\tn11: 1, n12: 0, n13: 0, n14: 0,\n\tn21: 0, n22: 1, n23: 0, n24: 0,\n\tn31: 0, n32: 0, n33: 1, n34: 0,\n\tn41: 0, n42: 0, n43: 0, n44: 1,\n\t...\n\tlookAt: function ( eye, center, up ) {\n\t\tvar x = this._x, y = this._y, z = this._z;\n\t\tz.sub( eye, center );\n\t\tz.normalize();\n\t\tx.cross( up, z );\n\t\tx.normalize();\n\t\ty.cross( z, x );\n\t\ty.normalize();\n\t\tthis.n11 = x.x; this.n12 = x.y; this.n13 = x.z; this.n14 = - x.dot( eye );\n\t\tthis.n21 = y.x; this.n22 = y.y; this.n23 = y.z; this.n24 = - y.dot( eye );\n\t\tthis.n31 = z.x; this.n32 = z.y; this.n33 = z.z; this.n34 = - z.dot( eye );\n    },\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n简单的数学知识：矩阵的叉乘（cross）\n\nlookAt：\n\n| x.x  x.y  x.z  eye.x |       | a |      | ? |\n| x.x  x.y  x.z  eye.x |       | b |      | ? | \n| x.x  x.y  x.z  eye.x |   *   | c |   =  | ? |\n| 0    0    0    1     |       | 1 |      | ? |\n\n\n1\n2\n3\n4\n\n\n\n# 总结\n\n\n# 用途：\n\n 1. 酷炫的活动页（AFrame、Hilo的3d版本）\n 2. 数据可视化 （Echarts的3d图表）\n 3. 游戏、直播视频的处理 。。。\n\n\n# 参考:\n\n * Web 技术研究所\n * Three.js入门指南\n * 羡辙杂俎\n * Ovilia\n * Vinthony',normalizedContent:'# opengl介绍\n\n * opengl 是一种跨平台的图形 api，其自诞生至今已催生了各种计算机平台及设备上的数千优秀应用程序。\n * 目前opengl已经停止更新了，同一公司下的vulkan引擎在将来可能会大放异彩。但是这并不妨碍我们学习webgl与opengl。\n\n\n# webgl简要介绍\n\n * webgl是一种3d绘图协议。\n\n * 在linux/unix和macos上，webgl是基于opengl的，而在windows系统上，则是基于微软的directx。\n\n * 这种绘图技术标准允许把javascript和opengl es 2.0结合在一起，webgl可以为html5 canvas提供硬件3d加速渲染，\n\n * 这样web开发人员就可以借助系统显卡来在浏览器里更流畅地展示3d场景和模型。\n\n * 目前webgl技术在各个方面都有很多应用，google的街景地图，3d的可视化网页上的3d模型等等，像three.js、aframe这种3d框架也都是基于webgl的。\n\n##echarts的3d可视化例子： 3d可视化\n\n\n# webgl怎么写？\n\n * 着色器（shader）\n * 程序（program）\n * 数据（buffer）\n\n\n# 着色器的介绍\n\n * 着色器程序，是运行在 gpu 中负责渲染算法的一类总称。语言是类似c语法的glsl。因为写的代码是执行在 cpu 中的，因此，现在我们可以自豪地说，我们在写 gpu 程序...\n\n * 事实上，着色器通常是用来做一些渲染效果上的事，比如水面的渲染、马赛克效果、素描风格化渲染等等……\n\n着色器有两种：\n\n 1. 顶点着色器\n 2. 片段（片元）着色器\n\n * 在顶点着色器中，可以访问到顶点的三维位置、颜色、法向量等信息。可以通过修改这些值，或者将其传递到片元着色器中，实现特定的渲染效果。\n * 在片元着色器中，可以访问到片元在二维屏幕上的坐标、深度信息、颜色等信息。通过改变这些值，可以实现特定的渲染效果。\n\ne.g.\n\nattribute vec2 a_position;\nuniform vec2 u_resolution;\nvoid main()\n{\n    vec2 zerotoone = a_position / u_resolution;\n    vec2 zerototwo = zerotoone * 2.0;\n    vec2 clipspace = zerototwo - 1.0;\n    gl_position = vec4(clipspace * vec2(1, -1), 0, 1);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nprecision mediump float;\nvoid main ()\n{\n    gl_fragcolor = vec4(1, 0, 0.5, 1);\n}\n\n\n1\n2\n3\n4\n5\n\n\n写在哪里？\n\n 1. 拼接字符串\n 2. type不为javascript的script标签中\n 3. es6中的多行字符串将着色器代码写到js中\n\n[slide style="text-align: left;"]\n\n\n# 程序的介绍\n\nprogram是着色器的容器，我们写好着色器代码后，需要用program将其引入到js中，并且链接，交给webgl。\n\n * 写一个c程序的步骤：\n   \n   1. 创建一个文件(.c)\n   2. 写源代码\n   3. 编译为obj文件(.o)\n   4. 链接，成为可执行文件\n\n * 怎么写着色器程序\n   \n   1. 创建一个着色器对象\n   2. 将源码放进着色器中\n   3. 编译着色器\n   4. 添加到程序中，并链接。\n\nvar vs,fs,vs_s,fs_s;\n//创建顶点着色器和片段着色器\nvs=webgl.createshader(webgl.vertex_shader);\nfs=webgl.createshader(webgl.fragment_shader);\n//着色器程序的源码\nvs_s="attribute vec4 p;void main(){gl_position=p;}";\nfs_s="void main(){gl_fragcolor=vec4(1.0,0.0,0.0,1.0);}";\n//把源码添加进着色器\nwebgl.shadersource(vs,vs_s);\nwebgl.shadersource(fs,fs_s);\n//编译着色器\nwebgl.compileshader(vs);\nwebgl.compileshader(fs);\n//把着色器添加到程序中\nwebgl.attachshader(program,vs);\nwebgl.attachshader(program,fs);\n//把这两个着色器程序链接成一个完整的程序\nwebgl.linkprogram(program);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# buffer的介绍\n\ncreatepositionbuffer = function () {\n\tlet b = this.gl.createbuffer();\n\tthis.gl.bindbuffer(this.gl.array_buffer, b);\n\tthis.gl.bufferdata(this.gl.array_buffer, new float32array(this.positions), this.gl.static_draw);\n\tthis.positionbuffer = b;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nbuffer的主要作用就是存储图形所需要的数据，并且最后会传到着色器程序中。\n\n\n# 图元的介绍\n\n简单来讲，图元就是组成图像的基本单元，其实在webgl中基本图元只有三大类，它们分别是，点、线和三角形。无论需要画什么样的图形都只能用这些图元去拼凑。\n\n三角形是最常用的图元，webgl所有的图形都是由三角形拼成的。\n\n\n# 简单的几何学\n\n\n# 投影\n\n * 在webgl和three.js中，都是运用的右手坐标系，对于webgl，x方向和y方向的坐标范围都是[-1,1]，人眼观察的方向是z轴的负方向。\n * 投影分为正交投影和透视投影。\n * 正交投影可以理解为上帝视角，人眼在z轴的方向内观察物体没有任何偏移，我们看到的空间是一个正方体空间，最前面和最后面的东西的大小由坐标来决定。\n * 这样是真实的，但是却不符合人眼所看到的。\n\n> 横看成岭侧成峰 远景高低各不同\n\n因为透视，所以我们才会在相同的物体上看到不同的景色。 怎么在我们所绘制的内容中使用透视呢？ 我们先从一张图说起：\n\n假设我们人眼在eye这个地方，往z轴负方向看，离眼睛近的那条边的y的长度是[-1,1]，而离眼睛远的那条边的长度也是[-1,1]，这显然在透视模型中是不可能的。 所以我们要做一些变化，让我们的y根据z的不同来改变，所以这里我们假设有一个方法f(z)能够做到这一点，所以:$$f(z) = y$$,怎么来计算呢，假设我们知道fov（机器所观察到的角度），在上图中，$$y/-z = tan(fov/2)$$;x同理$$x/-z = tan(fov/2)$$; 我们令$$f = 1/tan(fov/2)$$，故有$$y = 1/f * -z -> y = -z/f$$;\n\n有了以上知识，我们来构建我们的矩阵来将正交投影转为透视视图,这里有四个参数分别得到fov，屏幕比例，最近能够看到的点，最远能够看到的点。\n\nfunction perspective(fov,aspect,near,far){\n\tvar f = math.tan(math.pi/2 - fov/2);\n\tvar rangeinv = 1.0 / (near - far); \n\n\treturn [\n\t//  x         y  \tz  \t\t\t\t\t\t w \n\t\tf/aspect, 0, \t0, \t\t\t\t\t\t 0,\n\t\t0,        f, \t0, \t\t\t\t\t\t 0,\n\t\t0,        0, \t(near + far)*rangeinv,  -1,\n\t\t0,        0, \tnear*far* rangeinv *2,   0\n\t];\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 变换\n\n 1. 平移\n\n| ?  ?  ? |       | x |     | x+t |\n| ?  ?  ? |   *   | y |  =  | y+t |\n| ?  ?  ? |       | z |     | z+t |\n\n\n1\n2\n3\n\n\n这个矩阵怎么实现？\n\n在三维矩阵运算中，我们很难去定义这样一个矩阵满足如上的内容。 所以我们通过增加一维内容在实现平移的转换：\n\n| 1  0  0  t |       | x |      | x+t |\n| 0  1  0  t |       | y |      | y+t | \n| 0  0  1  t |   *   | z |   =  | z+t |\n| 0  0  0  1 |       | 1 |      |  1  |\n\n\n1\n2\n3\n4\n\n\n在shader中，gl_position 的值为四维就是因为这个原因。可以通过四维矩阵乘法来保证齐次性变换\n\n 2. 旋转\n\n在webgl中，旋转操作对于某个物体来说是作用于这个物体上的每个顶点相对于原点沿着某条特定的线的旋转距离。 特殊情况下为绕x，y，z轴，在下面的情况中我们固定z轴，得到：\n\n故对于坐标点(x0,y0,z0)和目标坐标点(xr,yr,zr),如果转动了θ角度：\n\n$$ cos(\\alpha+\\theta) = cos\\alpha cos\\theta - sin\\alpha sin\\theta $$\n\n| cosθ  -sinθ  0  0 |       | x |      | cosθx0 - sinθy0 |\n| sinθ   cosθ  0  0 |       | y |      | sinθx0 + cosθy0 | \n|    0      0  1  0 |   *   | z |   =  |  z  |\n|    0      0  0  1 |       | 1 |      |  1  |\n\n\n1\n2\n3\n4\n\n 3. 缩放\n\n| w  0  0 |       | x |     | w * x |\n| 0  w  0 |   *   | y |  =  | w * y |\n| 0  0  w |       | z |     | w * z |\n\n\n1\n2\n3\n\n\n但是为了统一，我们还是用四维的矩阵\n\n| w  0  0  0 |       | x |      | x * w |\n| 0  w  0  0 |       | y |      | y * w | \n| 0  0  w  0 |   *   | z |   =  | z * w |\n| 0  0  0  1 |       | 1 |      |   1   |\n\n\n1\n2\n3\n4\n\n\n无论是投影还是这里的变换，都用到了矩阵的变换\n\n在webgl中的变换方式有两种，一种是javascript阶段，一种是shader阶段，由于shader阶段是在gpu中运算，而且glsl对于矩阵有很好的优化，所以我们选择在shader中进行运算。\n\n\n# 小结\n\n因为 webgl的各种api都是过程式的，用起来各种不方便，也很容易忘记。所以还是自己封装一下，更方便使用。\n\n其实不仅仅是前端，图形渲染对于整个软件工程来说，都是一个很特定的研究领域。这就意味着，大部分情况下，你可能并没有那么迫切的需求去学习它。这也是为什么，webgl 标准推出了那么多年，在前端的各种分享会上，即使介绍，也永远都是 hello world。\n\n\n# three.js简介\n\n一个程序： 渲染器（renderer） 场景（scene） 照相机（camera）\n\n\n# render\n\n渲染器是将canvas元素和程序绑定的桥梁。一个three的程序，从渲染器开始，也从渲染器结束。\n\nrenderer = new three.webglrenderer(\n    document.getelementbyid(\'canvas\')\n);\n\n...\n\nrenderer.render(scene, camera);\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# scene\n\n场景相当于一个比较大的容器，three.js中的物体都是添加到场景中的，场景不会有很复杂的操作。 场景通常也会很早实例化。\n\n    var scene = new three.scene();\n\n\n1\n\n\n\n# camera\n\n照相机。什么是照相机？\n\n现实中的照相机：咔嚓\n\n程序中的照相机：3维到2维的抽象\n\ncamera定义了三维空间到二维空间的投影方式。我们刚才已经谈到过投影有正交投影和透视投影之分，照相机也分这两种。\n\nthree.orthgrapiccamera(left, right, top, bottom, near, far); //正交投影\nthree.perspectivecamera(fov, aspect, near, far) //透视投影\n\n\n1\n2\n\n\n而在webgl中，正交投影和透视投影，我们都得自己构造矩阵来进行变换，但是在three.js中我们只需要传入特定的参数就可以。\n\ncamera有一个lookat方法，lookat函数接受的是一个three.vector3的实例。使得相机朝指定的方向观察，关于这个函数的实现，后面和大家稍微分析一下。\n\n\n# 物体\n\n之前在webgl，我们讲着色器分顶点着色器和片段着色器。着色器的叫法可能抽象了一点。在three.js中，物体传入两个参数，一个是形状，一个是材质。\n\n# 形状\n\n在webgl中，我们构造3d图形，需要传入图元的顶点，需要考虑用哪种图元保存的数组才是最小的。\n\n在three.js中，封装了绝大多数的形状，我们写three.js就像写canvas一样。\n\nthree.spheregeometry(radius, segmentswidth, segmentsheight, phistart, philength, thetastart, thetalength) \n\n\n1\n\n\n比如构造一个球体，我们只需要调用上面的构造函数就可以。radius是半径；segmentswidth表示经度上的切片数；segmentsheight表示纬度上的切片数；phistart表示经度开始的弧度；philength表示经度跨过的弧度；thetastart表示纬度开始的弧度；thetalength表示纬度跨过的弧度。\n\n因为构造球体是一个近似的过程，切片数目越多 越近似于球。\n\n# 材质\n\n材质（material）是独立于物体顶点信息之外的与渲染效果相关的属性。通过设置材质可以改变物体的颜色、纹理贴图、光照模式等。\n\nthree.js中的材质分为基本材质、 lambert材质、 phong材质等。几种材质主要区别是对于光照模型的处理算法上的不同，phong材质对于金属、镜面等镜面反射占主要的材质比较适合，lambert则相反。基本材质则不受光照影响。\n\n继续回到形状,\n\nthree.js帮我们封装好了一些物体，mesh（网格）是最有代表性的，由点 线 面 构成的形状，都属于网格，此外还有粒子系统等。\n\nmesh(geometry, material) \n\n\n1\n\n\n我们直接把形状和材质传入网格的构造函数，再加入scene中，就可以生成想要的物体了。\n\nmesh.position.set(1.5, -0.5, 0); \n\n\n1\n\n\n实例上也有一些属性可以设置。\n\n\n# 动画\n\nhtml5提供了requestanimationframe方法\n\n为什么不用setinterval?\n\n\n# 光源\n\n 0. 环境光\n 1. 平行光\n 2. 点光源\n 3. 聚光灯\n\n\n# 引入外部模型\n\n很多复杂的模型，直接用three建立也是很有难度的,这时候通常会用3dmax或者maya导出模型文件,用ajax等请求的方式导入进three.js。\n\n\n# 调试\n\nchrome之前的版本中可以开启webgl的分析，但是新版本中并没有看到，后续可能会完善功能后推出。\n\nchrome的插件 webgl inspector。可以分析出着色器，某一帧buffer的内容，贴图等。\n\n\n# three.js 部分代码分析\n\n\n# lookat 的矩阵生成\n\nthree.matrix4 = function () {\n\tthis._x = new three.vector3();\n\tthis._y = new three.vector3();\n\tthis._z = new three.vector3();\n};\nthree.matrix4.prototype = {\n\tn11: 1, n12: 0, n13: 0, n14: 0,\n\tn21: 0, n22: 1, n23: 0, n24: 0,\n\tn31: 0, n32: 0, n33: 1, n34: 0,\n\tn41: 0, n42: 0, n43: 0, n44: 1,\n\t...\n\tlookat: function ( eye, center, up ) {\n\t\tvar x = this._x, y = this._y, z = this._z;\n\t\tz.sub( eye, center );\n\t\tz.normalize();\n\t\tx.cross( up, z );\n\t\tx.normalize();\n\t\ty.cross( z, x );\n\t\ty.normalize();\n\t\tthis.n11 = x.x; this.n12 = x.y; this.n13 = x.z; this.n14 = - x.dot( eye );\n\t\tthis.n21 = y.x; this.n22 = y.y; this.n23 = y.z; this.n24 = - y.dot( eye );\n\t\tthis.n31 = z.x; this.n32 = z.y; this.n33 = z.z; this.n34 = - z.dot( eye );\n    },\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n简单的数学知识：矩阵的叉乘（cross）\n\nlookat：\n\n| x.x  x.y  x.z  eye.x |       | a |      | ? |\n| x.x  x.y  x.z  eye.x |       | b |      | ? | \n| x.x  x.y  x.z  eye.x |   *   | c |   =  | ? |\n| 0    0    0    1     |       | 1 |      | ? |\n\n\n1\n2\n3\n4\n\n\n\n# 总结\n\n\n# 用途：\n\n 1. 酷炫的活动页（aframe、hilo的3d版本）\n 2. 数据可视化 （echarts的3d图表）\n 3. 游戏、直播视频的处理 。。。\n\n\n# 参考:\n\n * web 技术研究所\n * three.js入门指南\n * 羡辙杂俎\n * ovilia\n * vinthony',charsets:{cjk:!0},lastUpdated:"2024/07/04, 00:28:21",lastUpdatedTimestamp:1720024101e3},{title:"渲染流水线",frontmatter:{title:"渲染流水线",date:"2023-05-30T19:24:29.000Z",permalink:"/fe/3d/webgl/渲染流水线",categories:["3D","WebGL"],tags:[null],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/FE/03.WebGL/01.%E6%B8%B2%E6%9F%93%E6%B5%81%E6%B0%B4%E7%BA%BF.html",relativePath:"FE/03.WebGL/01.渲染流水线.md",key:"v-e8d5bc5a",path:"/fe/3d/webgl/渲染流水线/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/07/04, 00:28:21",lastUpdatedTimestamp:1720024101e3},{title:"Leetcode",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"Leetcode",description:"Leetcode"}},title:"Leetcode",date:"2023-05-07T15:49:22.000Z",permalink:"/leetcode",article:!1,comment:!1,editLink:!1,author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Leetcode/00.Leetcode.html",relativePath:"Leetcode/00.Leetcode.md",key:"v-fa063c02",path:"/leetcode/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/05/27, 15:16:02",lastUpdatedTimestamp:1716794162e3},{title:"linux",frontmatter:{title:"linux",date:"2024-08-08T19:12:15.000Z",permalink:"/pages/leetcode/linux",categories:["Leetcode"],tags:[null],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Leetcode/00.linux.html",relativePath:"Leetcode/00.linux.md",key:"v-4c083da5",path:"/pages/leetcode/linux/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/26, 19:21:19",lastUpdatedTimestamp:1724671279e3},{title:"169.多数元素",frontmatter:{title:"169.多数元素",date:"2023-07-19T12:14:52.000Z",permalink:"/leetcode/leetcode/162",categories:["Leetcode","interview"],tags:["Leetcode","Leetcode-hot-100"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Leetcode/02.leetcode/169.%E5%A4%9A%E6%95%B0%E5%85%83%E7%B4%A0.html",relativePath:"Leetcode/02.leetcode/169.多数元素.md",key:"v-4e6d47d9",path:"/leetcode/leetcode/162/",headersStr:null,content:"题干：\n\n给定一个大小为 n 的数组 nums ，返回其中的多数元素。多数元素是指在数组中出现次数 大于 ⌊ n/2 ⌋ 的元素。\n\n你可以假设数组是非空的，并且给定的数组总是存在多数元素。\n\n示例 1：\n\n输入：nums = [3,2,3] 输出：3 示例 2：\n\n输入：nums = [2,2,1,1,1,2,2] 输出：2\n\n提示： n == nums.length 1 <= n <= 5 * 104 -109 <= nums[i] <= 109\n\n进阶：尝试设计时间复杂度为 O(n)、空间复杂度为 O(1) 的算法解决此问题。\n\n链接：https://leetcode.cn/problems/majority-element\n\n解题思路：\n\n读完题干后，脑子里第一反应是用一个HashMap来记录每个元素的出现次数，然后再取出出现次数最多的那个数字。但是仔细一想绝对不是最完美的方案，且不说题干中的进阶里说明了用空间复杂度为常数的算法来解题，这个题目本身给的条件也是多了的，因为多数元素的定义是要超过长度的一半，而非只是数量最多。\n\n初中生的一个常识就是如果老师给你的条件多了，那么这个题目基本都是会利用到这个条件的，而放在算法中就是我们去寻求时间复杂度与空间复杂度优化的突破口。\n\n既然元素长度超出了一半，那么一个很简单的演绎过程就是我这个多数元素比其它任何元素都要多，那简单遍历一下，用这个多数元素与其它元素玩“消消乐”，那么最终剩下的肯定是这个多数元素。\n\n这在算法中叫摩尔投票法，具体的实现过程：\n\n/**\n * @param {number[]} nums\n * @return {number}\n */\nvar majorityElement = function(nums) {\n    var voteElement = nums[0];\n    var voteNum = 1;\n    for (let i = 1; i < nums.length; i++) {\n        if (nums[i] === voteElement) {\n            voteNum += 1;\n        } else {\n            voteNum -=1;\n            if (voteNum === 0) {\n                voteElement = nums[i + 1];\n            }\n        }\n    }\n    return voteElement;\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n",normalizedContent:"题干：\n\n给定一个大小为 n 的数组 nums ，返回其中的多数元素。多数元素是指在数组中出现次数 大于 ⌊ n/2 ⌋ 的元素。\n\n你可以假设数组是非空的，并且给定的数组总是存在多数元素。\n\n示例 1：\n\n输入：nums = [3,2,3] 输出：3 示例 2：\n\n输入：nums = [2,2,1,1,1,2,2] 输出：2\n\n提示： n == nums.length 1 <= n <= 5 * 104 -109 <= nums[i] <= 109\n\n进阶：尝试设计时间复杂度为 o(n)、空间复杂度为 o(1) 的算法解决此问题。\n\n链接：https://leetcode.cn/problems/majority-element\n\n解题思路：\n\n读完题干后，脑子里第一反应是用一个hashmap来记录每个元素的出现次数，然后再取出出现次数最多的那个数字。但是仔细一想绝对不是最完美的方案，且不说题干中的进阶里说明了用空间复杂度为常数的算法来解题，这个题目本身给的条件也是多了的，因为多数元素的定义是要超过长度的一半，而非只是数量最多。\n\n初中生的一个常识就是如果老师给你的条件多了，那么这个题目基本都是会利用到这个条件的，而放在算法中就是我们去寻求时间复杂度与空间复杂度优化的突破口。\n\n既然元素长度超出了一半，那么一个很简单的演绎过程就是我这个多数元素比其它任何元素都要多，那简单遍历一下，用这个多数元素与其它元素玩“消消乐”，那么最终剩下的肯定是这个多数元素。\n\n这在算法中叫摩尔投票法，具体的实现过程：\n\n/**\n * @param {number[]} nums\n * @return {number}\n */\nvar majorityelement = function(nums) {\n    var voteelement = nums[0];\n    var votenum = 1;\n    for (let i = 1; i < nums.length; i++) {\n        if (nums[i] === voteelement) {\n            votenum += 1;\n        } else {\n            votenum -=1;\n            if (votenum === 0) {\n                voteelement = nums[i + 1];\n            }\n        }\n    }\n    return voteelement;\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n",charsets:{cjk:!0},lastUpdated:"2024/05/27, 15:16:02",lastUpdatedTimestamp:1716794162e3},{title:"189.Rotate Array",frontmatter:{title:"189.Rotate Array",date:"2021-01-08T12:14:52.000Z",permalink:"/leetcode/leetcode/189",categories:["Leetcode","interview"],tags:["Leetcode","并查集","深度优先搜索"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Leetcode/02.leetcode/189.Rotate%20Array.html",relativePath:"Leetcode/02.leetcode/189.Rotate Array.md",key:"v-e55778b0",path:"/leetcode/leetcode/189/",headers:[{level:2,title:"题目",slug:"题目",normalizedTitle:"题目",charIndex:2},{level:3,title:"题目大意",slug:"题目大意",normalizedTitle:"题目大意",charIndex:829},{level:2,title:"解题思路",slug:"解题思路",normalizedTitle:"解题思路",charIndex:844},{level:2,title:"代码实现",slug:"代码实现",normalizedTitle:"代码实现",charIndex:945}],headersStr:"题目 题目大意 解题思路 代码实现",content:"# 题目\n\nGiven an array, rotate the array to the right by k steps, where k is non-negative.\n\nFollow up:\n\nTry to come up as many solutions as you can, there are at least 3 different ways to solve this problem. Could you do it in-place with O(1) extra space\n\nExample 1:\nInput: nums = [1,2,3,4,5,6,7], k = 3\nOutput: [5,6,7,1,2,3,4]\n\nExplanation:\nrotate 1 steps to the right: [7,1,2,3,4,5,6]\nrotate 2 steps to the right: [6,7,1,2,3,4,5]\nrotate 3 steps to the right: [5,6,7,1,2,3,4]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nExample 2:\nInput: nums = [-1,-100,3,99], k = 2\nOutput: [3,99,-1,-100]\n\nExplanation:\nrotate 1 steps to the right: [99,-1,-100,3]\nrotate 2 steps to the right: [3,99,-1,-100]\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nConstraints:\n1 <= nums.length <= 2 * 104\n-231 <= nums[i] <= 231 - 1\n0 <= k <= 105\n\n\n1\n2\n3\n4\n\n\nhttps://leetcode-cn.com/problems/rotate-array\n\n\n# 题目大意\n\n旋转数组\n\n\n# 解题思路\n\n * 旋转K次，遍历K * len 次，时间复杂度 O(n^2) 无法通过\n * 翻转一次，再对0-((k%len) - 1)翻转 在对(k % len) - (len -1)翻转\n\n\n# 代码实现\n\n/**\n * @param {number[]} nums\n * @param {number} k\n * @return {void} Do not return anything, modify nums in-place instead.\n */\nvar rotate = function(nums, k) {\n    var len = nums.length;\n    var t = k % len;\n    reverse(nums, 0, len - 1);\n    reverse(nums, 0, t - 1);\n    reverse(nums, t, len - 1);\n};\n\nfunction reverse(arr, from, to) {\n    while (to > from) {\n        var temp = arr[from];\n        arr[from] = arr[to];\n        arr[to] = temp;\n        to--;\n        from++;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n",normalizedContent:"# 题目\n\ngiven an array, rotate the array to the right by k steps, where k is non-negative.\n\nfollow up:\n\ntry to come up as many solutions as you can, there are at least 3 different ways to solve this problem. could you do it in-place with o(1) extra space\n\nexample 1:\ninput: nums = [1,2,3,4,5,6,7], k = 3\noutput: [5,6,7,1,2,3,4]\n\nexplanation:\nrotate 1 steps to the right: [7,1,2,3,4,5,6]\nrotate 2 steps to the right: [6,7,1,2,3,4,5]\nrotate 3 steps to the right: [5,6,7,1,2,3,4]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nexample 2:\ninput: nums = [-1,-100,3,99], k = 2\noutput: [3,99,-1,-100]\n\nexplanation:\nrotate 1 steps to the right: [99,-1,-100,3]\nrotate 2 steps to the right: [3,99,-1,-100]\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nconstraints:\n1 <= nums.length <= 2 * 104\n-231 <= nums[i] <= 231 - 1\n0 <= k <= 105\n\n\n1\n2\n3\n4\n\n\nhttps://leetcode-cn.com/problems/rotate-array\n\n\n# 题目大意\n\n旋转数组\n\n\n# 解题思路\n\n * 旋转k次，遍历k * len 次，时间复杂度 o(n^2) 无法通过\n * 翻转一次，再对0-((k%len) - 1)翻转 在对(k % len) - (len -1)翻转\n\n\n# 代码实现\n\n/**\n * @param {number[]} nums\n * @param {number} k\n * @return {void} do not return anything, modify nums in-place instead.\n */\nvar rotate = function(nums, k) {\n    var len = nums.length;\n    var t = k % len;\n    reverse(nums, 0, len - 1);\n    reverse(nums, 0, t - 1);\n    reverse(nums, t, len - 1);\n};\n\nfunction reverse(arr, from, to) {\n    while (to > from) {\n        var temp = arr[from];\n        arr[from] = arr[to];\n        arr[to] = temp;\n        to--;\n        from++;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n",charsets:{cjk:!0},lastUpdated:"2024/05/27, 15:16:02",lastUpdatedTimestamp:1716794162e3},{title:"560.和为K的子数组",frontmatter:{title:"560.和为K的子数组",date:"2024-02-29T22:41:52.000Z",permalink:"/leetcode/leetcode/560",categories:["Leetcode","interview"],tags:["Leetcode","Leetcode-hot-100"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Leetcode/02.leetcode/560.%E5%92%8C%E4%B8%BAK%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84.html",relativePath:"Leetcode/02.leetcode/560.和为K的子数组.md",key:"v-91340b78",path:"/leetcode/leetcode/560/",headers:[{level:3,title:"题干：",slug:"题干",normalizedTitle:"题干：",charIndex:2},{level:3,title:"解题思路：",slug:"解题思路",normalizedTitle:"解题思路：",charIndex:367},{level:4,title:"如何求解？？？",slug:"如何求解",normalizedTitle:"如何求解？？？",charIndex:951}],headersStr:"题干： 解题思路： 如何求解？？？",content:"# 题干：\n\n给你一个整数数组 nums 和一个整数 k ，请你统计并返回 _该数组中和为 k 的子数组的个数。\n\n子数组是数组中元素的连续非空序列。\n\n示例 1：\n\n**输入：**nums = [1,1,1], k = 2 **输出：**2\n\n示例 2：\n\n**输入：**nums = [1,2,3], k = 3 **输出：**2\n\n提示：\n\n * 1 <= nums.length <= 2 * 104\n * -1000 <= nums[i] <= 1000\n * -107 <= k <= 107\n\n链接：https://leetcode.cn/problems/subarray-sum-equals-k/description/?envType=study-plan-v2&envId=top-100-liked\n\n\n# 解题思路：\n\n 1. 暴力法O(n^2)\n\n尝试使用暴力法，第一次运气比较好，居然通过了。但是再提交就提示超出时间限制了。\n\n/**\n\n* @param {number[]} nums\n\n* @param {number} k\n\n* @return {number}\n\n*/\n\nvar subarraySum = function(nums, k) {\n\tlet result = 0;\n\t\tfor (let i = 0; i < nums.length; i++) {\n\t\t\tlet acc = 0;\n\t\t\tfor (let j = i; j < nums.length; j++) {\n\t\t\t\tacc += nums[j];\n\t\t\t\tif (acc === k) {\n\t\t\t\t\tresult++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\treturn result;\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n暴力法是两重循环，我们是否有方案，能减少循环的次数，让他们提前退出呢？\n\n * 这个思路貌似行不通，因为我们不能改变数组的顺序，而数组本身也是没有顺序的，我们没法在遍历到下一个item之前就判断当前的遍历绝对不能成功。\n * 但是很明显，我们做了很多重复的工作。\n\n# 如何求解？？？\n\n\n\n奇怪，看了官方的题解后，发现官方也是暴力求解，然而居然通过了？\n\n那么有没有其他更优秀的解法呢？",normalizedContent:"# 题干：\n\n给你一个整数数组 nums 和一个整数 k ，请你统计并返回 _该数组中和为 k 的子数组的个数。\n\n子数组是数组中元素的连续非空序列。\n\n示例 1：\n\n**输入：**nums = [1,1,1], k = 2 **输出：**2\n\n示例 2：\n\n**输入：**nums = [1,2,3], k = 3 **输出：**2\n\n提示：\n\n * 1 <= nums.length <= 2 * 104\n * -1000 <= nums[i] <= 1000\n * -107 <= k <= 107\n\n链接：https://leetcode.cn/problems/subarray-sum-equals-k/description/?envtype=study-plan-v2&envid=top-100-liked\n\n\n# 解题思路：\n\n 1. 暴力法o(n^2)\n\n尝试使用暴力法，第一次运气比较好，居然通过了。但是再提交就提示超出时间限制了。\n\n/**\n\n* @param {number[]} nums\n\n* @param {number} k\n\n* @return {number}\n\n*/\n\nvar subarraysum = function(nums, k) {\n\tlet result = 0;\n\t\tfor (let i = 0; i < nums.length; i++) {\n\t\t\tlet acc = 0;\n\t\t\tfor (let j = i; j < nums.length; j++) {\n\t\t\t\tacc += nums[j];\n\t\t\t\tif (acc === k) {\n\t\t\t\t\tresult++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\treturn result;\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n暴力法是两重循环，我们是否有方案，能减少循环的次数，让他们提前退出呢？\n\n * 这个思路貌似行不通，因为我们不能改变数组的顺序，而数组本身也是没有顺序的，我们没法在遍历到下一个item之前就判断当前的遍历绝对不能成功。\n * 但是很明显，我们做了很多重复的工作。\n\n# 如何求解？？？\n\n\n\n奇怪，看了官方的题解后，发现官方也是暴力求解，然而居然通过了？\n\n那么有没有其他更优秀的解法呢？",charsets:{cjk:!0},lastUpdated:"2024/05/27, 15:16:02",lastUpdatedTimestamp:1716794162e3},{title:"574.Number of Provinces",frontmatter:{title:"574.Number of Provinces",date:"2021-01-07T12:14:52.000Z",permalink:"/leetcode/leetcode/574",categories:["Leetcode","interview"],tags:["Leetcode","并查集","深度优先搜索"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Leetcode/02.leetcode/574.Number%20of%20Provinces.html",relativePath:"Leetcode/02.leetcode/574.Number of Provinces.md",key:"v-b422fe52",path:"/leetcode/leetcode/574/",headers:[{level:3,title:"解题思路",slug:"解题思路",normalizedTitle:"解题思路",charIndex:1279},{level:3,title:"代码",slug:"代码",normalizedTitle:"代码",charIndex:1414}],headersStr:"解题思路 代码",content:"There are N students in a class. Some of them are friends, while some are not. Their friendship is transitive in nature. For example, if A is a direct friend of B, and B is a directfriend of C, then A is an indirect friend of C. And we defined a friend circle is a group of students who are direct or indirect friends.\n\nGiven a N*N matrix M representing the friend relationship between students in the class. If M[i][j] = 1, then the ith and jth students are direct friends with each other, otherwise not. And you have to output the total number of friend circles among all the students.\n\nExample 1:\n\nInput: \n[[1,1,0],\n [1,1,0],\n [0,0,1]]\nOutput: 2\nExplanation:The 0th and 1st students are direct friends, so they are in a friend circle. \nThe 2nd student himself is in a friend circle. So return 2.\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nExample 2:\n\nInput: \n[[1,1,0],\n [1,1,1],\n [0,1,1]]\nOutput: 1\nExplanation:The 0th and 1st students are direct friends, the 1st and 2nd students are direct friends, \nso the 0th and 2nd students are indirect friends. All of them are in the same friend circle, so return 1.\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nNote:\n\n 1. N is in range [1,200].\n 2. M[i][i] = 1 for all students.\n 3. If M[i][j] = 1, then M[j][i] = 1.\n\nlink：https://leetcode-cn.com/problems/number-of-provinces\n\n\n# 解题思路\n\n 1. 深度优先搜索\n    \n    遍历节点，如果访问过则跳到下一个，如果没访问过，结果增1，\n    \n    遍历到节点时，对每个节点再遍历其关系，如果是有关系的则递归遍历。如果访问过，则标记一下。\n\n 2. 广度优先搜索\n\n 3. 并查集\n\n\n# 代码\n\n/** 深度优先搜索\n * @param {number[][]} isConnected\n * @return {number}\n */\nvar mark = function(i, isConnected, markedList) {\n    markedList[i] = 1;\n    var city = isConnected[i];\n    var n = city.length;\n    for (var j = 0; j < n; j++) {\n        if (city[j]) {\n            if (i !== j && markedList[j] !== 1) {\n                mark(j, isConnected, markedList);\n            }\n        }\n    }\n}\nvar findCircleNum = function(isConnected) {\n    var n = isConnected.length;\n    var markedList = new Array(n).fill(0); // 该城市是否被标记\n    var result = 0;\n    for (var i = 0; i < n; i++) {\n        //如果已经标记 则推出\n        if (markedList[i] === 1) {\n            continue;\n        }\n        result+=1;\n        mark(i, isConnected, markedList);\n    }\n    return result;\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n",normalizedContent:"there are n students in a class. some of them are friends, while some are not. their friendship is transitive in nature. for example, if a is a direct friend of b, and b is a directfriend of c, then a is an indirect friend of c. and we defined a friend circle is a group of students who are direct or indirect friends.\n\ngiven a n*n matrix m representing the friend relationship between students in the class. if m[i][j] = 1, then the ith and jth students are direct friends with each other, otherwise not. and you have to output the total number of friend circles among all the students.\n\nexample 1:\n\ninput: \n[[1,1,0],\n [1,1,0],\n [0,0,1]]\noutput: 2\nexplanation:the 0th and 1st students are direct friends, so they are in a friend circle. \nthe 2nd student himself is in a friend circle. so return 2.\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nexample 2:\n\ninput: \n[[1,1,0],\n [1,1,1],\n [0,1,1]]\noutput: 1\nexplanation:the 0th and 1st students are direct friends, the 1st and 2nd students are direct friends, \nso the 0th and 2nd students are indirect friends. all of them are in the same friend circle, so return 1.\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nnote:\n\n 1. n is in range [1,200].\n 2. m[i][i] = 1 for all students.\n 3. if m[i][j] = 1, then m[j][i] = 1.\n\nlink：https://leetcode-cn.com/problems/number-of-provinces\n\n\n# 解题思路\n\n 1. 深度优先搜索\n    \n    遍历节点，如果访问过则跳到下一个，如果没访问过，结果增1，\n    \n    遍历到节点时，对每个节点再遍历其关系，如果是有关系的则递归遍历。如果访问过，则标记一下。\n\n 2. 广度优先搜索\n\n 3. 并查集\n\n\n# 代码\n\n/** 深度优先搜索\n * @param {number[][]} isconnected\n * @return {number}\n */\nvar mark = function(i, isconnected, markedlist) {\n    markedlist[i] = 1;\n    var city = isconnected[i];\n    var n = city.length;\n    for (var j = 0; j < n; j++) {\n        if (city[j]) {\n            if (i !== j && markedlist[j] !== 1) {\n                mark(j, isconnected, markedlist);\n            }\n        }\n    }\n}\nvar findcirclenum = function(isconnected) {\n    var n = isconnected.length;\n    var markedlist = new array(n).fill(0); // 该城市是否被标记\n    var result = 0;\n    for (var i = 0; i < n; i++) {\n        //如果已经标记 则推出\n        if (markedlist[i] === 1) {\n            continue;\n        }\n        result+=1;\n        mark(i, isconnected, markedlist);\n    }\n    return result;\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n",charsets:{cjk:!0},lastUpdated:"2024/05/27, 15:16:02",lastUpdatedTimestamp:1716794162e3},{title:"圆圈中最后的数字",frontmatter:{title:"圆圈中最后的数字",date:"2020-04-01T14:47:52.000Z",permalink:"/leetcode/interview/62",categories:["Leetcode","interview"],tags:["Leetcode"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Leetcode/03.interview/62.%E5%9C%86%E5%9C%88%E4%B8%AD%E6%9C%80%E5%90%8E%E7%9A%84%E6%95%B0%E5%AD%97.html",relativePath:"Leetcode/03.interview/62.圆圈中最后的数字.md",key:"v-455d1caa",path:"/leetcode/interview/62/",headersStr:null,content:"题干：\n\n0,1,,n-1这n个数字排成一个圆圈，从数字0开始，每次从这个圆圈里删除第m个数字。求出这个圆圈里剩下的最后一个数字。\n\n> 例如，0、1、2、3、4这5个数字组成一个圆圈，从数字0开始每次删除第3个数字，则删除的前4个数字依次是2、0、4、1，因此最后剩下的数字是3。\n\n示例 1：\n\n输入: n = 5, m = 3\n输出: 3\n示例 2：\n\n输入: n = 10, m = 17\n输出: 2\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\n限制：\n\n1 <= n <= 10^5\n1 <= m <= 10^6\n\n\n1\n2\n\n\n链接：https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof\n\n题解：\n\n一开始打算使用暴力方式，顺着题意直接解\n\nclass Solution {\npublic:\n    int lastRemaining(int n, int m) {\n        vector<int> list(n);\n        for (int i = 0; i < n; i++) {\n            list[i] = i;\n        }\n        int idx = 0;\n        while(n > 1) {\n            idx = (idx + m - 1) %n;\n            list.erase(list.begin() + idx);\n            n--;\n        }\n        return list[0];\n    }\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n但是无奈，无论使用vector还是linkedList复杂度都过高。vector复杂度的产生主要是删除元素需要移动许多元素，而linkedList复杂度的产生则是因为每次找到需要删除的元素得遍历，即使它删除的复杂度为O(1)。\n\n使用暴力的方式最好的复杂度为O(mn)，无法通过。\n\n所以只能逆向思维，寻找规律。 得知最后一个值的index在最后一次一定是0，那么倒数第二次它想要安全的不被删除的话只能是 0 + m，但是0 + m可能已经超过了所有值的长度（倒数第二次是2），因为是一个环，所以直接对取余就好 所以倒数第二次的index为(0+m)%2。以此类推：\n\n因而得到解发：\n\nclass Solution {\npublic:\n    int lastRemaining(int n, int m) {\n        int index = 0; // 最后一次为0\n        for (int i = 2; i <= n; i++) {\n            index = (index + m) % i;\n        }\n        return index;\n    }\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n",normalizedContent:"题干：\n\n0,1,,n-1这n个数字排成一个圆圈，从数字0开始，每次从这个圆圈里删除第m个数字。求出这个圆圈里剩下的最后一个数字。\n\n> 例如，0、1、2、3、4这5个数字组成一个圆圈，从数字0开始每次删除第3个数字，则删除的前4个数字依次是2、0、4、1，因此最后剩下的数字是3。\n\n示例 1：\n\n输入: n = 5, m = 3\n输出: 3\n示例 2：\n\n输入: n = 10, m = 17\n输出: 2\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\n限制：\n\n1 <= n <= 10^5\n1 <= m <= 10^6\n\n\n1\n2\n\n\n链接：https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof\n\n题解：\n\n一开始打算使用暴力方式，顺着题意直接解\n\nclass solution {\npublic:\n    int lastremaining(int n, int m) {\n        vector<int> list(n);\n        for (int i = 0; i < n; i++) {\n            list[i] = i;\n        }\n        int idx = 0;\n        while(n > 1) {\n            idx = (idx + m - 1) %n;\n            list.erase(list.begin() + idx);\n            n--;\n        }\n        return list[0];\n    }\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n但是无奈，无论使用vector还是linkedlist复杂度都过高。vector复杂度的产生主要是删除元素需要移动许多元素，而linkedlist复杂度的产生则是因为每次找到需要删除的元素得遍历，即使它删除的复杂度为o(1)。\n\n使用暴力的方式最好的复杂度为o(mn)，无法通过。\n\n所以只能逆向思维，寻找规律。 得知最后一个值的index在最后一次一定是0，那么倒数第二次它想要安全的不被删除的话只能是 0 + m，但是0 + m可能已经超过了所有值的长度（倒数第二次是2），因为是一个环，所以直接对取余就好 所以倒数第二次的index为(0+m)%2。以此类推：\n\n因而得到解发：\n\nclass solution {\npublic:\n    int lastremaining(int n, int m) {\n        int index = 0; // 最后一次为0\n        for (int i = 2; i <= n; i++) {\n            index = (index + m) % i;\n        }\n        return index;\n    }\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n",charsets:{cjk:!0},lastUpdated:"2024/05/27, 15:16:02",lastUpdatedTimestamp:1716794162e3},{title:"工作技巧",frontmatter:{title:"工作技巧",date:"2024-01-22T16:06:48.000Z",permalink:"/pages/others/工作技巧",categories:["Others"],tags:["Skills"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Others/01.%E5%B7%A5%E4%BD%9C%E6%8A%80%E5%B7%A7.html",relativePath:"Others/01.工作技巧.md",key:"v-73492478",path:"/pages/others/工作技巧/",headers:[{level:2,title:"开发场景下解决Google Chrome对于HTTPS证书的报错",slug:"开发场景下解决google-chrome对于https证书的报错",normalizedTitle:"开发场景下解决google chrome对于https证书的报错",charIndex:2}],headersStr:"开发场景下解决Google Chrome对于HTTPS证书的报错",content:'# 开发场景下解决Google Chrome对于HTTPS证书的报错\n\nMacOS\n\nopen -a Google\\ Chrome --args --disable-web-security --user-data-dir="" --ignore-certificate-errors --allow-running-insecure-content\n``\n\n\n1\n2\n',normalizedContent:'# 开发场景下解决google chrome对于https证书的报错\n\nmacos\n\nopen -a google\\ chrome --args --disable-web-security --user-data-dir="" --ignore-certificate-errors --allow-running-insecure-content\n``\n\n\n1\n2\n',charsets:{cjk:!0},lastUpdated:"2024/05/10, 11:14:30",lastUpdatedTimestamp:171531087e4},{title:"常用Shell命令",frontmatter:{title:"常用Shell命令",date:"2024-01-22T16:06:48.000Z",permalink:"/pages/others/shell",categories:["Others"],tags:["Skills"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Others/02.shell.html",relativePath:"Others/02.shell.md",key:"v-7c00a725",path:"/pages/others/shell/",headers:[{level:2,title:"生成大文件",slug:"生成大文件",normalizedTitle:"生成大文件",charIndex:2}],headersStr:"生成大文件",content:"# 生成大文件\n\ndd if=/dev/zero of=1G.txt bs=1M count=10000\n\n\n1\n",normalizedContent:"# 生成大文件\n\ndd if=/dev/zero of=1g.txt bs=1m count=10000\n\n\n1\n",charsets:{cjk:!0},lastUpdated:"2024/05/27, 15:16:02",lastUpdatedTimestamp:1716794162e3},{title:"学习资料",frontmatter:{title:"学习资料",date:"2024-01-17T20:06:14.000Z",permalink:"/programming-language/rust/学习资料",categories:["Program-Language","Rust"],tags:[null],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Rust/01.index.html",relativePath:"Rust/01.index.md",key:"v-25ee86a5",path:"/programming-language/rust/学习资料/",headersStr:null,content:"https://course.rs",normalizedContent:"https://course.rs",charsets:{},lastUpdated:"2024/05/27, 15:16:02",lastUpdatedTimestamp:1716794162e3},{title:"Video Clip",frontmatter:{title:"Video Clip",date:"2024-01-22T16:06:48.000Z",permalink:"/software/video-clip",categories:["Others"],tags:["FFmpeg"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Software/00.video-clip.html",relativePath:"Software/00.video-clip.md",key:"v-3cee53c1",path:"/software/video-clip/",headersStr:null,content:' 1. 下载m3u8视频流\n\n./ffmpeg -i "https://test.com/test.m3u8"  -bsf:a aac_adtstoasc -c copy out.mp4 -http_persistent 0\n\n\n1\n\n 2. 给当前视频增加封面\n\n./ffmpeg -i input.mp4 -i cover.jpg -map 1 -map 0 -c copy -disposition:0 attached_pic output.mp4\n\n\n1\n',normalizedContent:' 1. 下载m3u8视频流\n\n./ffmpeg -i "https://test.com/test.m3u8"  -bsf:a aac_adtstoasc -c copy out.mp4 -http_persistent 0\n\n\n1\n\n 2. 给当前视频增加封面\n\n./ffmpeg -i input.mp4 -i cover.jpg -map 1 -map 0 -c copy -disposition:0 attached_pic output.mp4\n\n\n1\n',charsets:{cjk:!0},lastUpdated:"2024/06/12, 12:07:39",lastUpdatedTimestamp:1718165259e3},{title:"vscode",frontmatter:{title:"vscode",date:"2024-06-11T20:11:04.000Z",permalink:"/software/vscode",categories:["Software","vscode"],tags:[null],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/Software/01.vscode/00.vscode.html",relativePath:"Software/01.vscode/00.vscode.md",key:"v-cd61ed3e",path:"/software/vscode/",headersStr:null,content:"VSCODE",normalizedContent:"vscode",charsets:{},lastUpdated:"2024/06/12, 12:07:39",lastUpdatedTimestamp:1718165259e3},{title:"helloworld",frontmatter:{title:"helloworld",date:"2023-05-09T14:21:48.000Z",permalink:"/pages/bfd728/",sidebar:"auto",categories:["随笔"],tags:[null],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/_posts/helloworld.html",relativePath:"_posts/helloworld.md",key:"v-4f1dd276",path:"/pages/bfd728/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2023/05/10, 20:19:22",lastUpdatedTimestamp:1683721162e3},{title:"Evercookie调研小结",frontmatter:{title:"Evercookie调研小结",date:"2016-01-02T00:00:00.000Z",permalink:"/blog/2016/evercookie",categories:["FE"],tags:["Browser"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/16.2016/00.evercookie.html",relativePath:"blog/16.2016/00.evercookie.md",key:"v-20e6a05e",path:"/blog/2016/evercookie/",headers:[{level:3,title:"信息来源:",slug:"信息来源",normalizedTitle:"信息来源:",charIndex:2},{level:3,title:"主要实现方式",slug:"主要实现方式",normalizedTitle:"主要实现方式",charIndex:81},{level:3,title:"实际实现情况",slug:"实际实现情况",normalizedTitle:"实际实现情况",charIndex:873},{level:3,title:"清除方法",slug:"清除方法",normalizedTitle:"清除方法",charIndex:1061},{level:3,title:"其它",slug:"其它",normalizedTitle:"其它",charIndex:1345}],headersStr:"信息来源: 主要实现方式 实际实现情况 清除方法 其它",content:"# 信息来源:\n\n * https://github.com/samyk/evercookie\n * http://samy.pl/evercookie\n\n\n# 主要实现方式\n\n 1.  Standard HTTP Cookies\n 2.  Flash Local Shared Objects\n 3.  Silverlight Isolated Storage\n 4.  CSS History Knocking\n 5.  Storing cookies in HTTP ETags (Backend server required)\n 6.  Storing cookies in Web cache (Backend server required)\n 7.  HTTP Strict Transport Security (HSTS) Pinning\n 8.  window.name caching\n 9.  Internet Explorer userData storage\n 10. HTML5 Session Storage\n 11. HTML5 Local Storage\n 12. HTML5 Global Storage\n 13. HTML5 Database Storage via SQLite\n 14. HTML5 Canvas - Cookie values stored in RGB data of auto-generated, force-cached PNG images (Backend server required)\n 15. HTML5 IndexedDB\n 16. Java JNLP PersistenceService\n 17. .Java exploit CVE-2013-0422 - Attempts to escape the applet sandbox and write cookie data directly to the user's hard drive.\n\n\n# 实际实现情况\n\n经过检测主流浏览器可以实现的地方完全相同，之前认为IE应该会在userdata里存储，但是并没有。\n\n 1. cookie\n 2. localstorage\n 3. sessionstorage\n 4. window.name\n 5. png+canvas\n 6. etag\n 7. cache\n 8. dbData\n 9. flash cookie\n\n\n# 清除方法\n\n * chrome\n   * 设置 window.name\n   * 清除所有浏览器数据\n * safari\n   * 设置 window.name\n   * 清除所有浏览器数据\n * IE11\n   * 关闭浏览器缓存\n   * 清除所有浏览器数据\n   * 清除window.name\n   * 清除localstorage\n   * 清除sessionstorage\n * firefox\n   * 清除所有浏览器数据\n   * 清除window.name\n   * 清除localstorage\n   * 清除sessionstorage\n\n\n# 其它\n\n * 由于我电脑firefox和Safari的flash是共享的，所以，evercookie在Safari上的时候，也会影响到firefox。\n * 在隐私模式下不起作用。",normalizedContent:"# 信息来源:\n\n * https://github.com/samyk/evercookie\n * http://samy.pl/evercookie\n\n\n# 主要实现方式\n\n 1.  standard http cookies\n 2.  flash local shared objects\n 3.  silverlight isolated storage\n 4.  css history knocking\n 5.  storing cookies in http etags (backend server required)\n 6.  storing cookies in web cache (backend server required)\n 7.  http strict transport security (hsts) pinning\n 8.  window.name caching\n 9.  internet explorer userdata storage\n 10. html5 session storage\n 11. html5 local storage\n 12. html5 global storage\n 13. html5 database storage via sqlite\n 14. html5 canvas - cookie values stored in rgb data of auto-generated, force-cached png images (backend server required)\n 15. html5 indexeddb\n 16. java jnlp persistenceservice\n 17. .java exploit cve-2013-0422 - attempts to escape the applet sandbox and write cookie data directly to the user's hard drive.\n\n\n# 实际实现情况\n\n经过检测主流浏览器可以实现的地方完全相同，之前认为ie应该会在userdata里存储，但是并没有。\n\n 1. cookie\n 2. localstorage\n 3. sessionstorage\n 4. window.name\n 5. png+canvas\n 6. etag\n 7. cache\n 8. dbdata\n 9. flash cookie\n\n\n# 清除方法\n\n * chrome\n   * 设置 window.name\n   * 清除所有浏览器数据\n * safari\n   * 设置 window.name\n   * 清除所有浏览器数据\n * ie11\n   * 关闭浏览器缓存\n   * 清除所有浏览器数据\n   * 清除window.name\n   * 清除localstorage\n   * 清除sessionstorage\n * firefox\n   * 清除所有浏览器数据\n   * 清除window.name\n   * 清除localstorage\n   * 清除sessionstorage\n\n\n# 其它\n\n * 由于我电脑firefox和safari的flash是共享的，所以，evercookie在safari上的时候，也会影响到firefox。\n * 在隐私模式下不起作用。",charsets:{cjk:!0},lastUpdated:"2024/01/17, 20:00:31",lastUpdatedTimestamp:1705492831e3},{title:"浅谈尾递归",frontmatter:{title:"浅谈尾递归",date:"2016-03-17T16:00:00.000Z",permalink:"/blog/2016/tail-recursive",categories:["Functional Programming"],tags:["Lisp","Haskell","JavaScript"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/16.2016/01.tail-recursive.html",relativePath:"blog/16.2016/01.tail-recursive.md",key:"v-45253c2d",path:"/blog/2016/tail-recursive/",headers:[{level:2,title:"递归",slug:"递归",normalizedTitle:"递归",charIndex:8},{level:2,title:"性能堪忧",slug:"性能堪忧",normalizedTitle:"性能堪忧",charIndex:362},{level:2,title:"如何优化",slug:"如何优化",normalizedTitle:"如何优化",charIndex:657}],headersStr:"递归 性能堪忧 如何优化",content:"> 第一次接触尾递归（Tail recursion）是在读《SICP》这本书上。第二次是面试的时候，被面试官问到了。\n\n\n# 递归\n\n(define (Fibonacci x)\n  (cond (= x 1) 1\n    (= x 2) 2\n        (else \n              (+ (Fibonacci (- x 2) (Fibonacci (- x 1))))))\n\n\n1\n2\n3\n4\n5\n\n\n这是个简单的斐波那契函数，函数的作用就是算出对应的斐波那契值。我们很容易想到，Fibonacci x 的值就是\n\n(+ (Fibonacci (- x 2)) (Fibonacci (- x 1))) \n\n\n1\n\n\n的值。\n\n因此以上代码就是对自身的调用，直到满足递归出口，这样的思想叫做递归。\n\n\n# 性能堪忧\n\n但是，递归的思想虽然简单，计算机可不喜欢这样子。因为每个线程在执行代码的时候，计算机都会分配一定的空间给它。每次方法调用的时候都会堆栈里面存东西，因此，这种方法很容易会导致堆栈溢出。\n\n拿斐波那契函数来说吧。这种递归其实是属于树形递归，假设一个解释器是应用序的，这个递归的运算过程可以展开成一个树形。也就是说，计算f(5)的值我需要计算f(4)和f(3),但是计算f(4)的时候，我需要计算f(3)和f(2)，计算f(3)的时候我们要计算f(1)和f(2)，可以看到我们的计算大多都是重复性的，尤其是到了f(3)这些低级的时候，重复了太多。这还只是f(5)的计算过程。\n\n\n# 如何优化\n\n采用尾递归的方法，会让这种情况产生缓解。\n\n(define (Fibonacci x a b) \n  (if (= n 0)\n       a\n            (Fibonacci (- x 1) a,a+b)))\n(Fibonacci 10 0 1)\n\n\n1\n2\n3\n4\n5\n\n\n以上代码就使用了尾递归的思想，那么到底什么是尾递归呢？\n\n> In computer science, a tail call is a subroutine call performed as the final action of a procedure. If a tail call might lead to the same subroutine being called again later in the call chain, the subroutine is said to be tail-recursive, which is a special case of recursion.\n\n这是维基百科的定义，中文意思大概是：\n\n在计算机科学里，尾调用是指一个函数里的最后一个动作是一个函数调用的情形：即这个调用的返回值直接被当前函数返回的情形。这种情形下称该调用位置为尾位置。若这个函数在尾位置调用本身（或是一个尾调用本身的其他函数等等），则称这种情况为尾递归，是递归的一种特殊情形。\n\n讲的过于抽象，很难理解，其实尾递归就是尾调用的一种特殊，尾调用是指函数的最后一个行为是调用函数，所以尾递归，顾名思义就是函数的最后一个行为是调用其本身。所谓最后一个行为，是指除了调用之外不能有其它的附加动作，比如加法之类的。因此，我感觉尾递归是一种长着递归脸的迭代，因为他每次都把数据传递到下一次调用，在SICP中也被认为是迭代。在一些函数式编程语言中，尾递归编译后会被优化成迭代的形式，所以效率才会很高。\n\n和普通递归相比较，由于尾递归的调用处于方法的最后，因此方法之前累积在堆栈中的结果已经对下次递归没有用处，因此可以把留在堆栈中的数据清除，即使是无限递归也不会让堆栈溢出。这也就是尾递归的好处。",normalizedContent:"> 第一次接触尾递归（tail recursion）是在读《sicp》这本书上。第二次是面试的时候，被面试官问到了。\n\n\n# 递归\n\n(define (fibonacci x)\n  (cond (= x 1) 1\n    (= x 2) 2\n        (else \n              (+ (fibonacci (- x 2) (fibonacci (- x 1))))))\n\n\n1\n2\n3\n4\n5\n\n\n这是个简单的斐波那契函数，函数的作用就是算出对应的斐波那契值。我们很容易想到，fibonacci x 的值就是\n\n(+ (fibonacci (- x 2)) (fibonacci (- x 1))) \n\n\n1\n\n\n的值。\n\n因此以上代码就是对自身的调用，直到满足递归出口，这样的思想叫做递归。\n\n\n# 性能堪忧\n\n但是，递归的思想虽然简单，计算机可不喜欢这样子。因为每个线程在执行代码的时候，计算机都会分配一定的空间给它。每次方法调用的时候都会堆栈里面存东西，因此，这种方法很容易会导致堆栈溢出。\n\n拿斐波那契函数来说吧。这种递归其实是属于树形递归，假设一个解释器是应用序的，这个递归的运算过程可以展开成一个树形。也就是说，计算f(5)的值我需要计算f(4)和f(3),但是计算f(4)的时候，我需要计算f(3)和f(2)，计算f(3)的时候我们要计算f(1)和f(2)，可以看到我们的计算大多都是重复性的，尤其是到了f(3)这些低级的时候，重复了太多。这还只是f(5)的计算过程。\n\n\n# 如何优化\n\n采用尾递归的方法，会让这种情况产生缓解。\n\n(define (fibonacci x a b) \n  (if (= n 0)\n       a\n            (fibonacci (- x 1) a,a+b)))\n(fibonacci 10 0 1)\n\n\n1\n2\n3\n4\n5\n\n\n以上代码就使用了尾递归的思想，那么到底什么是尾递归呢？\n\n> in computer science, a tail call is a subroutine call performed as the final action of a procedure. if a tail call might lead to the same subroutine being called again later in the call chain, the subroutine is said to be tail-recursive, which is a special case of recursion.\n\n这是维基百科的定义，中文意思大概是：\n\n在计算机科学里，尾调用是指一个函数里的最后一个动作是一个函数调用的情形：即这个调用的返回值直接被当前函数返回的情形。这种情形下称该调用位置为尾位置。若这个函数在尾位置调用本身（或是一个尾调用本身的其他函数等等），则称这种情况为尾递归，是递归的一种特殊情形。\n\n讲的过于抽象，很难理解，其实尾递归就是尾调用的一种特殊，尾调用是指函数的最后一个行为是调用函数，所以尾递归，顾名思义就是函数的最后一个行为是调用其本身。所谓最后一个行为，是指除了调用之外不能有其它的附加动作，比如加法之类的。因此，我感觉尾递归是一种长着递归脸的迭代，因为他每次都把数据传递到下一次调用，在sicp中也被认为是迭代。在一些函数式编程语言中，尾递归编译后会被优化成迭代的形式，所以效率才会很高。\n\n和普通递归相比较，由于尾递归的调用处于方法的最后，因此方法之前累积在堆栈中的结果已经对下次递归没有用处，因此可以把留在堆栈中的数据清除，即使是无限递归也不会让堆栈溢出。这也就是尾递归的好处。",charsets:{cjk:!0},lastUpdated:"2024/01/17, 20:00:31",lastUpdatedTimestamp:1705492831e3},{title:"后续传递(continuation)和回调(callback)的差别",frontmatter:{title:"后续传递(continuation)和回调(callback)的差别",date:"2016-04-05T16:00:00.000Z",permalink:"/blog/2016/continuation-callback",categories:["Functional Programming"],tags:["Lisp","Haskell"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/16.2016/02.continuation-callback.html",relativePath:"blog/16.2016/02.continuation-callback.md",key:"v-09099876",path:"/blog/2016/continuation-callback/",headers:[{level:2,title:"前言",slug:"前言",normalizedTitle:"前言",charIndex:2},{level:2,title:"中语",slug:"中语",normalizedTitle:"中语",charIndex:454},{level:2,title:"后话",slug:"后话",normalizedTitle:"后话",charIndex:1487}],headersStr:"前言 中语 后话",content:"# 前言\n\n在绝大多数的编程语言中，函数通常返回值给调用它的对象。举个例子:\n\nvar sum = add(2, 3);\nconsole.log(sum);\nfunction add(x, y) {\n    return x + y;\n}\n\n\n1\n2\n3\n4\n5\n\n\n然而，在现在很多的“函数是一等公民”的语言（函数式编程语言）中，我们也可以把值返回给回调函数，而不是直接返回给调用的那个对象。\n\nadd(2, 3, function (sum) {\n    console.log(sum);\n});\nfunction add(x, y, cont) {\n    cont(x + y);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n上面的例子可以看出，我们并没有把参数运行后的值返回，而是将它传递给了cont，而cont也就是调用时的那个函数。我们称cont是add的一个传递。\n\n相信大家对回调非常熟悉吧，对于后续传递风格，或许只是喜欢函数式编程的小伙伴可能了解过。那么回调与后续传递的差别是什么呢？\n\n\n# 中语\n\n我认为后续传递是回调的一种特殊的形式。一个函数可以有许多个回调函数，许多次回调：\n\nvar array = [1, 2, 3];\nforEach(array, function (element, array, index) {\n    array[index] = 2 * element;\n});\nfunction forEach(array, callback) {\n    var length = array.length;\n    for (var i = 0; i < length; i++)\n        callback(array[i], array, i);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n当一个函数做的最后一件事情是回调另一个函数的时候，我们称第二个函数为第一个函数的后续传递。e.g:\n\nvar array = [1, 2, 3];\nforEach(array, function (element, array, index) {\n    array[index] = 2 * element;\n});\nfunction forEach(array, callback) {\n    var length = array.length;\n    // last thing forEach does\n    // cont is a continuation of forEach\n    cont(0);\n    function cont(index) {\n        if (index < length) {\n            callback(array[index], array, index);\n            // last thing cont does\n            // cont is a continuation of itself\n            cont(++index);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n如果当一个函数的最后一件是是调用另一个函数的时候，我们称这种情况叫做尾调用（参考尾递归#2 ）。一些解释器，比如Scheme语言的解释器会对尾调用进行优化。这样不会导致函数的堆积（比如斐波那契的运算），而将状态层层传递。\n\n\n# 后话\n\n如果想继续了解后续传递风格请往下读\n\nalert(pythagoras(3, 4));\nfunction pythagoras(x, y) {\n    return x * x + y * y;\n}\n\n\n1\n2\n3\n4\n\n\n如果我们将每一种运算，包括加减乘除都写成函数的形式（在函数式编程中，运算符就是函数）。\n\nalert(pythagoras(3, 4));\nfunction pythagoras(x, y) {\n    return add(square(x), square(y));\n}\nfunction square(x) {\n    return multiply(x, x);\n}\nfunction multiply(x, y) {\n    return x * y;\n}\nfunction add(x, y) {\n    return x + y;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n如果我们不允许返回任何值，我们可以利用后续传递风格来重新改下代码：\n\npythagoras(3, 4, alert);\nfunction pythagoras(x, y, cont) {\n    square(x, function (x_squared) {\n        square(y, function (y_squared) {\n            add(x_squared, y_squared, cont);\n        });\n    });\n}\nfunction square(x, cont) {\n    multiply(x, x, cont);\n}\nfunction multiply(x, y, cont) {\n    cont(x * y);\n}\nfunction add(x, y, cont) {\n    cont(x + y);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n(面目狰狞，仿佛又看到了node的魔鬼金字塔)\n\n不允许返回任何值，所以你不得不吧这些值或者状态传到下一个函数里面。这种风格叫做后续传递风格(continuation passing style)。 不过仍然存在两个问题需要考虑。\n\n这种风格明显增加了调用栈的大小需求，如果你没有用Scheme或者支持尾调用优化的语言去写代码，很容易就会栈溢出（我也不知道容易不容易。。。） 魔鬼金字塔。 当然，第一个问题其实是好解决的，因为js支持异步编程。异步调用的结果就是，当你调用传递函数的时候，前面的状态已经计算好了。这样就导致堆栈大小并不会增加。\n\nFunction.prototype.async = async;\npythagoras.async(3, 4, alert);\nfunction pythagoras(x, y, cont) {\n    square.async(x, function (x_squared) {\n        square.async(y, function (y_squared) {\n            add.async(x_squared, y_squared, cont);\n        });\n    });\n}\nfunction square(x, cont) {\n    multiply.async(x, x, cont);\n}\nfunction multiply(x, y, cont) {\n    cont.async(x * y);\n}\nfunction add(x, y, cont) {\n    cont.async(x + y);\n}\nfunction async() {\n    //use js setTimeout to implement async\n    setTimeout.bind(null, this, 0).apply(null, arguments);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n解决第二个问题的方法通常是利用一个函数callcc，全称是call-with-current-continuation，可惜的是callcc并没有在js里完整的实现。所以我们重写一下\n\npythagoras(3, 4, alert);\nfunction pythagoras(x, y, cont) {\n    var x_squared = callcc(square.bind(null, x));\n    var y_squared = callcc(square.bind(null, y));\n    add(x_squared, y_squared, cont);\n}\nfunction square(x, cont) {\n    multiply(x, x, cont);\n}\nfunction multiply(x, y, cont) {\n    cont(x * y);\n}\nfunction add(x, y, cont) {\n    cont(x + y);\n}\nfunction callcc(f) {\n    var cc = function (x) {\n        cc = x;\n    };\n    f(cc);\n    return cc;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n",normalizedContent:"# 前言\n\n在绝大多数的编程语言中，函数通常返回值给调用它的对象。举个例子:\n\nvar sum = add(2, 3);\nconsole.log(sum);\nfunction add(x, y) {\n    return x + y;\n}\n\n\n1\n2\n3\n4\n5\n\n\n然而，在现在很多的“函数是一等公民”的语言（函数式编程语言）中，我们也可以把值返回给回调函数，而不是直接返回给调用的那个对象。\n\nadd(2, 3, function (sum) {\n    console.log(sum);\n});\nfunction add(x, y, cont) {\n    cont(x + y);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n上面的例子可以看出，我们并没有把参数运行后的值返回，而是将它传递给了cont，而cont也就是调用时的那个函数。我们称cont是add的一个传递。\n\n相信大家对回调非常熟悉吧，对于后续传递风格，或许只是喜欢函数式编程的小伙伴可能了解过。那么回调与后续传递的差别是什么呢？\n\n\n# 中语\n\n我认为后续传递是回调的一种特殊的形式。一个函数可以有许多个回调函数，许多次回调：\n\nvar array = [1, 2, 3];\nforeach(array, function (element, array, index) {\n    array[index] = 2 * element;\n});\nfunction foreach(array, callback) {\n    var length = array.length;\n    for (var i = 0; i < length; i++)\n        callback(array[i], array, i);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n当一个函数做的最后一件事情是回调另一个函数的时候，我们称第二个函数为第一个函数的后续传递。e.g:\n\nvar array = [1, 2, 3];\nforeach(array, function (element, array, index) {\n    array[index] = 2 * element;\n});\nfunction foreach(array, callback) {\n    var length = array.length;\n    // last thing foreach does\n    // cont is a continuation of foreach\n    cont(0);\n    function cont(index) {\n        if (index < length) {\n            callback(array[index], array, index);\n            // last thing cont does\n            // cont is a continuation of itself\n            cont(++index);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n如果当一个函数的最后一件是是调用另一个函数的时候，我们称这种情况叫做尾调用（参考尾递归#2 ）。一些解释器，比如scheme语言的解释器会对尾调用进行优化。这样不会导致函数的堆积（比如斐波那契的运算），而将状态层层传递。\n\n\n# 后话\n\n如果想继续了解后续传递风格请往下读\n\nalert(pythagoras(3, 4));\nfunction pythagoras(x, y) {\n    return x * x + y * y;\n}\n\n\n1\n2\n3\n4\n\n\n如果我们将每一种运算，包括加减乘除都写成函数的形式（在函数式编程中，运算符就是函数）。\n\nalert(pythagoras(3, 4));\nfunction pythagoras(x, y) {\n    return add(square(x), square(y));\n}\nfunction square(x) {\n    return multiply(x, x);\n}\nfunction multiply(x, y) {\n    return x * y;\n}\nfunction add(x, y) {\n    return x + y;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n如果我们不允许返回任何值，我们可以利用后续传递风格来重新改下代码：\n\npythagoras(3, 4, alert);\nfunction pythagoras(x, y, cont) {\n    square(x, function (x_squared) {\n        square(y, function (y_squared) {\n            add(x_squared, y_squared, cont);\n        });\n    });\n}\nfunction square(x, cont) {\n    multiply(x, x, cont);\n}\nfunction multiply(x, y, cont) {\n    cont(x * y);\n}\nfunction add(x, y, cont) {\n    cont(x + y);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n(面目狰狞，仿佛又看到了node的魔鬼金字塔)\n\n不允许返回任何值，所以你不得不吧这些值或者状态传到下一个函数里面。这种风格叫做后续传递风格(continuation passing style)。 不过仍然存在两个问题需要考虑。\n\n这种风格明显增加了调用栈的大小需求，如果你没有用scheme或者支持尾调用优化的语言去写代码，很容易就会栈溢出（我也不知道容易不容易。。。） 魔鬼金字塔。 当然，第一个问题其实是好解决的，因为js支持异步编程。异步调用的结果就是，当你调用传递函数的时候，前面的状态已经计算好了。这样就导致堆栈大小并不会增加。\n\nfunction.prototype.async = async;\npythagoras.async(3, 4, alert);\nfunction pythagoras(x, y, cont) {\n    square.async(x, function (x_squared) {\n        square.async(y, function (y_squared) {\n            add.async(x_squared, y_squared, cont);\n        });\n    });\n}\nfunction square(x, cont) {\n    multiply.async(x, x, cont);\n}\nfunction multiply(x, y, cont) {\n    cont.async(x * y);\n}\nfunction add(x, y, cont) {\n    cont.async(x + y);\n}\nfunction async() {\n    //use js settimeout to implement async\n    settimeout.bind(null, this, 0).apply(null, arguments);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n解决第二个问题的方法通常是利用一个函数callcc，全称是call-with-current-continuation，可惜的是callcc并没有在js里完整的实现。所以我们重写一下\n\npythagoras(3, 4, alert);\nfunction pythagoras(x, y, cont) {\n    var x_squared = callcc(square.bind(null, x));\n    var y_squared = callcc(square.bind(null, y));\n    add(x_squared, y_squared, cont);\n}\nfunction square(x, cont) {\n    multiply(x, x, cont);\n}\nfunction multiply(x, y, cont) {\n    cont(x * y);\n}\nfunction add(x, y, cont) {\n    cont(x + y);\n}\nfunction callcc(f) {\n    var cc = function (x) {\n        cc = x;\n    };\n    f(cc);\n    return cc;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n",charsets:{cjk:!0},lastUpdated:"2024/01/17, 20:00:31",lastUpdatedTimestamp:1705492831e3},{title:"二叉查找树【Haskell实现】",frontmatter:{title:"二叉查找树【Haskell实现】",date:"2016-03-07T16:00:00.000Z",permalink:"/blog/2016/binary-search-tree",categories:["Functional Programming"],tags:["Lisp","Haskell"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/16.2016/03.binary-search-tree.html",relativePath:"blog/16.2016/03.binary-search-tree.md",key:"v-1f566026",path:"/blog/2016/binary-search-tree/",headers:[{level:3,title:"定义",slug:"定义",normalizedTitle:"定义",charIndex:2},{level:3,title:"实现",slug:"实现",normalizedTitle:"实现",charIndex:292},{level:3,title:"查找",slug:"查找",normalizedTitle:"查找",charIndex:8},{level:3,title:"插入",slug:"插入",normalizedTitle:"插入",charIndex:1664},{level:3,title:"最大最小值",slug:"最大最小值",normalizedTitle:"最大最小值",charIndex:2193},{level:3,title:"删除",slug:"删除",normalizedTitle:"删除",charIndex:2801},{level:3,title:"分析",slug:"分析",normalizedTitle:"分析",charIndex:2922}],headersStr:"定义 实现 查找 插入 最大最小值 删除 分析",content:"# 定义\n\n二叉查找树（Binary Search Tree），也称有序二叉树（ordered binary tree）,排序二叉树（sorted binary tree），是指一棵空树或者具有下列性质的二叉树：\n\n 1. 若任意节点的左子树不空，则左子树上所有结点的值均小于它的根结点的值；\n 2. 若任意节点的右子树不空，则右子树上所有结点的值均大于它的根结点的值；\n 3. 任意节点的左、右子树也分别为二叉查找树。\n 4. 没有键值相等的节点（no duplicate nodes）。\n\n如下图，这个是普通的二叉树 在此基础上，加上节点之间的大小关系，就是二叉查找树：\n\n\n# 实现\n\ndata Binary_Tree a = Null | Node {element::a,left_tree,right_tree::Binary_Tree a}\n    deriving (Show,Eq)\n\nmax' :: (Integral b) => b -> b -> b\nmax' l r\n    |(l > r)   = l\n    |otherwise = r\n\nsize_of_tree :: (Integral b) => Binary_Tree a -> b\nsize_of_tree binary_tree = case binary_tree of\n    Null        -> 0\n    Node {element = _, left_tree = left, right_tree = right} -> size_of_tree left + size_of_tree right + 1\n\ndepth_of_tree :: (Integral b) => Binary_Tree a -> b\ndepth_of_tree binary_tree = case binary_tree of\n    Null        -> 0\n    Node {element = _, left_tree = left, right_tree = right} -> max' (depth_of_tree left) (depth_of_tree right) + 1\n\nflatten_tree :: Binary_Tree a -> [a]\nflatten_tree binary_tree = case binary_tree of\n    Null -> []\n    Node {element = x, left_tree = left, right_tree = right} -> x : (flatten_tree left ++ flatten_tree right)\n\nleaves_of_tree ::(Eq a) => Binary_Tree a -> [a]\nleaves_of_tree binary_tree = case binary_tree of \n    Null -> []\n    Node {element = x, left_tree = left, right_tree = right}\n        | left == Null && right == Null -> [x]\n        | otherwise                     -> leaves_of_tree left ++ leaves_of_tree right\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 查找\n\n查找操作和二分查找类似，将key和节点的key比较，如果小于，那么就在Left Node节点查找,如果大于，则在Right Node节点查找，如果相等，直接返回Value。 该方法实现有迭代和递归两种。\n\n\n# 插入\n\n插入主要是判断应该插入的值依次进行比较，插入合适的位置。这里利用迭代来实现。\n\ninsert_element_to_tree :: Ord a => a -> BS_Tree a -> BS_Tree a\ninsert_element_to_tree a bs_tree = case bs_tree of \n    Null    ->  Node {element = a, left_tree = Null, right_tree = Null}\n    Node {element = x, left_tree = left, right_tree = right}\n        | is_vaild_binary_search_tree bs_tree == False  -> error \"not a vaild bs_tree\"\n        | x > a         -> insert_element_to_tree a left\n        | otherwise     -> insert_element_to_tree a right\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n插入操作图示如下：\n\n\n# 最大最小值\n\n二叉查找树中，最左和最右节点即为最小值和最大值，所以我们只需递归调用即可。\n\nmaximum' :: (Ord a) => BS_Tree a -> a\nmaximum' bs_tree = case bs_tree of\n    Null        -> error \"maximum of empty list\" \n    Node {element = x, left_tree = left, right_tree = right}\n        | right == Null     -> x\n        | otherwise         -> maximum' right\n\nminimum' :: (Ord a) => BS_Tree a -> a\nminimum' bs_tree = case bs_tree of\n    Null        -> error \"maximum of empty list\" \n    Node {element = x, left_tree = left, right_tree = right}\n        | left == Null     -> x\n        | otherwise         -> minimum' left\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 删除\n\n删除元素操作在二叉树的操作中应该是比较复杂的。首先来看下比较简单的删除最大最小值得方法。 以删除最小值为例，我们首先找到最小值，及最左边左子树为空的节点，然后返回其右子树作为新的左子树。操作示意图如下： 删除最大值也是类似。\n\n现在来分析一般情况，假定我们要删除指定key的某一个节点。这个问题的难点在于：删除最大最小值的操作，删除的节点只有1个子节点或者没有子节点，这样比较简单。但是如果删除任意节点，就有可能出现删除的节点有0个，1 个，2个子节点的情况，现在来逐一分析。\n\n * 当删除的节点没有子节点时，直接将该父节点指向该节点的link设置为null。\n * 当删除的节点只有1个子节点时，将该自己点替换为要删除的节点即可。\n * 当删除的节点有2个子节点时，问题就变复杂了。 假设我们删除的节点t具有两个子节点。因为t具有右子节点，所以我们需要找到其右子节点中的最小节点，替换t节点的位置。这里有四个步骤：\n * 保存带删除的节点到临时变量t\n * 将t的右节点的最小节点min(t.right)保存到临时节点x\n * 将x的右节点设置为deleteMin(t.right)，该右节点是删除后，所有比x.key最大的节点。\n * 将x的做节点设置为t的左节点。\n\n整个过程如下图\n\n\n# 分析\n\n二叉查找树的运行时间和树的形状有关，树的形状又和插入元素的顺序有关。在最好的情况下，节点完全平衡，从根节点到最底层叶子节点只有lgN个节点。在最差的情况下，根节点到最底层叶子节点会有N各节点。在一般情况下，树的形状和最好的情况接近。 在分析二叉查找树的时候，我们通常会假设插入的元素顺序是随机的。对BST的分析类似与快速排序中的查找：\n\n\n\nBST中位于顶部的元素就是快速排序中的第一个划分的元素，该元素左边的元素全部小于该元素，右边的元素均大于该元素。\n\n对于N个不同元素，随机插入的二叉查找树来说，其平均查找/插入的时间复杂度大约为2lnN，这个和快速排序的分析一样，具体的证明方法不再赘述，参照快速排序。",normalizedContent:"# 定义\n\n二叉查找树（binary search tree），也称有序二叉树（ordered binary tree）,排序二叉树（sorted binary tree），是指一棵空树或者具有下列性质的二叉树：\n\n 1. 若任意节点的左子树不空，则左子树上所有结点的值均小于它的根结点的值；\n 2. 若任意节点的右子树不空，则右子树上所有结点的值均大于它的根结点的值；\n 3. 任意节点的左、右子树也分别为二叉查找树。\n 4. 没有键值相等的节点（no duplicate nodes）。\n\n如下图，这个是普通的二叉树 在此基础上，加上节点之间的大小关系，就是二叉查找树：\n\n\n# 实现\n\ndata binary_tree a = null | node {element::a,left_tree,right_tree::binary_tree a}\n    deriving (show,eq)\n\nmax' :: (integral b) => b -> b -> b\nmax' l r\n    |(l > r)   = l\n    |otherwise = r\n\nsize_of_tree :: (integral b) => binary_tree a -> b\nsize_of_tree binary_tree = case binary_tree of\n    null        -> 0\n    node {element = _, left_tree = left, right_tree = right} -> size_of_tree left + size_of_tree right + 1\n\ndepth_of_tree :: (integral b) => binary_tree a -> b\ndepth_of_tree binary_tree = case binary_tree of\n    null        -> 0\n    node {element = _, left_tree = left, right_tree = right} -> max' (depth_of_tree left) (depth_of_tree right) + 1\n\nflatten_tree :: binary_tree a -> [a]\nflatten_tree binary_tree = case binary_tree of\n    null -> []\n    node {element = x, left_tree = left, right_tree = right} -> x : (flatten_tree left ++ flatten_tree right)\n\nleaves_of_tree ::(eq a) => binary_tree a -> [a]\nleaves_of_tree binary_tree = case binary_tree of \n    null -> []\n    node {element = x, left_tree = left, right_tree = right}\n        | left == null && right == null -> [x]\n        | otherwise                     -> leaves_of_tree left ++ leaves_of_tree right\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 查找\n\n查找操作和二分查找类似，将key和节点的key比较，如果小于，那么就在left node节点查找,如果大于，则在right node节点查找，如果相等，直接返回value。 该方法实现有迭代和递归两种。\n\n\n# 插入\n\n插入主要是判断应该插入的值依次进行比较，插入合适的位置。这里利用迭代来实现。\n\ninsert_element_to_tree :: ord a => a -> bs_tree a -> bs_tree a\ninsert_element_to_tree a bs_tree = case bs_tree of \n    null    ->  node {element = a, left_tree = null, right_tree = null}\n    node {element = x, left_tree = left, right_tree = right}\n        | is_vaild_binary_search_tree bs_tree == false  -> error \"not a vaild bs_tree\"\n        | x > a         -> insert_element_to_tree a left\n        | otherwise     -> insert_element_to_tree a right\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n插入操作图示如下：\n\n\n# 最大最小值\n\n二叉查找树中，最左和最右节点即为最小值和最大值，所以我们只需递归调用即可。\n\nmaximum' :: (ord a) => bs_tree a -> a\nmaximum' bs_tree = case bs_tree of\n    null        -> error \"maximum of empty list\" \n    node {element = x, left_tree = left, right_tree = right}\n        | right == null     -> x\n        | otherwise         -> maximum' right\n\nminimum' :: (ord a) => bs_tree a -> a\nminimum' bs_tree = case bs_tree of\n    null        -> error \"maximum of empty list\" \n    node {element = x, left_tree = left, right_tree = right}\n        | left == null     -> x\n        | otherwise         -> minimum' left\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 删除\n\n删除元素操作在二叉树的操作中应该是比较复杂的。首先来看下比较简单的删除最大最小值得方法。 以删除最小值为例，我们首先找到最小值，及最左边左子树为空的节点，然后返回其右子树作为新的左子树。操作示意图如下： 删除最大值也是类似。\n\n现在来分析一般情况，假定我们要删除指定key的某一个节点。这个问题的难点在于：删除最大最小值的操作，删除的节点只有1个子节点或者没有子节点，这样比较简单。但是如果删除任意节点，就有可能出现删除的节点有0个，1 个，2个子节点的情况，现在来逐一分析。\n\n * 当删除的节点没有子节点时，直接将该父节点指向该节点的link设置为null。\n * 当删除的节点只有1个子节点时，将该自己点替换为要删除的节点即可。\n * 当删除的节点有2个子节点时，问题就变复杂了。 假设我们删除的节点t具有两个子节点。因为t具有右子节点，所以我们需要找到其右子节点中的最小节点，替换t节点的位置。这里有四个步骤：\n * 保存带删除的节点到临时变量t\n * 将t的右节点的最小节点min(t.right)保存到临时节点x\n * 将x的右节点设置为deletemin(t.right)，该右节点是删除后，所有比x.key最大的节点。\n * 将x的做节点设置为t的左节点。\n\n整个过程如下图\n\n\n# 分析\n\n二叉查找树的运行时间和树的形状有关，树的形状又和插入元素的顺序有关。在最好的情况下，节点完全平衡，从根节点到最底层叶子节点只有lgn个节点。在最差的情况下，根节点到最底层叶子节点会有n各节点。在一般情况下，树的形状和最好的情况接近。 在分析二叉查找树的时候，我们通常会假设插入的元素顺序是随机的。对bst的分析类似与快速排序中的查找：\n\n\n\nbst中位于顶部的元素就是快速排序中的第一个划分的元素，该元素左边的元素全部小于该元素，右边的元素均大于该元素。\n\n对于n个不同元素，随机插入的二叉查找树来说，其平均查找/插入的时间复杂度大约为2lnn，这个和快速排序的分析一样，具体的证明方法不再赘述，参照快速排序。",charsets:{cjk:!0},lastUpdated:"2024/06/12, 12:07:39",lastUpdatedTimestamp:1718165259e3},{title:"真的只是随机吗？",frontmatter:{title:"真的只是随机吗？",date:"2016-03-21T16:00:00.000Z",permalink:"/blog/2016/random",categories:["ALgorithms"],tags:["Algorithms","Javascript"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/16.2016/04.random.html",relativePath:"blog/16.2016/04.random.md",key:"v-29944252",path:"/blog/2016/random/",headers:[{level:3,title:"参考资料",slug:"参考资料",normalizedTitle:"参考资料",charIndex:2},{level:3,title:"背景",slug:"背景",normalizedTitle:"背景",charIndex:85},{level:3,title:"Math.random()",slug:"math-random",normalizedTitle:"math.random()",charIndex:158},{level:3,title:"伪随机",slug:"伪随机",normalizedTitle:"伪随机",charIndex:12},{level:3,title:"真随机",slug:"真随机",normalizedTitle:"真随机",charIndex:73},{level:3,title:"其它生成随机的方法",slug:"其它生成随机的方法",normalizedTitle:"其它生成随机的方法",charIndex:1281}],headersStr:"参考资料 背景 Math.random() 伪随机 真随机 其它生成随机的方法",content:'# 参考资料\n\n怎样解释伪随机 由eval生成的代码效率真的很差吗？ 如何评价一个伪随机数生成算法的优劣？ 电脑取随机数是什么原理，计算机能产生“真随机数”吗？\n\n\n# 背景\n\n随机数在我们的日常应用中可谓是非常广泛，比如俄罗斯方块的下一个，部落冲突砍树获得的宝石数，DOTA斧王转不转。例子实在不要太多。\n\n\n# Math.random()\n\n但是说到随机数的生成，我想懂一点编程的人都可以写出来。比如js中，可以用Math.random()*range+n来实现。\n\n\n# 伪随机\n\n然而，你有没有考虑过，计算机所生产的随机数，其实是属于伪随机，那么什么是伪随机呢？伪随机所生产随机数，只是一个重复周期比较大的数列按一定的「算法」和「种子值」生成的。参考：维基百科 那么说，如果算法和种子数是一定的，则生成的随机数也是一定的。不过js的方法无法提供种子值，所以我用Java测试了下。\n\npublic class TestRandom {\n    public static void main(String[] args) {\n        int r1 = new Random(1024).nextInt();\n        int r2 = new Random(1024).nextInt();\n        System.out.println(r1 + " " + r2);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n结果，意料之中的结果是相等的。\n\n\n# 真随机\n\n那么问题来了，计算机可以产生所谓的真随机么？真随机，如果非要讲这个真，或许只有量子力学的不确定才算是真的吧，而我们平时所说的随机应该是属于统计学范畴的，也就是具备不确定性，可以被安全的用于金融等领域，德国联邦信息安全办公室给出了随机数发生器质量评判的四个标准：\n\n> K1——相同序列的概率非常低 K2——符合统计学的平均性，比如所有数字出现概率应该相同，卡方检验应该能通过，超长游程长度概略应该非常小，自相关应该只有一个尖峰，任何长度的同一数字之后别的数字出现概率应该仍然是相等的等等 K3——不应该能够从一段序列猜测出随机数发生器的工作状态或者下一个随机数 K4——不应该从随机数发生器的状态能猜测出随机数发生器以前的工作状态\n\n计算机理论上是不能产生真随机数的，像C，MATLAB这些产生的随机数，都是伪随机的，它们的方法无非也是通过可确定的函数比如线性同余，可确定的种子数比如毫秒数，来产生随机数，但是一旦函数和种子数都可知，那么随机数也是可预测的。 但是，我们知道一个典型的计算机体系里面的真随机数发生器，UNIX内核里的/dev/random便是一个典型的例子（但是我进去后，发现random是个字符设备，这有点不懂，之后再看一下字符设备和块设备）。它在理论上能产生真随机。即这个随机数的生成，独立于生成函数，或者说这个产生器是非确定的。实现方法呢？简单的讲就是软硬结合，或者说，引入系统外的变量（把软件，代码，算法想象成一个封闭的系统）。\n\n\n# 其它生成随机的方法\n\n 1. (new Date() - 0)%1024 由时间毫秒数来对你所需要的range进行取余，得到随机。\n 2. LCG随机数生成器\n\nvar nativeRandomLCG = function (seed) {\n    return function () {\n        seed = (214013 * seed + 2531011) % 0x100000000;\n        return seed * (1.0 / 4294967296.0);\n    };\n};\n\nvar evalRandomLCG = function (seed) {\n    var randomLCG = eval("(" + nativeRandomLCG.toString() + ")");\n    return randomLCG(seed);\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n',normalizedContent:'# 参考资料\n\n怎样解释伪随机 由eval生成的代码效率真的很差吗？ 如何评价一个伪随机数生成算法的优劣？ 电脑取随机数是什么原理，计算机能产生“真随机数”吗？\n\n\n# 背景\n\n随机数在我们的日常应用中可谓是非常广泛，比如俄罗斯方块的下一个，部落冲突砍树获得的宝石数，dota斧王转不转。例子实在不要太多。\n\n\n# math.random()\n\n但是说到随机数的生成，我想懂一点编程的人都可以写出来。比如js中，可以用math.random()*range+n来实现。\n\n\n# 伪随机\n\n然而，你有没有考虑过，计算机所生产的随机数，其实是属于伪随机，那么什么是伪随机呢？伪随机所生产随机数，只是一个重复周期比较大的数列按一定的「算法」和「种子值」生成的。参考：维基百科 那么说，如果算法和种子数是一定的，则生成的随机数也是一定的。不过js的方法无法提供种子值，所以我用java测试了下。\n\npublic class testrandom {\n    public static void main(string[] args) {\n        int r1 = new random(1024).nextint();\n        int r2 = new random(1024).nextint();\n        system.out.println(r1 + " " + r2);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n结果，意料之中的结果是相等的。\n\n\n# 真随机\n\n那么问题来了，计算机可以产生所谓的真随机么？真随机，如果非要讲这个真，或许只有量子力学的不确定才算是真的吧，而我们平时所说的随机应该是属于统计学范畴的，也就是具备不确定性，可以被安全的用于金融等领域，德国联邦信息安全办公室给出了随机数发生器质量评判的四个标准：\n\n> k1——相同序列的概率非常低 k2——符合统计学的平均性，比如所有数字出现概率应该相同，卡方检验应该能通过，超长游程长度概略应该非常小，自相关应该只有一个尖峰，任何长度的同一数字之后别的数字出现概率应该仍然是相等的等等 k3——不应该能够从一段序列猜测出随机数发生器的工作状态或者下一个随机数 k4——不应该从随机数发生器的状态能猜测出随机数发生器以前的工作状态\n\n计算机理论上是不能产生真随机数的，像c，matlab这些产生的随机数，都是伪随机的，它们的方法无非也是通过可确定的函数比如线性同余，可确定的种子数比如毫秒数，来产生随机数，但是一旦函数和种子数都可知，那么随机数也是可预测的。 但是，我们知道一个典型的计算机体系里面的真随机数发生器，unix内核里的/dev/random便是一个典型的例子（但是我进去后，发现random是个字符设备，这有点不懂，之后再看一下字符设备和块设备）。它在理论上能产生真随机。即这个随机数的生成，独立于生成函数，或者说这个产生器是非确定的。实现方法呢？简单的讲就是软硬结合，或者说，引入系统外的变量（把软件，代码，算法想象成一个封闭的系统）。\n\n\n# 其它生成随机的方法\n\n 1. (new date() - 0)%1024 由时间毫秒数来对你所需要的range进行取余，得到随机。\n 2. lcg随机数生成器\n\nvar nativerandomlcg = function (seed) {\n    return function () {\n        seed = (214013 * seed + 2531011) % 0x100000000;\n        return seed * (1.0 / 4294967296.0);\n    };\n};\n\nvar evalrandomlcg = function (seed) {\n    var randomlcg = eval("(" + nativerandomlcg.tostring() + ")");\n    return randomlcg(seed);\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n',charsets:{cjk:!0},lastUpdated:"2024/06/12, 12:07:39",lastUpdatedTimestamp:1718165259e3},{title:"真的只是随机吗？",frontmatter:{title:"真的只是随机吗？",date:"2016-04-19T16:00:00.000Z",permalink:"/blog/2016/fp",categories:["ALgorithms"],tags:["Algorithms","Javascript"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/16.2016/05.functional-programming.html",relativePath:"blog/16.2016/05.functional-programming.md",key:"v-ff1e67fe",path:"/blog/2016/fp/",headers:[{level:3,title:"什么是函数式编程(What?)",slug:"什么是函数式编程-what",normalizedTitle:"什么是函数式编程(what?)",charIndex:56},{level:3,title:"特点(fectures)",slug:"特点-fectures",normalizedTitle:"特点(fectures)",charIndex:204},{level:3,title:"纯函数（ Pure Function ）",slug:"纯函数-pure-function",normalizedTitle:"纯函数（ pure function ）",charIndex:287},{level:3,title:"非纯函数 ( Impure Function )",slug:"非纯函数-impure-function",normalizedTitle:"非纯函数 ( impure function )",charIndex:397},{level:3,title:"副作用（side effect）",slug:"副作用-side-effect",normalizedTitle:"副作用（side effect）",charIndex:621},{level:3,title:"引用透明( referential transparent )",slug:"引用透明-referential-transparent",normalizedTitle:"引用透明( referential transparent )",charIndex:981},{level:3,title:"高阶函数（high－order function）",slug:"高阶函数-high-order-function",normalizedTitle:"高阶函数（high－order function）",charIndex:1149},{level:3,title:"惰性求值（lazy evaluation）",slug:"惰性求值-lazy-evaluation",normalizedTitle:"惰性求值（lazy evaluation）",charIndex:1237},{level:3,title:"求值策略",slug:"求值策略",normalizedTitle:"求值策略",charIndex:1495},{level:3,title:"trunk",slug:"trunk",normalizedTitle:"trunk",charIndex:1654},{level:3,title:"模式匹配（pattern match）",slug:"模式匹配-pattern-match",normalizedTitle:"模式匹配（pattern match）",charIndex:1878},{level:3,title:"lambda",slug:"lambda",normalizedTitle:"lambda",charIndex:2192},{level:3,title:"Monad",slug:"monad",normalizedTitle:"monad",charIndex:2318},{level:3,title:"优点(good-part)",slug:"优点-good-part",normalizedTitle:"优点(good-part)",charIndex:2617},{level:3,title:"递归带来的问题(recursive's problem)",slug:"递归带来的问题-recursive-s-problem",normalizedTitle:"递归带来的问题(recursive's problem)",charIndex:3498},{level:3,title:"缺陷",slug:"缺陷",normalizedTitle:"缺陷",charIndex:3972},{level:3,title:"总结",slug:"总结",normalizedTitle:"总结",charIndex:598}],headersStr:"什么是函数式编程(What?) 特点(fectures) 纯函数（ Pure Function ） 非纯函数 ( Impure Function ) 副作用（side effect） 引用透明( referential transparent ) 高阶函数（high－order function） 惰性求值（lazy evaluation） 求值策略 trunk 模式匹配（pattern match） lambda Monad 优点(good-part) 递归带来的问题(recursive's problem) 缺陷 总结",content:"> 这是来百度后的新人技术分享，这是个大体的提纲，分析的比较简单，因为我觉得自己对FP也存在一知半解。\n\n\n# 什么是函数式编程(What?)\n\n函数式编程中的函数这个术语不是指计算机中的函数（实际上是子程序），而是指数学中的函数，即自变量的映射。也就是说一个函数的值仅决定于函数参数的值，不依赖其他状态。比如sqrt(x)函数计算x的平方根，只要x不变，不论什么时候调用，调用几次，值都是不变的。\n\n\n# 特点(fectures)\n\n函数是一等公民（first-class），可以在任何地方定义，在函数内或函数外，可以作为函数的参数和返回值，可以对函数进行组合。\n\n\n# 纯函数（ Pure Function ）\n\n * sin(x)，返回实数x的sin值\n * length(s),返回串s的大小\n * encrypt(k,d)，运行一个使用key k 关于日期片d的确定加密算法\n\n\n# 非纯函数 ( Impure Function )\n\n * random()是非纯函数，因为每次调用潜在地产生不同的值。这是因为伪随机数产生器使用和更新了一个全局的“种子”状态。假如我们修改它去拿种子作为参数，例如random(seed)，那么random变为纯函数，因为使用同一种子值的多次调用返回同一随机数。\n * printf() 是非纯函数，因为它促使输出到一个I/O装置，产生了副作用。\n * 总结：纯函数就是不受外部影响的函数。\n\n\n# 副作用（side effect）\n\n指当调用函数时，除了返回函数值之外，还对主调用函数产生附加的影响。例如修改全局变量（函数外的变量）或修改参数。\n\n在JavaScript中，引入了函数。但显然JS中的函数可以访问、修改全局变量（或定义在函数外的变量），如下\n\nvar a = 5;\nfunction fun(){\n    a = 10\n}\nfun();\n\n\n1\n2\n3\n4\n5\n\n\nJS中要想保证函数无副作用这项特性，只能依靠编程人员的习惯，即\n\n1，函数入口使用参数运算，而不修改它\n\n2，函数内不修改函数外的变量，如全局变量\n\n3，运算结果通过函数返回给外部（出口）\n\nvar a = 5;\nfunction fun(c){\n    return c + 5\n}\nfun(a);\n\n\n1\n2\n3\n4\n5\n\n\n\n# 引用透明( referential transparent )\n\n引用透明的概念与函数的副作用相关，且受其影响。 如果程序中两个相同值得表达式能在该程序的任何地方互相替换，而不影响程序的动作，那么该程序就具有引用透明性。它的优点是比非引用透明的语言的语义更容易理解，不那么晦涩。纯函数式语言没有变量，所以它们都具有引用透明性。\n\n\n# 高阶函数（high－order function）\n\n高阶函数应该是指至少满足下列条件之一的函数：\n\n 1. 可以接受函数作为输入参数\n 2. return 一个函数\n\n\n# 惰性求值（lazy evaluation）\n\nHaskell的精髓 所谓惰性求值就是指“需要的时候再去求” 举个例子：\n\n通过将表达式包装成一个thunk实现的 f(g x)，实际上给f传递的参数就是一个类似于包装成(_ -> (g x))的一个thunk 然后在真正需要计算g x的时候才会调用这个thunk 事实上这个thunk里面还包含一个boolean表示该thunk是否已经被计算过（若已经被计算过，则还包含一个返回值），用来防止重复计算 ES6里面的Generator函数其实就是用了惰性求值。\n\n\n# 求值策略\n\n如下的函数应该如何求值？\n\nvar x = 1;  \nfunction f(m){\n    return m * 2;     \n}\nf(x + 5)\n\n\n1\n2\n3\n4\n5\n\n\n应该先求1＋5 然后求 6_2 还是先求出式子（x+5）_2然后代入1 如果想深究的话 可以在维基百科上搜索求值策略\n\n\n# trunk\n\nc语言采用第一种 而Haskell采用第二种 所以Haskell中应该是这样的一个过程\n\nvar thunk = function () {\n    return x + 5;\n};\nfunction f(thunk){\n    return thunk() * 2;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\ntrunk其实就是传名调用的一个策略，用来保存表达式。 如果想知道惰性求值的原理可以读一下sicp中关于流式计算的那章\n\n\n# 模式匹配（pattern match）\n\nequal_list :: [a] -> [a] -> Bool\nequal_list list_1 list_2 = case (list_1, list_2) of\n    ([], [])       -> False\n        ([], _ )       -> False\n        (_ , [])       -> False\n        (x: xs, y: ys) -> (x == y) && (xs `equal_list` ys)\n\n\n1\n2\n3\n4\n5\n6\n\n\n模式匹配是函数式编程中一个比较重要的概念，这也很方便的使我们做一些操作。\n\n\n# lambda\n\nlambda比较火，目前很多语言都开始引入lambda的概念。 js的匿名函数（anonymity function） es6的箭头函数（arrow function） python中的lambda java8中的lambda\n\n\n# Monad\n\n个人认为是为了达到纯函数的目的，所采用的方法。 比如，Haskell中实现random函数。计算机中的任何random方法除了unix内核中的random是真随机外，其余的都是伪随机。所谓伪随机，就是要提供一个种子。而如果Haskell中定义了一个种子，那么就明显不是纯函数了。所以Haskell要做的就是把这个种子向下传递，Haskell中的random方法不仅仅返回random的值，同时返回种子（但是不是显式），那么如何将种子传下去呢？这就是monad的作用了。 再比如，io操作是无法避免的会有状态的改变的，所以Haskell中也提供了大量的与io相关的monad。\n\n\n# 优点(good-part)\n\n由于命令式编程语言也可以通过类似函数指针的方式来实现高阶函数，函数式的最主要的好处主要是不可变性带来的。没有可变的状态，函数就是引用透明（Referential transparency）的和没有副作用（No Side Effect）。\n\n函数即不依赖外部的状态也不修改外部的状态，函数调用的结果不依赖调用的时间和位置，这样写的代码容易进行推理，不容易出错。这样做的好处就是测试和调试的时候就会非常容易。\n\n由于不变性，多个线程之前就不共享状态，不会导致资源的竞争，也就不会出现死锁的情况。所以函数式编程目前广泛被用在并发编程上（concurrency），比如著名的Scala。\n\n由于没有状态的改变，所以纯函数式编程语言无法实现循环（loop）的。我们平时接触的for／while循环都是需要可变的状态作为跳出循环的条件。 所以函数式编程中只能用递归（recursive）来解决迭代（iteration）问题。以阶乘为例\n\niteration实现阶乘:\n\nfunction fact(n) {\n    var acc = 1;\n    for (var i = 1; i <= n; i++) {\n        acc = acc * i;\n    }\n    return acc;\n}\nfact(10);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nrecursive实现阶乘:\n\nfunction fact(n) {\n    if (n == 1) {\n        return 1;\n    } else {\n        return n*fact(n-1);\n    }\n}\nfact(10);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n函数式编程是面向数学的抽象，更接近人的语言，代码简洁，更容易被理解。\n\n阶乘的Haskell的实现\n\nfact :: Int -> Int\nfact n = case n of\n    1 -> 1\n    _ -> n * fact (n-1)\n\n\n1\n2\n3\n4\n\n\n\n# 递归带来的问题(recursive's problem)\n\nfunction fib(n) {\n    if (n == 1) {\n        return 1;\n    } else if (n == 2) {\n        return 1;\n    } else {\n        return fib(n - 1) + fib (n - 2);\n    }\n}\nfib(12);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n尾递归(tail-recursive)解决 #2\n\nfunction fib(n, acc1, acc2) {\n    if(n == 1) {\n        return acc1;\n    } else if(n == 2) {\n        return acc2 + acc1;\n    } else {\n        return fib(n-1, acc2 + acc1, acc1)\n    }\n}\nfib(60,1,1);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 缺陷\n\n 1. 学术界比较风靡，商业应用不广泛。\n 2. 国内编程注重c这些图灵机衍生的语言，所以编程思维局限于指令式编程。\n\n\n# 总结\n\n 1. 纯函数并不完美，因为有些东西就不是纯的，副作用这东西是必然存在的。用c语言实现一个随机数发生器多么简单？但是用Haskell就不一样了。（曾经有个学长让我用Haskell写个helloworld，我想了半天,必须得传个helloworld，才能的到helloworld）\n 2. 纯面向对象也不完美，比如java，由于缺乏函数一等的机制，java完全不允许把函数当作数据来传递。java中可以将函数绑架到对象里面，然后称作方法，然而缺乏一等函数的机制，导致java需要太多的设计模式。\n\n但是，学习FP和OOP的思想是我们每个编程爱好者需要做的。虽然当中有糟粕，但是学习这些还是大有裨益的。 如果你不想去看Haskell的FP，也不想花大精力去研究java的OOP，那么javascript是个不错的选择。\n\n好吧，我想说，php是最好的语言（逃。",normalizedContent:"> 这是来百度后的新人技术分享，这是个大体的提纲，分析的比较简单，因为我觉得自己对fp也存在一知半解。\n\n\n# 什么是函数式编程(what?)\n\n函数式编程中的函数这个术语不是指计算机中的函数（实际上是子程序），而是指数学中的函数，即自变量的映射。也就是说一个函数的值仅决定于函数参数的值，不依赖其他状态。比如sqrt(x)函数计算x的平方根，只要x不变，不论什么时候调用，调用几次，值都是不变的。\n\n\n# 特点(fectures)\n\n函数是一等公民（first-class），可以在任何地方定义，在函数内或函数外，可以作为函数的参数和返回值，可以对函数进行组合。\n\n\n# 纯函数（ pure function ）\n\n * sin(x)，返回实数x的sin值\n * length(s),返回串s的大小\n * encrypt(k,d)，运行一个使用key k 关于日期片d的确定加密算法\n\n\n# 非纯函数 ( impure function )\n\n * random()是非纯函数，因为每次调用潜在地产生不同的值。这是因为伪随机数产生器使用和更新了一个全局的“种子”状态。假如我们修改它去拿种子作为参数，例如random(seed)，那么random变为纯函数，因为使用同一种子值的多次调用返回同一随机数。\n * printf() 是非纯函数，因为它促使输出到一个i/o装置，产生了副作用。\n * 总结：纯函数就是不受外部影响的函数。\n\n\n# 副作用（side effect）\n\n指当调用函数时，除了返回函数值之外，还对主调用函数产生附加的影响。例如修改全局变量（函数外的变量）或修改参数。\n\n在javascript中，引入了函数。但显然js中的函数可以访问、修改全局变量（或定义在函数外的变量），如下\n\nvar a = 5;\nfunction fun(){\n    a = 10\n}\nfun();\n\n\n1\n2\n3\n4\n5\n\n\njs中要想保证函数无副作用这项特性，只能依靠编程人员的习惯，即\n\n1，函数入口使用参数运算，而不修改它\n\n2，函数内不修改函数外的变量，如全局变量\n\n3，运算结果通过函数返回给外部（出口）\n\nvar a = 5;\nfunction fun(c){\n    return c + 5\n}\nfun(a);\n\n\n1\n2\n3\n4\n5\n\n\n\n# 引用透明( referential transparent )\n\n引用透明的概念与函数的副作用相关，且受其影响。 如果程序中两个相同值得表达式能在该程序的任何地方互相替换，而不影响程序的动作，那么该程序就具有引用透明性。它的优点是比非引用透明的语言的语义更容易理解，不那么晦涩。纯函数式语言没有变量，所以它们都具有引用透明性。\n\n\n# 高阶函数（high－order function）\n\n高阶函数应该是指至少满足下列条件之一的函数：\n\n 1. 可以接受函数作为输入参数\n 2. return 一个函数\n\n\n# 惰性求值（lazy evaluation）\n\nhaskell的精髓 所谓惰性求值就是指“需要的时候再去求” 举个例子：\n\n通过将表达式包装成一个thunk实现的 f(g x)，实际上给f传递的参数就是一个类似于包装成(_ -> (g x))的一个thunk 然后在真正需要计算g x的时候才会调用这个thunk 事实上这个thunk里面还包含一个boolean表示该thunk是否已经被计算过（若已经被计算过，则还包含一个返回值），用来防止重复计算 es6里面的generator函数其实就是用了惰性求值。\n\n\n# 求值策略\n\n如下的函数应该如何求值？\n\nvar x = 1;  \nfunction f(m){\n    return m * 2;     \n}\nf(x + 5)\n\n\n1\n2\n3\n4\n5\n\n\n应该先求1＋5 然后求 6_2 还是先求出式子（x+5）_2然后代入1 如果想深究的话 可以在维基百科上搜索求值策略\n\n\n# trunk\n\nc语言采用第一种 而haskell采用第二种 所以haskell中应该是这样的一个过程\n\nvar thunk = function () {\n    return x + 5;\n};\nfunction f(thunk){\n    return thunk() * 2;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\ntrunk其实就是传名调用的一个策略，用来保存表达式。 如果想知道惰性求值的原理可以读一下sicp中关于流式计算的那章\n\n\n# 模式匹配（pattern match）\n\nequal_list :: [a] -> [a] -> bool\nequal_list list_1 list_2 = case (list_1, list_2) of\n    ([], [])       -> false\n        ([], _ )       -> false\n        (_ , [])       -> false\n        (x: xs, y: ys) -> (x == y) && (xs `equal_list` ys)\n\n\n1\n2\n3\n4\n5\n6\n\n\n模式匹配是函数式编程中一个比较重要的概念，这也很方便的使我们做一些操作。\n\n\n# lambda\n\nlambda比较火，目前很多语言都开始引入lambda的概念。 js的匿名函数（anonymity function） es6的箭头函数（arrow function） python中的lambda java8中的lambda\n\n\n# monad\n\n个人认为是为了达到纯函数的目的，所采用的方法。 比如，haskell中实现random函数。计算机中的任何random方法除了unix内核中的random是真随机外，其余的都是伪随机。所谓伪随机，就是要提供一个种子。而如果haskell中定义了一个种子，那么就明显不是纯函数了。所以haskell要做的就是把这个种子向下传递，haskell中的random方法不仅仅返回random的值，同时返回种子（但是不是显式），那么如何将种子传下去呢？这就是monad的作用了。 再比如，io操作是无法避免的会有状态的改变的，所以haskell中也提供了大量的与io相关的monad。\n\n\n# 优点(good-part)\n\n由于命令式编程语言也可以通过类似函数指针的方式来实现高阶函数，函数式的最主要的好处主要是不可变性带来的。没有可变的状态，函数就是引用透明（referential transparency）的和没有副作用（no side effect）。\n\n函数即不依赖外部的状态也不修改外部的状态，函数调用的结果不依赖调用的时间和位置，这样写的代码容易进行推理，不容易出错。这样做的好处就是测试和调试的时候就会非常容易。\n\n由于不变性，多个线程之前就不共享状态，不会导致资源的竞争，也就不会出现死锁的情况。所以函数式编程目前广泛被用在并发编程上（concurrency），比如著名的scala。\n\n由于没有状态的改变，所以纯函数式编程语言无法实现循环（loop）的。我们平时接触的for／while循环都是需要可变的状态作为跳出循环的条件。 所以函数式编程中只能用递归（recursive）来解决迭代（iteration）问题。以阶乘为例\n\niteration实现阶乘:\n\nfunction fact(n) {\n    var acc = 1;\n    for (var i = 1; i <= n; i++) {\n        acc = acc * i;\n    }\n    return acc;\n}\nfact(10);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nrecursive实现阶乘:\n\nfunction fact(n) {\n    if (n == 1) {\n        return 1;\n    } else {\n        return n*fact(n-1);\n    }\n}\nfact(10);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n函数式编程是面向数学的抽象，更接近人的语言，代码简洁，更容易被理解。\n\n阶乘的haskell的实现\n\nfact :: int -> int\nfact n = case n of\n    1 -> 1\n    _ -> n * fact (n-1)\n\n\n1\n2\n3\n4\n\n\n\n# 递归带来的问题(recursive's problem)\n\nfunction fib(n) {\n    if (n == 1) {\n        return 1;\n    } else if (n == 2) {\n        return 1;\n    } else {\n        return fib(n - 1) + fib (n - 2);\n    }\n}\nfib(12);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n尾递归(tail-recursive)解决 #2\n\nfunction fib(n, acc1, acc2) {\n    if(n == 1) {\n        return acc1;\n    } else if(n == 2) {\n        return acc2 + acc1;\n    } else {\n        return fib(n-1, acc2 + acc1, acc1)\n    }\n}\nfib(60,1,1);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 缺陷\n\n 1. 学术界比较风靡，商业应用不广泛。\n 2. 国内编程注重c这些图灵机衍生的语言，所以编程思维局限于指令式编程。\n\n\n# 总结\n\n 1. 纯函数并不完美，因为有些东西就不是纯的，副作用这东西是必然存在的。用c语言实现一个随机数发生器多么简单？但是用haskell就不一样了。（曾经有个学长让我用haskell写个helloworld，我想了半天,必须得传个helloworld，才能的到helloworld）\n 2. 纯面向对象也不完美，比如java，由于缺乏函数一等的机制，java完全不允许把函数当作数据来传递。java中可以将函数绑架到对象里面，然后称作方法，然而缺乏一等函数的机制，导致java需要太多的设计模式。\n\n但是，学习fp和oop的思想是我们每个编程爱好者需要做的。虽然当中有糟粕，但是学习这些还是大有裨益的。 如果你不想去看haskell的fp，也不想花大精力去研究java的oop，那么javascript是个不错的选择。\n\n好吧，我想说，php是最好的语言（逃。",charsets:{cjk:!0},lastUpdated:"2024/07/04, 00:28:21",lastUpdatedTimestamp:1720024101e3},{title:"从Simple JavaScript Inheritance源码来谈js的原型链",frontmatter:{title:"从Simple JavaScript Inheritance源码来谈js的原型链",date:"2017-11-15T16:00:00.000Z",permalink:"/blog/2017/js-prototype",categories:["FE"],tags:["JavaScript"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/17.2017/00.js-prototype.html",relativePath:"blog/17.2017/00.js-prototype.md",key:"v-5e6e1e4e",path:"/blog/2017/js-prototype/",headersStr:null,content:"最近写ES6写的比较多，对于面向对象方面用的还是比较顺手的， 但是说到底，ES6的class也就是js的语法糖而已，js的面向对象以及继承，底层的原理还是绕不开原型链。\n\n有人说，谈原型链这些网上早已大篇文章，你写这篇意义又在哪呢?我也思考过这个问题，但是阅读了网上大多数文章，感觉良莠不齐，所以我想借助阅读jQuery作者的一小段源码来讲讲我复习原型链遇到的坑。 由于源码只有20几行（是的，我没有少打一个0），我就直接贴出来了。\n\n\n(function(){\n  var initializing = false, fnTest = /xyz/.test(function(){xyz;}) ? /\\b_super\\b/ : /.*/;\n\n  this.Class = function(){};\n\n  Class.extend = function(prop) {\n    var _super = this.prototype;\n\n    initializing = true;\n    var prototype = new this();\n    initializing = false;\n\n    for (var name in prop) {\n\n      prototype[name] = typeof prop[name] == \"function\" && \n        typeof _super[name] == \"function\" && fnTest.test(prop[name]) ?\n        (function(name, fn){\n          return function() {\n            var tmp = this._super;\n             \n            this._super = _super[name];\n\n            var ret = fn.apply(this, arguments);        \n            this._super = tmp;\n             \n            return ret;\n          };\n        })(name, prop[name]) :\n        prop[name];\n    }\n\n    function Class() {\n\n      if ( !initializing && this.init )\n        this.init.apply(this, arguments);\n    }\n\n    Class.prototype = prototype;\n\n    Class.prototype.constructor = Class;\n\n    Class.extend = arguments.callee;\n     \n    return Class;\n  };\n})();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n整个源代码，在一个自执行函数里。函数中，给window对象定了一个Class属性，并且Class拥有一个extend方法。\n\n解读源码第一步:我们先看看怎么用。\n\n    var A = Class.extend({\n        init: function () {\n            this.name = 'A';\n        },\n        showName: function () {\n            console.log(this.name);\n        },\n    });\n\n    var B = A.extent({\n        init: function () {\n            this.name = 'B';\n        },\n    });\n\n    var b = new B();\n\n    b.showName() // 'B'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n以上代码很轻易的实现了JavaScript的继承，而且让你摆脱了烦恼的prototype。\n\n我们先来看这个功能：\n\n    var A = Class.extend({\n        init: function () {\n            this.name = 'A';\n        },\n        showName: function () {\n            console.log(this.name);\n        },\n    });\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n那么我们试着自己来实现一下这个功能。\n\nwindow.Class = function () {}\n\nClass.extend = function () {\n    function A() {}\n    A.prototype = new this();\n    A.prototype.construct = A;\n    return A;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n几行代码而已，pofei！\n\n但是我们怎么实现继承呢？ 难道又要写一段A.extent = ... ？？？ 当然不是写一段，而是写一句,对，作者写了一句 A.extent = arguments.callee 仔细想想，arguments.callee这个指针就代表当前方法，我们在js中写递归的时候会用到这样的方法，这里也是这种思想的提现。\n\n那么，简单的继承和面向对象实现了，我们再来看看作者的源码，看看他还写了哪些东西。\n\n var initializing = false, fnTest = /xyz/.test(function(){xyz;}) ? /\\b_super\\b/ : /.*/;\n\n\n1\n\n\n这个initializing先不谈，fnTest是啥意思...看了许久，没能明白，因为/xyz/.test(function(){xyz;})的返回值一直是true啊，那么这个三元运算符的意义何在？难道是大佬随便写的么？不可能。我去MDN上搜了下test方法，发现test的传参只能是string，但是我们这里传了一个function，浏览器内部是帮我们做了toString的操作的。那么是否在某些浏览器上不会toString所以返回false呢？我试了下（window7系统）在IE、Firefox、chrome都正常。 google一番后发现，IE6不支持...\n\n心想在2017年应该不会有傻子还在用ie6了，但是同时又对作者心生佩服，写代码如此严谨。毕竟他们那个年代人们,IE的适配是前端的必备技能。\n\n再来看这个initializing,\n\n if ( !initializing && this.init )\n        this.init.apply(this, arguments);\n\n\n1\n2\n\n\n这里的这个判断，是因为我们new 了一个实例来进行继承的。所以父类的构造函数会执行多次，所以作者为什么不用Object.create方法呢，我想应该也是由于兼容问题的考虑吧。\n\n以上。",normalizedContent:"最近写es6写的比较多，对于面向对象方面用的还是比较顺手的， 但是说到底，es6的class也就是js的语法糖而已，js的面向对象以及继承，底层的原理还是绕不开原型链。\n\n有人说，谈原型链这些网上早已大篇文章，你写这篇意义又在哪呢?我也思考过这个问题，但是阅读了网上大多数文章，感觉良莠不齐，所以我想借助阅读jquery作者的一小段源码来讲讲我复习原型链遇到的坑。 由于源码只有20几行（是的，我没有少打一个0），我就直接贴出来了。\n\n\n(function(){\n  var initializing = false, fntest = /xyz/.test(function(){xyz;}) ? /\\b_super\\b/ : /.*/;\n\n  this.class = function(){};\n\n  class.extend = function(prop) {\n    var _super = this.prototype;\n\n    initializing = true;\n    var prototype = new this();\n    initializing = false;\n\n    for (var name in prop) {\n\n      prototype[name] = typeof prop[name] == \"function\" && \n        typeof _super[name] == \"function\" && fntest.test(prop[name]) ?\n        (function(name, fn){\n          return function() {\n            var tmp = this._super;\n             \n            this._super = _super[name];\n\n            var ret = fn.apply(this, arguments);        \n            this._super = tmp;\n             \n            return ret;\n          };\n        })(name, prop[name]) :\n        prop[name];\n    }\n\n    function class() {\n\n      if ( !initializing && this.init )\n        this.init.apply(this, arguments);\n    }\n\n    class.prototype = prototype;\n\n    class.prototype.constructor = class;\n\n    class.extend = arguments.callee;\n     \n    return class;\n  };\n})();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n整个源代码，在一个自执行函数里。函数中，给window对象定了一个class属性，并且class拥有一个extend方法。\n\n解读源码第一步:我们先看看怎么用。\n\n    var a = class.extend({\n        init: function () {\n            this.name = 'a';\n        },\n        showname: function () {\n            console.log(this.name);\n        },\n    });\n\n    var b = a.extent({\n        init: function () {\n            this.name = 'b';\n        },\n    });\n\n    var b = new b();\n\n    b.showname() // 'b'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n以上代码很轻易的实现了javascript的继承，而且让你摆脱了烦恼的prototype。\n\n我们先来看这个功能：\n\n    var a = class.extend({\n        init: function () {\n            this.name = 'a';\n        },\n        showname: function () {\n            console.log(this.name);\n        },\n    });\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n那么我们试着自己来实现一下这个功能。\n\nwindow.class = function () {}\n\nclass.extend = function () {\n    function a() {}\n    a.prototype = new this();\n    a.prototype.construct = a;\n    return a;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n几行代码而已，pofei！\n\n但是我们怎么实现继承呢？ 难道又要写一段a.extent = ... ？？？ 当然不是写一段，而是写一句,对，作者写了一句 a.extent = arguments.callee 仔细想想，arguments.callee这个指针就代表当前方法，我们在js中写递归的时候会用到这样的方法，这里也是这种思想的提现。\n\n那么，简单的继承和面向对象实现了，我们再来看看作者的源码，看看他还写了哪些东西。\n\n var initializing = false, fntest = /xyz/.test(function(){xyz;}) ? /\\b_super\\b/ : /.*/;\n\n\n1\n\n\n这个initializing先不谈，fntest是啥意思...看了许久，没能明白，因为/xyz/.test(function(){xyz;})的返回值一直是true啊，那么这个三元运算符的意义何在？难道是大佬随便写的么？不可能。我去mdn上搜了下test方法，发现test的传参只能是string，但是我们这里传了一个function，浏览器内部是帮我们做了tostring的操作的。那么是否在某些浏览器上不会tostring所以返回false呢？我试了下（window7系统）在ie、firefox、chrome都正常。 google一番后发现，ie6不支持...\n\n心想在2017年应该不会有傻子还在用ie6了，但是同时又对作者心生佩服，写代码如此严谨。毕竟他们那个年代人们,ie的适配是前端的必备技能。\n\n再来看这个initializing,\n\n if ( !initializing && this.init )\n        this.init.apply(this, arguments);\n\n\n1\n2\n\n\n这里的这个判断，是因为我们new 了一个实例来进行继承的。所以父类的构造函数会执行多次，所以作者为什么不用object.create方法呢，我想应该也是由于兼容问题的考虑吧。\n\n以上。",charsets:{cjk:!0},lastUpdated:"2024/01/17, 20:00:31",lastUpdatedTimestamp:1705492831e3},{title:"Metaball算法的简易实现",frontmatter:{title:"Metaball算法的简易实现",date:"2017-10-07T16:00:00.000Z",permalink:"/blog/2017/metaball",categories:["FE"],tags:["JavaScript"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/17.2017/01.metaball.html",relativePath:"blog/17.2017/01.metaball.md",key:"v-342230e2",path:"/blog/2017/metaball/",headersStr:null,content:"记得之前大二的时候，球球大作战这款游戏还比较火。虽然服务器在国外比较炸，但是球与球接触时的动画非常逼真，当时想了好久都不知道怎么做，后来有一次看到了贝塞尔曲线，才明白原来这个东西再工业界早已应用广泛。\n\nmetaball算法的实现也是基于贝塞尔曲线，在一些应用，比如qq消息的小红点消除都是用的这个算法。 效果如图：\n\n下面给出算法的实现代码：\n\n        var canvas = document.querySelector('#canvas');\n\n        canvas.width = 800;\n        canvas.height = 600;\n\n        var ctx = canvas.getContext('2d');\n        \n        var radius = 50;\n        var arc1 = {\n            x: 100,\n            y: 100\n        },\n        arc2 = {\n            x: 400,\n            y: 400\n        },\n        controlP = {\n            x: (arc1.x + arc2.x)/2,\n            y: (arc1.y + arc2.y)/2\n        }\n        var distance = Math.sqrt((arc1.x - controlP.x)*(arc1.x - controlP.x) + (arc2.y - controlP.y)*(arc2.y - controlP.y));\n        var angleA = Math.acos(radius/distance);\n\n        var angleB = Math.acos((controlP.x - arc1.x)/distance);\n        var off1 = {\n            x: (radius * Math.cos(angleA - angleB)),\n            y: (radius * Math.sin(angleA - angleB))\n        }\n        var point1 = {\n            x: arc1.x + off1.x,\n            y: arc1.y - off1.y\n        }\n\n        var angleC = Math.asin((controlP.x - arc1.x)/distance);\n        var off2 = {\n            x: (radius * Math.sin(angleA - angleC)),\n            y: (radius * Math.cos(angleA - angleC))\n        }\n        var point2 = {\n            x: arc1.x - off2.x,\n            y: arc1.y + off2.y\n        }\n\n        var angleD = Math.acos((arc2.y - controlP.y)/distance);\n        var off3 = {\n            x: (radius * Math.sin(angleA - angleD)),\n            y: (radius * Math.cos(angleA - angleD))\n        }\n        var point3 = {\n            x: arc2.x + off3.x,\n            y: arc2.y - off3.y\n        }\n\n\n        var angleE = Math.acos((arc2.x - controlP.x)/distance);\n        var off4 = {\n            x: radius * Math.cos(angleA - angleE),\n            y: radius * Math.sin(angleA - angleE)\n        }\n        var point4 = {\n            x: arc2.x - off4.x,\n            y: arc2.y + off4.y\n        }\n\n\n        ctx.beginPath();\n        ctx.arc(arc1.x, arc1.y, radius, 0, 2 * Math.PI);\n        ctx.stroke();\n        ctx.closePath();\n\n        ctx.beginPath();\n        ctx.arc(arc2.x, arc2.y, radius, 0, 2 * Math.PI);\n        ctx.stroke();\n        ctx.closePath();\n\n        ctx.beginPath();\n        \n        ctx.arc(controlP.x, controlP.y, 1, 0, 2 * Math.PI);\n        ctx.stroke();\n        ctx.closePath();\n\n        ctx.beginPath();\n        ctx.moveTo(point1.x, point1.y);\n        ctx.quadraticCurveTo(controlP.x, controlP.y, point3.x, point3.y);\n        ctx.stroke();\n        ctx.closePath();\n\n        ctx.beginPath();\n        ctx.moveTo(point2.x, point2.y);\n        ctx.quadraticCurveTo(controlP.x, controlP.y, point4.x, point4.y);\n        ctx.stroke();\n        ctx.closePath();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n",normalizedContent:"记得之前大二的时候，球球大作战这款游戏还比较火。虽然服务器在国外比较炸，但是球与球接触时的动画非常逼真，当时想了好久都不知道怎么做，后来有一次看到了贝塞尔曲线，才明白原来这个东西再工业界早已应用广泛。\n\nmetaball算法的实现也是基于贝塞尔曲线，在一些应用，比如qq消息的小红点消除都是用的这个算法。 效果如图：\n\n下面给出算法的实现代码：\n\n        var canvas = document.queryselector('#canvas');\n\n        canvas.width = 800;\n        canvas.height = 600;\n\n        var ctx = canvas.getcontext('2d');\n        \n        var radius = 50;\n        var arc1 = {\n            x: 100,\n            y: 100\n        },\n        arc2 = {\n            x: 400,\n            y: 400\n        },\n        controlp = {\n            x: (arc1.x + arc2.x)/2,\n            y: (arc1.y + arc2.y)/2\n        }\n        var distance = math.sqrt((arc1.x - controlp.x)*(arc1.x - controlp.x) + (arc2.y - controlp.y)*(arc2.y - controlp.y));\n        var anglea = math.acos(radius/distance);\n\n        var angleb = math.acos((controlp.x - arc1.x)/distance);\n        var off1 = {\n            x: (radius * math.cos(anglea - angleb)),\n            y: (radius * math.sin(anglea - angleb))\n        }\n        var point1 = {\n            x: arc1.x + off1.x,\n            y: arc1.y - off1.y\n        }\n\n        var anglec = math.asin((controlp.x - arc1.x)/distance);\n        var off2 = {\n            x: (radius * math.sin(anglea - anglec)),\n            y: (radius * math.cos(anglea - anglec))\n        }\n        var point2 = {\n            x: arc1.x - off2.x,\n            y: arc1.y + off2.y\n        }\n\n        var angled = math.acos((arc2.y - controlp.y)/distance);\n        var off3 = {\n            x: (radius * math.sin(anglea - angled)),\n            y: (radius * math.cos(anglea - angled))\n        }\n        var point3 = {\n            x: arc2.x + off3.x,\n            y: arc2.y - off3.y\n        }\n\n\n        var anglee = math.acos((arc2.x - controlp.x)/distance);\n        var off4 = {\n            x: radius * math.cos(anglea - anglee),\n            y: radius * math.sin(anglea - anglee)\n        }\n        var point4 = {\n            x: arc2.x - off4.x,\n            y: arc2.y + off4.y\n        }\n\n\n        ctx.beginpath();\n        ctx.arc(arc1.x, arc1.y, radius, 0, 2 * math.pi);\n        ctx.stroke();\n        ctx.closepath();\n\n        ctx.beginpath();\n        ctx.arc(arc2.x, arc2.y, radius, 0, 2 * math.pi);\n        ctx.stroke();\n        ctx.closepath();\n\n        ctx.beginpath();\n        \n        ctx.arc(controlp.x, controlp.y, 1, 0, 2 * math.pi);\n        ctx.stroke();\n        ctx.closepath();\n\n        ctx.beginpath();\n        ctx.moveto(point1.x, point1.y);\n        ctx.quadraticcurveto(controlp.x, controlp.y, point3.x, point3.y);\n        ctx.stroke();\n        ctx.closepath();\n\n        ctx.beginpath();\n        ctx.moveto(point2.x, point2.y);\n        ctx.quadraticcurveto(controlp.x, controlp.y, point4.x, point4.y);\n        ctx.stroke();\n        ctx.closepath();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n",charsets:{cjk:!0},lastUpdated:"2024/07/04, 00:28:21",lastUpdatedTimestamp:1720024101e3},{title:"从co源码来看Promise",frontmatter:{title:"从co源码来看Promise",date:"2018-03-12T12:04:41.000Z",permalink:"/blog/2018/co-promise",categories:["FrontEnd"],tags:["promise"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/blog/18.2018/00.co-promise.html",relativePath:"blog/18.2018/00.co-promise.md",key:"v-be2df43e",path:"/blog/2018/co-promise/",headers:[{level:3,title:"自动执行",slug:"自动执行",normalizedTitle:"自动执行",charIndex:1391},{level:2,title:"Promise",slug:"promise",normalizedTitle:"promise",charIndex:258}],headersStr:"自动执行 Promise",content:"co源码库地址：code\n\nco是著名程序员TJ的一个开源库，这个项目的初衷是解决异步回金字塔的问题。我们曾经在[后续传递(continuation)和回调(callback)的差别(https://github.com/luckyScript/blog/issues/7)中，提到过回调金字塔的优化方式，实现callcc函数，其实这种方式就是利用Thunk的方式来进行优化，Thunkify这个库工作原理也是如此。\n\n我们今天谈到的co，在早起的版本也是通过这种方式来进行处理回调的问题，但是当Generator和Promise出现的时候，co便利用这两个特性很好的解决了这些问题。著名框架koa1便是利用了co模块作为解决异步问题的基础来实现的。\n\n> 如果你对nodejs的异步工作原理不是很懂，建议你可以花几分钟先去了解一下，这可能更利于你理解本文的内容。\n\n要阅读源码，我们先来看看它怎么用。\n\nco(function* (){\n    var fileName = yield readFile('./fileName.txt', 'utf-8');\n    var fileContent = yield readFile(fileName, 'utf-8');\n    return fileContent\n}).then(console.log, console.error);\n\n\n1\n2\n3\n4\n5\n\n\n我们看这个代码，首先我们希望从fileName.txt中获取到fileName，然后再读名称为fileName这个的文件，最后返回文件内容。\n\n如果不用co模块，我们写出来的代码可能是这样的：\n\ncontent = function () {\n    return readFile('./fileName.txt', 'utf-8', function (err, data) {\n        return readFile(data, 'utf-8', function (err, data) {\n            return data;\n        })\n    })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n绕来绕去的明显不够直观。相比于co模块的用法，这种传统的代码简直会让人抓狂。\n\nco模块的源码只有短短的240行。让我们就直入正题吧。\n\nfunction co(gen) {\n  var ctx = this;\n  var args = slice.call(arguments, 1);\n  return new Promise(function(resolve, reject) {\n    if (typeof gen === 'function') gen = gen.call(ctx); // 如果gen是Generator，则执行\n    if (!gen || typeof gen.next !== 'function') return resolve(gen); // 如果不是函数，则直接resolve\n  ...\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nco函数接收一个Generator，返回一个Promise对象。所以我们在执行完co之后，可以链式调用then的原因也是如此。\n\n\n# 自动执行\n\n自动执行Generator是co的重要特点。我们看Promise对象的函数中，执行了onFulfilled()。\n\nfunction onFulfilled(res) {\n      var ret;\n      try {\n        ret = gen.next(res); // 这是构造器的next方法\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret); // 这个是名字为next的函数调用\n      return null;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n可以看到这个函数调用了gen的next方法之后，调用了next()函数，gen是传入的Generator function，一般执行完gen的next方法，协程会将执行权交出。而next()函数一定就是co自动执行Generator的核心。\n\n    function next(ret) {\n      if (ret.done) return resolve(ret.value); // 如果gen.next已经执行完了整个构造器，那么直接resolve这个值。\n      var value = toPromise.call(ctx, ret.value); \n      if (value && isPromise(value)) return value.then(onFulfilled, onRejected);\n      return onRejected(new TypeError('You may only yield a function, promise, generator, array, or object, '\n        + 'but the following object was passed: \"' + String(ret.value) + '\"'));\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n可以看到next函数接收gen.next()的结果，这个结果是一个包含value和done的键值对，不在赘述。函数的第二行开始，给ret.value转化为Promise对象，然后再调用value.then(onFulfilled,onRejected)。问题来了，next函数执行完了，可是哪里调用了gen.next()呢？仔细看看onFulfilled，恩，已经讲过这个函数了。 co通过这种递归的方式，只要gen.next()没有完成就会一直执行下去。 而我们发现，co内部的状态管理，也是通过toPromise来构造成为Promise对象，使得能够处理好异步之间的关系。\n\n我们来看看这个 toPromise方法：\n\nfunction toPromise(obj) {\n  if (!obj) return obj;\n  if (isPromise(obj)) return obj; // 如果是Promise对象直接返回\n  if (isGeneratorFunction(obj) || isGenerator(obj)) return co.call(this, obj); // 如果是generator函数，用co模块来返回Promise对象\n  if ('function' == typeof obj) return thunkToPromise.call(this, obj); // Thunk函数\n  if (Array.isArray(obj)) return arrayToPromise.call(this, obj); // arrayToPromise方法\n  if (isObject(obj)) return objectToPromise.call(this, obj); //objectToPromise\n  return obj;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nfunction objectToPromise(obj){\n  var results = new obj.constructor();\n  var keys = Object.keys(obj);\n  var promises = [];\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var promise = toPromise.call(this, obj[key]);\n    if (promise && isPromise(promise)) defer(promise, key);\n    else results[key] = obj[key];\n  }\n  return Promise.all(promises).then(function () {\n    return results;\n  });\n\n  function defer(promise, key) {\n    // predefine the key in the result\n    results[key] = undefined;\n    promises.push(promise.then(function (res) {\n      results[key] = res;\n    }));\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n我们来看看典型的objectToPromise,主要实现方法是对obj的每一个键值对执行toPromise方法，通过Promise.all异步并行，将一个promise数组里的每个promise保存到相应的key里面。 对于co模块的解读，由于本人水平有限，有些地方可能理解的不足，还望指教。\n\n\n# Promise\n\n对于Promise，我觉得前端程序员应该都已经很熟悉了。promise拥有pending,fulfilled,rejected这几种状态，当执行了resolve或者reject之后，promise的状态会由初始的pending转化为fulfilled或者rejected。当然并不是你想的那样，resolve之后就是fulfilled的状态，当promise resolve一个reject的promise的时候，这时候就是rejected的状态。\n\n同一个promise对象可以有多个then方法，这些then方法会在promise被resolve或者reject的时候，顺序调用。但是这个顺序调用的代码执行还是异步的。\n\nconst promise = Promise.resolve(1)\npromise.then(setTimeout(()=>console.log(1), 100))\npromise.then(console.log(2));\n\n\n1\n2\n3\n\n\n这段代码的输出为 2 1\n\nPromise的then方法也可以链式调用，因为then方法本身返回一个新的Promise对象，且之前的onFulfilled或onRejected执行后返回值会作为下一个then方法的onFulfilled对象传入。\n\npromise.then(setTimeout(v=>console.log('first', v), 100)).then(console.log(2))\n\n\n1\n\n\n这段代码输出为2 1 可见.then方法的链式调用也是异步的，那么我们如何才能让其执行了前一个再执行后一个呢？ 答案不是很明显么，用Promise或者可以返回then方法的实例\n\n// 返回值为promise的实例\nPromise.resolve(1)\n  .then(v=> new Promise((resolve, reject)=>{\n    setTimeout(()=> resolve(v+3), 3000);\n  }))\n  .then(v=>console.log(v)); //三秒后输出 4\n\n// 返回值为含有then方法的对象\nPromise.resolve(1)\n  .then(v=>({\n    then(resolve, reject){\n      setTimeout(()=> resolve(v+2), 2000);\n    }\n  }))\n  .then(v=> console.log(v)); //二秒后输出 3\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n",normalizedContent:"co源码库地址：code\n\nco是著名程序员tj的一个开源库，这个项目的初衷是解决异步回金字塔的问题。我们曾经在[后续传递(continuation)和回调(callback)的差别(https://github.com/luckyscript/blog/issues/7)中，提到过回调金字塔的优化方式，实现callcc函数，其实这种方式就是利用thunk的方式来进行优化，thunkify这个库工作原理也是如此。\n\n我们今天谈到的co，在早起的版本也是通过这种方式来进行处理回调的问题，但是当generator和promise出现的时候，co便利用这两个特性很好的解决了这些问题。著名框架koa1便是利用了co模块作为解决异步问题的基础来实现的。\n\n> 如果你对nodejs的异步工作原理不是很懂，建议你可以花几分钟先去了解一下，这可能更利于你理解本文的内容。\n\n要阅读源码，我们先来看看它怎么用。\n\nco(function* (){\n    var filename = yield readfile('./filename.txt', 'utf-8');\n    var filecontent = yield readfile(filename, 'utf-8');\n    return filecontent\n}).then(console.log, console.error);\n\n\n1\n2\n3\n4\n5\n\n\n我们看这个代码，首先我们希望从filename.txt中获取到filename，然后再读名称为filename这个的文件，最后返回文件内容。\n\n如果不用co模块，我们写出来的代码可能是这样的：\n\ncontent = function () {\n    return readfile('./filename.txt', 'utf-8', function (err, data) {\n        return readfile(data, 'utf-8', function (err, data) {\n            return data;\n        })\n    })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n绕来绕去的明显不够直观。相比于co模块的用法，这种传统的代码简直会让人抓狂。\n\nco模块的源码只有短短的240行。让我们就直入正题吧。\n\nfunction co(gen) {\n  var ctx = this;\n  var args = slice.call(arguments, 1);\n  return new promise(function(resolve, reject) {\n    if (typeof gen === 'function') gen = gen.call(ctx); // 如果gen是generator，则执行\n    if (!gen || typeof gen.next !== 'function') return resolve(gen); // 如果不是函数，则直接resolve\n  ...\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nco函数接收一个generator，返回一个promise对象。所以我们在执行完co之后，可以链式调用then的原因也是如此。\n\n\n# 自动执行\n\n自动执行generator是co的重要特点。我们看promise对象的函数中，执行了onfulfilled()。\n\nfunction onfulfilled(res) {\n      var ret;\n      try {\n        ret = gen.next(res); // 这是构造器的next方法\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret); // 这个是名字为next的函数调用\n      return null;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n可以看到这个函数调用了gen的next方法之后，调用了next()函数，gen是传入的generator function，一般执行完gen的next方法，协程会将执行权交出。而next()函数一定就是co自动执行generator的核心。\n\n    function next(ret) {\n      if (ret.done) return resolve(ret.value); // 如果gen.next已经执行完了整个构造器，那么直接resolve这个值。\n      var value = topromise.call(ctx, ret.value); \n      if (value && ispromise(value)) return value.then(onfulfilled, onrejected);\n      return onrejected(new typeerror('you may only yield a function, promise, generator, array, or object, '\n        + 'but the following object was passed: \"' + string(ret.value) + '\"'));\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n可以看到next函数接收gen.next()的结果，这个结果是一个包含value和done的键值对，不在赘述。函数的第二行开始，给ret.value转化为promise对象，然后再调用value.then(onfulfilled,onrejected)。问题来了，next函数执行完了，可是哪里调用了gen.next()呢？仔细看看onfulfilled，恩，已经讲过这个函数了。 co通过这种递归的方式，只要gen.next()没有完成就会一直执行下去。 而我们发现，co内部的状态管理，也是通过topromise来构造成为promise对象，使得能够处理好异步之间的关系。\n\n我们来看看这个 topromise方法：\n\nfunction topromise(obj) {\n  if (!obj) return obj;\n  if (ispromise(obj)) return obj; // 如果是promise对象直接返回\n  if (isgeneratorfunction(obj) || isgenerator(obj)) return co.call(this, obj); // 如果是generator函数，用co模块来返回promise对象\n  if ('function' == typeof obj) return thunktopromise.call(this, obj); // thunk函数\n  if (array.isarray(obj)) return arraytopromise.call(this, obj); // arraytopromise方法\n  if (isobject(obj)) return objecttopromise.call(this, obj); //objecttopromise\n  return obj;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nfunction objecttopromise(obj){\n  var results = new obj.constructor();\n  var keys = object.keys(obj);\n  var promises = [];\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var promise = topromise.call(this, obj[key]);\n    if (promise && ispromise(promise)) defer(promise, key);\n    else results[key] = obj[key];\n  }\n  return promise.all(promises).then(function () {\n    return results;\n  });\n\n  function defer(promise, key) {\n    // predefine the key in the result\n    results[key] = undefined;\n    promises.push(promise.then(function (res) {\n      results[key] = res;\n    }));\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n我们来看看典型的objecttopromise,主要实现方法是对obj的每一个键值对执行topromise方法，通过promise.all异步并行，将一个promise数组里的每个promise保存到相应的key里面。 对于co模块的解读，由于本人水平有限，有些地方可能理解的不足，还望指教。\n\n\n# promise\n\n对于promise，我觉得前端程序员应该都已经很熟悉了。promise拥有pending,fulfilled,rejected这几种状态，当执行了resolve或者reject之后，promise的状态会由初始的pending转化为fulfilled或者rejected。当然并不是你想的那样，resolve之后就是fulfilled的状态，当promise resolve一个reject的promise的时候，这时候就是rejected的状态。\n\n同一个promise对象可以有多个then方法，这些then方法会在promise被resolve或者reject的时候，顺序调用。但是这个顺序调用的代码执行还是异步的。\n\nconst promise = promise.resolve(1)\npromise.then(settimeout(()=>console.log(1), 100))\npromise.then(console.log(2));\n\n\n1\n2\n3\n\n\n这段代码的输出为 2 1\n\npromise的then方法也可以链式调用，因为then方法本身返回一个新的promise对象，且之前的onfulfilled或onrejected执行后返回值会作为下一个then方法的onfulfilled对象传入。\n\npromise.then(settimeout(v=>console.log('first', v), 100)).then(console.log(2))\n\n\n1\n\n\n这段代码输出为2 1 可见.then方法的链式调用也是异步的，那么我们如何才能让其执行了前一个再执行后一个呢？ 答案不是很明显么，用promise或者可以返回then方法的实例\n\n// 返回值为promise的实例\npromise.resolve(1)\n  .then(v=> new promise((resolve, reject)=>{\n    settimeout(()=> resolve(v+3), 3000);\n  }))\n  .then(v=>console.log(v)); //三秒后输出 4\n\n// 返回值为含有then方法的对象\npromise.resolve(1)\n  .then(v=>({\n    then(resolve, reject){\n      settimeout(()=> resolve(v+2), 2000);\n    }\n  }))\n  .then(v=> console.log(v)); //二秒后输出 3\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n",charsets:{cjk:!0},lastUpdated:"2024/07/04, 00:28:21",lastUpdatedTimestamp:1720024101e3},{title:"WASM初体验",frontmatter:{title:"WASM初体验",date:"2018-05-31T16:00:00.000Z",permalink:"/blog/2018/wasm",categories:["Node.js"],tags:["Node.js"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/18.2018/01.wasm.html",relativePath:"blog/18.2018/01.wasm.md",key:"v-2ead0b8f",path:"/blog/2018/wasm/",headersStr:null,content:"WebAssembly无疑是前端将来一个很重要的发展方向。\n\n在下好编译环境之后，我开始了自己的wasm探索之路。\n\nlong fib(int num) {\n    if(num == 1)\n        return 1;\n    if(num == 2)\n        return 2;\n    return fib(num-1) + fib(num-2);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n写了一个最简单的fib函数，写完后用emcc编译成wasm文件。\n\nemcc fib.c -O1 -s WASM=1 -s ONLY_MY_CODE=1 -s EXPORTED_FUNCTIONS=\"['_fib']\" -o fib.js\n\n\n1\n\n\n-O1是对代码的优化程度，这个我觉得是和LLVM的静态优化相关？还没有详细了解。 ONLY_MY_CODE 这个是告诉编译器，只输出我们自己的代码，一些库文件中的不输出。 EXPORTED_FUNCTIONS 这个告诉编译器我们想输出的函数。\n\n最后，编译好之后，生成一个.wasm和一个.js文件。 我们这里只用.wasm文件\n\n由于现在js还不能通过模块化的方式加载文件，html也无法通过script标签来引入wasm格式的内容。所以我们只能用ajax或者fetch来取得内容。\n\n// Fetch\nfetch('./fib.wasm').then(response => \n    response.arrayBuffer()\n).then(bytes =>   {\n    return WebAssembly.instantiate(bytes, importObj)\n}).then(result => {  \n    alert(result.instance.exports._fib(6)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nfetch是一个promise操作 所以我们也可以更优雅的写成async/await这种形式。\n\n当然在js中还是要做一些配置的。\n\n// Memory\nconst memory = new WebAssembly.Memory({initial: 256, maximum: 256});\n\nconst importObj = {\n    global: {},\n    env: {\n        abortStackOverflow: () => { throw new Error('overflow')},\n        memory: memory,\n        table: new WebAssembly.Table({initial: 0, maximum: 0, element: 'anyfunc'}),\n        tableBase: 0,\n        memoryBase: 0,\n        STACKTOP: 0,\n        STACK_MAX: memory.buffer.byteLength\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n",normalizedContent:"webassembly无疑是前端将来一个很重要的发展方向。\n\n在下好编译环境之后，我开始了自己的wasm探索之路。\n\nlong fib(int num) {\n    if(num == 1)\n        return 1;\n    if(num == 2)\n        return 2;\n    return fib(num-1) + fib(num-2);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n写了一个最简单的fib函数，写完后用emcc编译成wasm文件。\n\nemcc fib.c -o1 -s wasm=1 -s only_my_code=1 -s exported_functions=\"['_fib']\" -o fib.js\n\n\n1\n\n\n-o1是对代码的优化程度，这个我觉得是和llvm的静态优化相关？还没有详细了解。 only_my_code 这个是告诉编译器，只输出我们自己的代码，一些库文件中的不输出。 exported_functions 这个告诉编译器我们想输出的函数。\n\n最后，编译好之后，生成一个.wasm和一个.js文件。 我们这里只用.wasm文件\n\n由于现在js还不能通过模块化的方式加载文件，html也无法通过script标签来引入wasm格式的内容。所以我们只能用ajax或者fetch来取得内容。\n\n// fetch\nfetch('./fib.wasm').then(response => \n    response.arraybuffer()\n).then(bytes =>   {\n    return webassembly.instantiate(bytes, importobj)\n}).then(result => {  \n    alert(result.instance.exports._fib(6)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nfetch是一个promise操作 所以我们也可以更优雅的写成async/await这种形式。\n\n当然在js中还是要做一些配置的。\n\n// memory\nconst memory = new webassembly.memory({initial: 256, maximum: 256});\n\nconst importobj = {\n    global: {},\n    env: {\n        abortstackoverflow: () => { throw new error('overflow')},\n        memory: memory,\n        table: new webassembly.table({initial: 0, maximum: 0, element: 'anyfunc'}),\n        tablebase: 0,\n        memorybase: 0,\n        stacktop: 0,\n        stack_max: memory.buffer.bytelength\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n",charsets:{cjk:!0},lastUpdated:"2024/07/04, 00:28:21",lastUpdatedTimestamp:1720024101e3},{title:"C++中的虚函数表",frontmatter:{title:"C++中的虚函数表",date:"2018-08-24T00:00:00.000Z",permalink:"/blog/2018/virtual-method-table-in-cpp",categories:["C++"],tags:["C++"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/18.2018/02.virtual-method-table-in-cpp.html",relativePath:"blog/18.2018/02.virtual-method-table-in-cpp.md",key:"v-2db98d25",path:"/blog/2018/virtual-method-table-in-cpp/",headersStr:null,content:'最近闲逛v2ex的时候，发现了这么一个帖子：求助 C++大神看一个问题。\n\n点进去一看代码，一脸懵逼，这是啥。。。\n\nclass B {\npublic:\n    virtual void foo() {}\n};\nclass D: public B {\npublic:\n    D() : mA(0) {}\n    virtual void foo() {\n        cout<<"D::foo::mA "<<mA<<endl;\n    }\n    int mA;\n};\nint main() {\n    D d1;\n    D* pD = &d1;\n    cout<<pD<<endl;\n    typedef void (*PFun)();\n    PFun fun =  (PFun)((long *)*((long *)*(long*)(pD))); //???\n    fun();\n    cout<<"D::pD::mA: "<<pD->mA<<endl;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nPFun fun = (PFun)((long *)*((long *)*(long*)(pD)))看到这行代码的时候，我整个人都是拒绝的。但是当我重新扶扶黑框眼镜的时候，我发现事情并没有这么复杂。\n\n首先我们来逐步分析一下这段代码。\n\n 1. B是一个基类，并且拥有一个虚函数foo\n\n 2. D是一个派生类，继承于B。D的构造函数中初始化了成员变量mA。D也有一个虚函数，这个虚函数打印了mA并且由于名称也是foo所以会重写基类的虚函数。\n\n 3. 在主函数中，我们先实例化了D类的对象d1，取得d1的地址 pD,pFun是一个指针函数。\n\n 4. 再最长的那一行里，我们将一个void函数fun定义为pD指向的对象的首地址指向的某个东西的首地址。\n\n 5. 接着调用fun。然后打印mA。\n\n再来把目光聚焦在PFun fun = (PFun)((long *)*((long *)*(long*)(pD)))这里。 这里我们可以做一些简化，这段代码应该等同于PFun fun = (PFun)(*(*(long**)(pD))) 这样就清晰多了。 我们再不妨再msvc中看看pD的内存分配。\n\n这里我们看到pD被强制转成一个二级指针。那么问题来了，这个指针指向哪里呢？这就是我们标题谈到的虚函数表\n\n关于虚函数的基本概念,可以去 了解一下。其中最关键的一个概念是运行时多态。\n\n我们先来了解一下，类中的内存分布情况。\n\n 1. 空的类\n\nclass A {\n};\ncout << sizeof(A) << endl; // 1\n\n\n1\n2\n3\n\n\n一个空的类，它的大小是1而不是0. 并且以下类的大小也是1\n\nclass B: public A {\n};\nclass C : public A {\n\tchar x;\n};\n\n\n1\n2\n3\n4\n5\n\n 2. 有成员变量的类\n\nclass A {\n\tchar x;\n\tint y;\n};\n\n\n1\n2\n3\n4\n\n\n\n\n但是打印出sizeof(A)的时候，结果是8字节而不是想象的5字节。这里 就和内存的字节对齐有关系了，这里不赘述。\n\n 3. 有成员函数的类\n\nclass A {\n\tchar x;\n\tint y;\n\tvoid print() {}\n}\n\n\n1\n2\n3\n4\n5\n\n\n打印出sizeof(A),结果仍然为8。说明成员函数并没有存在类里面。\n\n 4. 有虚函数的类\n\nclass A {\n\tchar x;\n\tint y;\n\tvirtual void print() {}\n}\n\n\n1\n2\n3\n4\n5\n\n\n打印出size(A)结果为12。是不是很神奇。那么对比上面，多出的4个字节存了什么呢？\n\n答案就是今天的主题虚函数表。\n\n可以看到_vfptr是一个指向指针数组的指针。而这个指针数组存放的是类里面的虚函数指针。\n\n这也是为啥本文一开始提到的代码可以执行的原因。通过类型转换的手法强行取到虚函数表中的函数执行。这种写法是不可取的，但是我们作为程序员也要能从现象看到本质。\n\n关于虚函数表，本文暂且讲到这里。有关继承以及多继承中虚函数表的内存表现形式，读者可以自行调试，不再赘述。',normalizedContent:'最近闲逛v2ex的时候，发现了这么一个帖子：求助 c++大神看一个问题。\n\n点进去一看代码，一脸懵逼，这是啥。。。\n\nclass b {\npublic:\n    virtual void foo() {}\n};\nclass d: public b {\npublic:\n    d() : ma(0) {}\n    virtual void foo() {\n        cout<<"d::foo::ma "<<ma<<endl;\n    }\n    int ma;\n};\nint main() {\n    d d1;\n    d* pd = &d1;\n    cout<<pd<<endl;\n    typedef void (*pfun)();\n    pfun fun =  (pfun)((long *)*((long *)*(long*)(pd))); //???\n    fun();\n    cout<<"d::pd::ma: "<<pd->ma<<endl;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\npfun fun = (pfun)((long *)*((long *)*(long*)(pd)))看到这行代码的时候，我整个人都是拒绝的。但是当我重新扶扶黑框眼镜的时候，我发现事情并没有这么复杂。\n\n首先我们来逐步分析一下这段代码。\n\n 1. b是一个基类，并且拥有一个虚函数foo\n\n 2. d是一个派生类，继承于b。d的构造函数中初始化了成员变量ma。d也有一个虚函数，这个虚函数打印了ma并且由于名称也是foo所以会重写基类的虚函数。\n\n 3. 在主函数中，我们先实例化了d类的对象d1，取得d1的地址 pd,pfun是一个指针函数。\n\n 4. 再最长的那一行里，我们将一个void函数fun定义为pd指向的对象的首地址指向的某个东西的首地址。\n\n 5. 接着调用fun。然后打印ma。\n\n再来把目光聚焦在pfun fun = (pfun)((long *)*((long *)*(long*)(pd)))这里。 这里我们可以做一些简化，这段代码应该等同于pfun fun = (pfun)(*(*(long**)(pd))) 这样就清晰多了。 我们再不妨再msvc中看看pd的内存分配。\n\n这里我们看到pd被强制转成一个二级指针。那么问题来了，这个指针指向哪里呢？这就是我们标题谈到的虚函数表\n\n关于虚函数的基本概念,可以去 了解一下。其中最关键的一个概念是运行时多态。\n\n我们先来了解一下，类中的内存分布情况。\n\n 1. 空的类\n\nclass a {\n};\ncout << sizeof(a) << endl; // 1\n\n\n1\n2\n3\n\n\n一个空的类，它的大小是1而不是0. 并且以下类的大小也是1\n\nclass b: public a {\n};\nclass c : public a {\n\tchar x;\n};\n\n\n1\n2\n3\n4\n5\n\n 2. 有成员变量的类\n\nclass a {\n\tchar x;\n\tint y;\n};\n\n\n1\n2\n3\n4\n\n\n\n\n但是打印出sizeof(a)的时候，结果是8字节而不是想象的5字节。这里 就和内存的字节对齐有关系了，这里不赘述。\n\n 3. 有成员函数的类\n\nclass a {\n\tchar x;\n\tint y;\n\tvoid print() {}\n}\n\n\n1\n2\n3\n4\n5\n\n\n打印出sizeof(a),结果仍然为8。说明成员函数并没有存在类里面。\n\n 4. 有虚函数的类\n\nclass a {\n\tchar x;\n\tint y;\n\tvirtual void print() {}\n}\n\n\n1\n2\n3\n4\n5\n\n\n打印出size(a)结果为12。是不是很神奇。那么对比上面，多出的4个字节存了什么呢？\n\n答案就是今天的主题虚函数表。\n\n可以看到_vfptr是一个指向指针数组的指针。而这个指针数组存放的是类里面的虚函数指针。\n\n这也是为啥本文一开始提到的代码可以执行的原因。通过类型转换的手法强行取到虚函数表中的函数执行。这种写法是不可取的，但是我们作为程序员也要能从现象看到本质。\n\n关于虚函数表，本文暂且讲到这里。有关继承以及多继承中虚函数表的内存表现形式，读者可以自行调试，不再赘述。',charsets:{cjk:!0},lastUpdated:"2024/07/04, 00:28:21",lastUpdatedTimestamp:1720024101e3},{title:"Node.js中的全局变量",frontmatter:{title:"Node.js中的全局变量",date:"2018-10-30T16:00:00.000Z",permalink:"/blog/2018/global-var-in-nodejs",categories:["Node.js"],tags:["Node.js"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/18.2018/03.global-var-in-nodejs.html",relativePath:"blog/18.2018/03.global-var-in-nodejs.md",key:"v-fb616756",path:"/blog/2018/global-var-in-nodejs/",headersStr:null,content:"之前在看阮一峰博士的ES6标准入门的时候，注意到一句话：\n\n> 全局对象的属性赋值和全局变量的赋值是一回事。（对于Node.js来说，这一条只针对REPL环境适用，环境模块中，全局变量必须显示声明成global对象的属性）\n\n今天在segmentfault上看到一个问题： node中this的指向\n\n> 问题描述 node下this的指向问题，其他的我都知道，不过如果直接定义局部变量呢，这个局部变量怎么获取到呢，是存放在哪里的。 相关代码 // 请把代码文本粘贴到下方（请勿用图片代替代码）\n\nvar name = 1\nconsole.log(name)\nconsole.log(this.name)\nconsole.log(global.name)\n\n\n1\n2\n3\n4\n\n\n你期待的结果是什么？实际看到的错误信息又是什么？ 1，undefined，undefined\n\n突然就想到了Node.js中的全局变量的问题，于是准备做一下深入的调研。\n\n我们再来看阮博士的那句话，说REPL环境中和环境模块中的表现是不一样的。那么我们就去这两个场景中跑一下这段代码:\n\n// REPL中\n1\n1\n1\n\n\n1\n2\n3\n4\n\n\n// 文件中\n1\nundefined\nundefined\n\n\n1\n2\n3\n4\n\n\n果然是不一样的！突然感觉自己这些年的JS是白学了，居然会有这样的情况。 但是仔细想想，Node中的每个文件其实都是用一个自执行函数来包起来的，也就是说这段代码在文件中的表现其实是:\n\n(function() {\nvar name = 1\nconsole.log(name)\nconsole.log(this.name)\nconsole.log(global.name)\n})()\n\n\n1\n2\n3\n4\n5\n6\n\n\n这样也就瞬间明白了为啥我们直接var一个变量，不会挂到全局上了。不过仔细想想也是，如果随便在js的某个文件中var一个变量，就挂到全局作用域上面也是一件细思极恐的事情了。\n\n想明白了这点,我们再来研究一下为啥在REPL中可以直接打印呢。 我一开始猜想是REPL不会作为模块，所以也不会用自执行函数包起来，所以表现的和浏览器一样。但是猜想终归是猜想，",normalizedContent:"之前在看阮一峰博士的es6标准入门的时候，注意到一句话：\n\n> 全局对象的属性赋值和全局变量的赋值是一回事。（对于node.js来说，这一条只针对repl环境适用，环境模块中，全局变量必须显示声明成global对象的属性）\n\n今天在segmentfault上看到一个问题： node中this的指向\n\n> 问题描述 node下this的指向问题，其他的我都知道，不过如果直接定义局部变量呢，这个局部变量怎么获取到呢，是存放在哪里的。 相关代码 // 请把代码文本粘贴到下方（请勿用图片代替代码）\n\nvar name = 1\nconsole.log(name)\nconsole.log(this.name)\nconsole.log(global.name)\n\n\n1\n2\n3\n4\n\n\n你期待的结果是什么？实际看到的错误信息又是什么？ 1，undefined，undefined\n\n突然就想到了node.js中的全局变量的问题，于是准备做一下深入的调研。\n\n我们再来看阮博士的那句话，说repl环境中和环境模块中的表现是不一样的。那么我们就去这两个场景中跑一下这段代码:\n\n// repl中\n1\n1\n1\n\n\n1\n2\n3\n4\n\n\n// 文件中\n1\nundefined\nundefined\n\n\n1\n2\n3\n4\n\n\n果然是不一样的！突然感觉自己这些年的js是白学了，居然会有这样的情况。 但是仔细想想，node中的每个文件其实都是用一个自执行函数来包起来的，也就是说这段代码在文件中的表现其实是:\n\n(function() {\nvar name = 1\nconsole.log(name)\nconsole.log(this.name)\nconsole.log(global.name)\n})()\n\n\n1\n2\n3\n4\n5\n6\n\n\n这样也就瞬间明白了为啥我们直接var一个变量，不会挂到全局上了。不过仔细想想也是，如果随便在js的某个文件中var一个变量，就挂到全局作用域上面也是一件细思极恐的事情了。\n\n想明白了这点,我们再来研究一下为啥在repl中可以直接打印呢。 我一开始猜想是repl不会作为模块，所以也不会用自执行函数包起来，所以表现的和浏览器一样。但是猜想终归是猜想，",charsets:{cjk:!0},lastUpdated:"2024/07/04, 00:28:21",lastUpdatedTimestamp:1720024101e3},{title:"C++中的rvalue",frontmatter:{title:"C++中的rvalue",date:"2018-07-24T16:00:00.000Z",permalink:"/blog/2018/cpp-rvalue",categories:["cpp"],tags:["cpp"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/18.2018/04.cpp-rvalue.html",relativePath:"blog/18.2018/04.cpp-rvalue.md",key:"v-74fd280b",path:"/blog/2018/cpp-rvalue/",headers:[{level:2,title:"左值和右值",slug:"左值和右值",normalizedTitle:"左值和右值",charIndex:2},{level:2,title:"差别",slug:"差别",normalizedTitle:"差别",charIndex:150},{level:2,title:"右值引用",slug:"右值引用",normalizedTitle:"右值引用",charIndex:615},{level:3,title:"移动构造函数",slug:"移动构造函数",normalizedTitle:"移动构造函数",charIndex:843},{level:2,title:"xvalue",slug:"xvalue",normalizedTitle:"xvalue",charIndex:1191},{level:4,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:1593}],headersStr:"左值和右值 差别 右值引用 移动构造函数 xvalue 参考",content:'# 左值和右值\n\nint a = 3;\n// a is lvalue, 3 is rvalue\n\n\n1\n2\n\n\n学C的时候，对左值的概念是既能出现在表达式等号左边，又能出现在右边的变量；右值是只能出现在等号右边的量。 但是C++中，这两个的定义更加晦涩一点。《C++ primer》中这样定义这两个的差别\n\n> 当一个对象被用作右值得时候，用的是对象的值；当对象被用作左值得时候，用的是对象的身份。\n\n这个定义还是略显抽象，但是我们可以看出，我们往往关注表达式中的左值所代表的内存地址，对于右值，我们更关注这个值是多少。 同样，C++中，左值可以当做右值对象用，但是右值不能当成左值用。当一个左值被当成右值用的时候，实际上是使用的它的值。\n\nint a;\n3 = a;\n\n\n1\n2\n\n\n这样的定义明显是不合法的。\n\n----------------------------------------\n\n\n# 差别\n\n提炼出以下差别。\n\n 1. 左值指的是可以取地址的变量，左值与右值的根本区别在于能否获取内存地址，而能否赋值不是区分的依据。通常临时量均为右值。\n 2. 对于基础类型右值是不可以被修改的，对于自定义类型，右值可以通过它的成员函数来修改。\n 3. 左值具有持久的状态，右值要么是字面常量，要么是在表达式求值过程中的临时对象。\n\n----------------------------------------\n\n\n# 右值引用\n\n右值引用是C++11中新的特性，C++中用&&来获得右值引用，为了和右值引用区分，我们可以将常规引用称作左值引用。\n\nint i = 10;\nint &r = i;\nint && rr = i; // error\nint && rr1 = i*10;\nconst int &r3 = i*10; // 我们将一个const引用绑定到一个右值上\n\n\n1\n2\n3\n4\n5\n\n\n当一个右值被 const 引用指向时，它的生命周期就被延长了。\n\n\n# 移动构造函数\n\n移动构造函数是右值引用的一个典型代表了，同时它也是C++11里面的新特性。移动构造函数顾名思义就是将一个东西给转移走，所以它的构造函数参数是一个右值引用。\n\nConstructor(Constructor &&c) {\n...\n}\n\n\n1\n2\n3\n\n\n一个典型的利用移动构造函数的例子是stl中的move。\n\nstring st = "Hello world";\nvector<string> vc ;\nvc.push_back(move(st));\ncout<<vc[0]<<endl;\nif(!st.empty())\n\tcout<<st<<endl;\n\n\n1\n2\n3\n4\n5\n6\n\n\n运行以上例子，发现只打印了一次。说明st这个字符串在调用move后，已经是空的了。\n\n\n# xvalue\n\nexpiring value, x值，指通过“右值引用”产生的对象。\n\n对于函数调用，根绝返回值类型不同，可以是lvalue、xvalue、prvalue:\n\n * The result of calling a function whose return type is an lvalue reference is an lvalue.\n * The result of calling a function whose return type is an rvalue reference is an xvalue.\n * The result of calling a function whose return type is not a reference is a prvalue.\n\n----------------------------------------\n\n# 参考\n\n * c++中的左值与右值\n * C++左值与右值？',normalizedContent:'# 左值和右值\n\nint a = 3;\n// a is lvalue, 3 is rvalue\n\n\n1\n2\n\n\n学c的时候，对左值的概念是既能出现在表达式等号左边，又能出现在右边的变量；右值是只能出现在等号右边的量。 但是c++中，这两个的定义更加晦涩一点。《c++ primer》中这样定义这两个的差别\n\n> 当一个对象被用作右值得时候，用的是对象的值；当对象被用作左值得时候，用的是对象的身份。\n\n这个定义还是略显抽象，但是我们可以看出，我们往往关注表达式中的左值所代表的内存地址，对于右值，我们更关注这个值是多少。 同样，c++中，左值可以当做右值对象用，但是右值不能当成左值用。当一个左值被当成右值用的时候，实际上是使用的它的值。\n\nint a;\n3 = a;\n\n\n1\n2\n\n\n这样的定义明显是不合法的。\n\n----------------------------------------\n\n\n# 差别\n\n提炼出以下差别。\n\n 1. 左值指的是可以取地址的变量，左值与右值的根本区别在于能否获取内存地址，而能否赋值不是区分的依据。通常临时量均为右值。\n 2. 对于基础类型右值是不可以被修改的，对于自定义类型，右值可以通过它的成员函数来修改。\n 3. 左值具有持久的状态，右值要么是字面常量，要么是在表达式求值过程中的临时对象。\n\n----------------------------------------\n\n\n# 右值引用\n\n右值引用是c++11中新的特性，c++中用&&来获得右值引用，为了和右值引用区分，我们可以将常规引用称作左值引用。\n\nint i = 10;\nint &r = i;\nint && rr = i; // error\nint && rr1 = i*10;\nconst int &r3 = i*10; // 我们将一个const引用绑定到一个右值上\n\n\n1\n2\n3\n4\n5\n\n\n当一个右值被 const 引用指向时，它的生命周期就被延长了。\n\n\n# 移动构造函数\n\n移动构造函数是右值引用的一个典型代表了，同时它也是c++11里面的新特性。移动构造函数顾名思义就是将一个东西给转移走，所以它的构造函数参数是一个右值引用。\n\nconstructor(constructor &&c) {\n...\n}\n\n\n1\n2\n3\n\n\n一个典型的利用移动构造函数的例子是stl中的move。\n\nstring st = "hello world";\nvector<string> vc ;\nvc.push_back(move(st));\ncout<<vc[0]<<endl;\nif(!st.empty())\n\tcout<<st<<endl;\n\n\n1\n2\n3\n4\n5\n6\n\n\n运行以上例子，发现只打印了一次。说明st这个字符串在调用move后，已经是空的了。\n\n\n# xvalue\n\nexpiring value, x值，指通过“右值引用”产生的对象。\n\n对于函数调用，根绝返回值类型不同，可以是lvalue、xvalue、prvalue:\n\n * the result of calling a function whose return type is an lvalue reference is an lvalue.\n * the result of calling a function whose return type is an rvalue reference is an xvalue.\n * the result of calling a function whose return type is not a reference is a prvalue.\n\n----------------------------------------\n\n# 参考\n\n * c++中的左值与右值\n * c++左值与右值？',charsets:{cjk:!0},lastUpdated:"2024/07/04, 00:28:21",lastUpdatedTimestamp:1720024101e3},{title:"C++中的extern关键字",frontmatter:{title:"C++中的extern关键字",date:"2018-07-24T16:00:00.000Z",permalink:"/blog/2018/cpp-extern",categories:["cpp"],tags:["cpp"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/18.2018/05.cpp-keyword-extern.html",relativePath:"blog/18.2018/05.cpp-keyword-extern.md",key:"v-0e3c6cc3",path:"/blog/2018/cpp-extern/",headers:[{level:3,title:"存储类指定符",slug:"存储类指定符",normalizedTitle:"存储类指定符",charIndex:26},{level:3,title:"C++调用C语言的函数",slug:"c-调用c语言的函数",normalizedTitle:"c++调用c语言的函数",charIndex:570},{level:3,title:"模板的实例化控制",slug:"模板的实例化控制",normalizedTitle:"模板的实例化控制",charIndex:1515}],headersStr:"存储类指定符 C++调用C语言的函数 模板的实例化控制",content:'extern关键字在C++中通常有三个作用\n\n\n# 存储类指定符\n\nextern作为存储类指定符的时候，被声明的对象具有静态存储期。 所谓静态存储期就是和static以及全域变量一样，在程序的运行周期都存在。\n\n// extern.h\nextern int e;\n\n\n1\n2\n\n\n// extern.cc\nint e = 0;\n\n\n1\n2\n\n\n//main.cc\n#include "extern.h"\nvoid fun()\n{\n\te++;\n\tcout << e << endl;\n}\nint main()\n{\n\tfun();\n\tfun();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n运行这段代码：\n\n$ g++ extern.cc main.cc\n$ ./a.out\n1\n2\n\n\n1\n2\n3\n4\n\n\n可以看到控制台输出1和2。\n\n当然，用extern声明和不用extern有什么差别呢？\n\nextern int i;\nint j;\n\n\n1\n2\n\n\n以上这段代码，声明了i但是未定义，声明了j并且定义了j。\n\n所以 extern常用作文件之间的变量共享。尤其是一些const对象，尤其是一些const对象，它的初始值不是一个常量表达式，但是有需要在文件内共享。这个时候我们就需要用到extern表达式了。\n\n\n# C++调用C语言的函数\n\nC++作为C语言的超集，应该是可以直接和C语言进行调用的。但是又由于C++和C语言存在诸多不同点，所以在生成对象文件的时候，其符号表(symbol tables)存在一些不同，导致链接失败。\n\n举个例子： 假如有一个函数 int add(int, int);\n\n在C语言的符号表中我们可以直接叫做add，但是如果在C++的符号表中，我们也叫做add就会有问题，因为C++是允许函数重载的。所以在C++中符号表很可能就是addii。就是因为这种原因，导致我们在C++中调用C语言的函数的时候，会找不到对应的函数。而extern关键字在这里又有一个比较特殊的作用。\n\n我们先不用extern开始实现一个C++调用C的例子：\n\n// add.c\nint add(int x, int y) {\n\treturn x + y;\n}\n\n\n1\n2\n3\n4\n\n\n//add.h\nint add(int x, int y);\n\n\n1\n2\n\n\n// addp.cc\n#include "add.h"\nint main () {\n\tint x = 1;\n\tint y = 2;\n\tcout << add(x, y) << endl;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n先编译C语言,再和C++文件一起编译\n\n$ gcc -c add.c\n$ g++ addp.cc add.o\n\n\n1\n2\n\n\n发现编译报错：\n\n/tmp/ccX07K44.o: In function `main\':\naddp.cc:(.text+0x21): undefined reference to `add(int, int)\'\ncollect2: error: ld returned 1 exit status\n\n\n1\n2\n3\n\n\n然后我们看一下符号表\n\n$ objdump add.o -t\n\n\n1\n\n\n同理 再看一下C++生成的符号表\n\n果然不一样。\n\n于是我们加上extern关键字\n\n//add.h\nextern "C" {\n\tint add(int x, int y);\n}\n\n\n1\n2\n3\n4\n\n\n接着编译运行，一路顺风。\n\n这时候我们看一下C++的符号表：\n\n果然一样了呢。\n\n\n# 模板的实例化控制\n\n在比较大的项目中，对于一些模板的运用比较频繁。如果在多个独立编译的文件中用了相同的模板并且提供了相同的类型参数的时候，每个文件都会生成一个模板的实例，这是我们不愿意看到的。 所以\n\nextern template declaration; //实例化声明\ntemplate declaration;        //实例化定义\n\n\n1\n2\n\n\nextern在这种情况下就显得比较有意义。\n\n以上，欢迎吐槽。',normalizedContent:'extern关键字在c++中通常有三个作用\n\n\n# 存储类指定符\n\nextern作为存储类指定符的时候，被声明的对象具有静态存储期。 所谓静态存储期就是和static以及全域变量一样，在程序的运行周期都存在。\n\n// extern.h\nextern int e;\n\n\n1\n2\n\n\n// extern.cc\nint e = 0;\n\n\n1\n2\n\n\n//main.cc\n#include "extern.h"\nvoid fun()\n{\n\te++;\n\tcout << e << endl;\n}\nint main()\n{\n\tfun();\n\tfun();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n运行这段代码：\n\n$ g++ extern.cc main.cc\n$ ./a.out\n1\n2\n\n\n1\n2\n3\n4\n\n\n可以看到控制台输出1和2。\n\n当然，用extern声明和不用extern有什么差别呢？\n\nextern int i;\nint j;\n\n\n1\n2\n\n\n以上这段代码，声明了i但是未定义，声明了j并且定义了j。\n\n所以 extern常用作文件之间的变量共享。尤其是一些const对象，尤其是一些const对象，它的初始值不是一个常量表达式，但是有需要在文件内共享。这个时候我们就需要用到extern表达式了。\n\n\n# c++调用c语言的函数\n\nc++作为c语言的超集，应该是可以直接和c语言进行调用的。但是又由于c++和c语言存在诸多不同点，所以在生成对象文件的时候，其符号表(symbol tables)存在一些不同，导致链接失败。\n\n举个例子： 假如有一个函数 int add(int, int);\n\n在c语言的符号表中我们可以直接叫做add，但是如果在c++的符号表中，我们也叫做add就会有问题，因为c++是允许函数重载的。所以在c++中符号表很可能就是addii。就是因为这种原因，导致我们在c++中调用c语言的函数的时候，会找不到对应的函数。而extern关键字在这里又有一个比较特殊的作用。\n\n我们先不用extern开始实现一个c++调用c的例子：\n\n// add.c\nint add(int x, int y) {\n\treturn x + y;\n}\n\n\n1\n2\n3\n4\n\n\n//add.h\nint add(int x, int y);\n\n\n1\n2\n\n\n// addp.cc\n#include "add.h"\nint main () {\n\tint x = 1;\n\tint y = 2;\n\tcout << add(x, y) << endl;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n先编译c语言,再和c++文件一起编译\n\n$ gcc -c add.c\n$ g++ addp.cc add.o\n\n\n1\n2\n\n\n发现编译报错：\n\n/tmp/ccx07k44.o: in function `main\':\naddp.cc:(.text+0x21): undefined reference to `add(int, int)\'\ncollect2: error: ld returned 1 exit status\n\n\n1\n2\n3\n\n\n然后我们看一下符号表\n\n$ objdump add.o -t\n\n\n1\n\n\n同理 再看一下c++生成的符号表\n\n果然不一样。\n\n于是我们加上extern关键字\n\n//add.h\nextern "c" {\n\tint add(int x, int y);\n}\n\n\n1\n2\n3\n4\n\n\n接着编译运行，一路顺风。\n\n这时候我们看一下c++的符号表：\n\n果然一样了呢。\n\n\n# 模板的实例化控制\n\n在比较大的项目中，对于一些模板的运用比较频繁。如果在多个独立编译的文件中用了相同的模板并且提供了相同的类型参数的时候，每个文件都会生成一个模板的实例，这是我们不愿意看到的。 所以\n\nextern template declaration; //实例化声明\ntemplate declaration;        //实例化定义\n\n\n1\n2\n\n\nextern在这种情况下就显得比较有意义。\n\n以上，欢迎吐槽。',charsets:{cjk:!0},lastUpdated:"2024/07/04, 00:28:21",lastUpdatedTimestamp:1720024101e3},{title:"X-filter",frontmatter:{title:"X-filter",date:"2019-04-15T16:00:00.000Z",permalink:"/blog/2019/x-filter",categories:["FE"],tags:["FE"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/19.2019/00.x-filter.html",relativePath:"blog/19.2019/00.x-filter.md",key:"v-1ba2a60a",path:"/blog/2019/x-filter/",headers:[{level:2,title:"思路来源",slug:"思路来源",normalizedTitle:"思路来源",charIndex:2},{level:2,title:"使用例子",slug:"使用例子",normalizedTitle:"使用例子",charIndex:187},{level:2,title:"代码实现",slug:"代码实现",normalizedTitle:"代码实现",charIndex:758}],headersStr:"思路来源 使用例子 代码实现",content:'# 思路来源\n\n之前在次碳酸钴的博客闲逛的时候，发现前辈开发了独特的XEditor，觉得不错，但是貌似没有开源，于是不能拿来主义了，就自己开发了一下。\n\n言归正传，评论区有彩蛋，可以使用<x标签>来代替传统的<img>、<code>、<span>、<a>这四种常用标签。这个标签不是浏览器的标准的标签，服务器内部把他解析成以上几种标签。最后存入数据库的是标准标签。\n\n\n# 使用例子\n\n下面是几个使用的例子：\n\n<x href="https://www.luckyscript.me">test</x>\n\n\n1\n\n\n这个标签会被解析成\n\n<a href="https://www.luckyscript.me" target="_blank" rel="nofollow">test</a>\n\n\n1\n\n\n效果： test\n\n由于安全性问题，这种场景下，标签只会对http(s)开头的有效链接做解析成<a>。如果不是这种情况，会毫不留情的解析成<span>\n\n<x src="https://www.luckyscript.me/public/upload/article_nblog.png">\n\n\n1\n\n\n这个标签会被解析成img。\n\n<img src="https://www.luckyscript.me/public/upload/article_nblog.png" />\n\n\n1\n\n\n效果：\n\n<x code="javascript">var</x>\n\n\n1\n\n\n这种场景会被解析成：\n\n<code class="language-javascript">var</code>\n\n\n1\n\n\n效果： var\n\n其余场景，如果是合法标签，则会转为<span>，否则则会进行实体化，防止xss的发生。\n\n\n# 代码实现\n\nparse部分，思路参考了leizongmin的xss包。实现起来也没多大难度，就不一一分析了。\n\nhttps://github.com/luckyscript/x-filter',normalizedContent:'# 思路来源\n\n之前在次碳酸钴的博客闲逛的时候，发现前辈开发了独特的xeditor，觉得不错，但是貌似没有开源，于是不能拿来主义了，就自己开发了一下。\n\n言归正传，评论区有彩蛋，可以使用<x标签>来代替传统的<img>、<code>、<span>、<a>这四种常用标签。这个标签不是浏览器的标准的标签，服务器内部把他解析成以上几种标签。最后存入数据库的是标准标签。\n\n\n# 使用例子\n\n下面是几个使用的例子：\n\n<x href="https://www.luckyscript.me">test</x>\n\n\n1\n\n\n这个标签会被解析成\n\n<a href="https://www.luckyscript.me" target="_blank" rel="nofollow">test</a>\n\n\n1\n\n\n效果： test\n\n由于安全性问题，这种场景下，标签只会对http(s)开头的有效链接做解析成<a>。如果不是这种情况，会毫不留情的解析成<span>\n\n<x src="https://www.luckyscript.me/public/upload/article_nblog.png">\n\n\n1\n\n\n这个标签会被解析成img。\n\n<img src="https://www.luckyscript.me/public/upload/article_nblog.png" />\n\n\n1\n\n\n效果：\n\n<x code="javascript">var</x>\n\n\n1\n\n\n这种场景会被解析成：\n\n<code class="language-javascript">var</code>\n\n\n1\n\n\n效果： var\n\n其余场景，如果是合法标签，则会转为<span>，否则则会进行实体化，防止xss的发生。\n\n\n# 代码实现\n\nparse部分，思路参考了leizongmin的xss包。实现起来也没多大难度，就不一一分析了。\n\nhttps://github.com/luckyscript/x-filter',charsets:{cjk:!0},lastUpdated:"2024/01/17, 20:00:31",lastUpdatedTimestamp:1705492831e3},{title:"openSUSE环境配置",frontmatter:{title:"openSUSE环境配置",date:"2019-04-25T16:00:00.000Z",permalink:"/blog/2020/opensuse-env-config",categories:["Linux"],tags:["Linux","Env"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/19.2019/01.opensuse-env-config.html",relativePath:"blog/19.2019/01.opensuse-env-config.md",key:"v-21a92ca5",path:"/blog/2020/opensuse-env-config/",headers:[{level:2,title:"换源",slug:"换源",normalizedTitle:"换源",charIndex:222},{level:2,title:"科学上网",slug:"科学上网",normalizedTitle:"科学上网",charIndex:336},{level:3,title:"ss",slug:"ss",normalizedTitle:"ss",charIndex:100},{level:3,title:"SwitchyOmega",slug:"switchyomega",normalizedTitle:"switchyomega",charIndex:1067},{level:3,title:"Chrome + SwitchOmega",slug:"chrome-switchomega",normalizedTitle:"chrome + switchomega",charIndex:1278},{level:3,title:"开机启动",slug:"开机启动",normalizedTitle:"开机启动",charIndex:1890},{level:2,title:"TLPI编译环境",slug:"tlpi编译环境",normalizedTitle:"tlpi编译环境",charIndex:3325}],headersStr:"换源 科学上网 ss SwitchyOmega Chrome + SwitchOmega 开机启动 TLPI编译环境",content:'最近在看《TLPI》，书里面的习题和例程在mac下不是很好编译，darwin和linux的环境还是有所差异的，所以当选择Linux发行版的时候，我还是首选了大蜥蜴。\n\n先简要介绍下我的pc，120G的ssd+1T的机械硬盘，我原本将Windows装在ssd上，openSUSE就放在了机械硬盘上，但是用起来体验实在是很差。于是将ssd分出了30G，来装openSUSE，感觉应该也完全足够了。下好了镜像，刻在U盘上，就可以直接安装了。\n\n\n# 换源\n\n系统装好后，第一件事情是换源，考虑稳定性和速度，最后选择了中科大的源。openSUSE换源的话也只需要在YAST里面设置就好。还是比较容易操作的。换好源，一般会检查一下系统必须的一些软件，比如vim、git等。\n\n\n# 科学上网\n\n迫于国内环境，所以科学上网还是需要的。作为一个程序员，我们科学上网的目的并不是去做一些违法的事情，而是在符合国家法律的前提下，去境外正规网站学习提升自己。\n\n\n# ss\n\n首先安装的软件是shadowsocks，这里依赖的软件为python3以及pip3。\n\nsudo pip3 install shadowsocks\n\n\n1\n\n\n不出意外应该可以成功。\n\nshadowsocks分为server端和client端。我们这里肯定就是client端了。具体的配置方法请到github上参考。\n\nsudo sslocal -c /etc/shadowsocks.json -d start\n\n\n1\n\n\n如果这时候启动成功了，恭喜你。如果失败了，请继续看。\n\n sudo vim /usr/local/lib/python3.6/dist-packages/shadowsocks/crypto/openssl.py\n\n\n1\n\n\n# vim中\n# 修改地方1， 52行\nlibcrypto.EVP_CIPHER_CTX_cleanup.argtypes = (c_void_p,) \n\nlibcrypto.EVP_CIPHER_CTX_reset.argtypes = (c_void_p,)\n\n# 修改地方2， 112\nlibcrypto.EVP_CIPHER_CTX_cleanup(self._ctx) \n\nlibcrypto.EVP_CIPHER_CTX_reset(self._ctx)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n具体原因应该是openssl的版本所对应的API名称变了。\n\n这时候再次启动，不出意外应该会成功。\n\n\n# SwitchyOmega\n\n这时候，你用浏览器打开某网站，发现还是打不开。不要心急，因为你还没有配置好。\n\nsslocal只会在本地跑一个SOCKS5的服务，而你需要的是HTTP代理，所以走不通也很正常。\n\n这里推荐大家一个chrome或者Firefox下的插件Proxy SwitchyOmega\n\nFirefox是系统自带的浏览器，并且它并没有被墙，所以一切顺风顺水，去插件中心搜索插件，并安装配置就OK了。\n\n\n# Chrome + SwitchOmega\n\n但是我日常还是习惯Chrome浏览器。所以折腾到这里并没有结束。因为Firefox这时候已经拥有科学上网的能力了，所以直接去Google那里下载chrome的安装包就ok。如果你并没有搞Firefox，其实google.cn那里也可以下载Chrome。记得，要下.rpm的包。\n\n下好后安装就ok\n\nsudo rpm -ivh chrome.rpm\n\n\n1\n\n\n假如报错，应该是缺少依赖导致的，直接用zypper安装对应的依赖。\n\nChrome这时候可以正常打开了，但是它并没有能力科学，所以也就进入不了Chrome的应用商店，所以也就不能科学......\n\n这仿佛是个悖论。而且最为可恶的是，google禁止.crx的安装包直接拖入安装。这点和几个月之前又有很大不同，几个月前的限制是必须是Google应用商店上架的拓展才能用.crx来安装，现在完全限死了。\n\n唯一的办法，就是将.crx的安装包解压开，直接以dev的形式来安装。方法也很简单，将文件名修改，然后在命令行里面unzip就ok。（我发现openSUSE自带的Ark不能解压）。但是这种安装方式有个很大的问题，假如我把本地这些文件删了，我的插件也就没了。\n\n最后，我去Chrome拓展商店找到了某不知名免费科学插件。安装好后，删除本地插件，再借用这个插件下好了Proxy SwitchOmega。真的心累。\n\n\n# 开机启动\n\n但是，当你重启后，你发现,怎么又连不上了。那肯定的，因为sslocal并没有在跑。于是，你又敲了一遍命令：\n\nsudo sslocal -c /etc/shadowsocks.json -d start\n\n\n1\n\n\n嗯。好了。\n\n但是总不能每次开机都这样吧？？？你写了个“脚本”，其实就是把这一串命令写到了文件里。\n\nvim ssstart\n......\nsudo ./ssstart\n\n\n1\n2\n3\n\n\n但你还是不能忍受，这太low了。所以，请继续看。\n\n你修改了脚本。写下了这些bash\n\n#!/bin/sh\n### BEGIN INIT INFO\n# Provides:          shadowsocks\n# Required-Start:    $remote_fs $syslog\n# Required-Stop:     $remote_fs $syslog\n# Default-Start:     2 3 4 5\n# Default-Stop:      0 1 6\n# Short-Description: start or stop shadowsocks \n# Description:       start or stop shadowsocks\n### END INIT INFO\n\nstart(){\n    sslocal -c /etc/shadowsocks.json -d start\n}\n\nstop(){\n    sslocal -c /etc/shadowsocks.json -d stop\n}\n\ncase "$1" in\nstart)\n    start\n    ;;\nstop)\n    stop\n    ;;\nreload)\n     stop\n     start\n     ;;\n*)\n    echo "Usage: $0 {start|reload|stop}"\n    exit 1\n    ;;\nesac\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n保存后运行。\n\nsudo ./shadowsocks start\n\n\n1\n\n\n跑起来了。但是这个有啥差别呢，只是多了stop和reload而已。\n\n你将它放到了/etc/init.d/中。\n\n这样你就可以用service来开启服务了。\n\nsudo service shadowsocks start\n\n\n1\n\n\n如果报错了？\n\nsudo journalctl  -xe\n\n\n1\n\n\n看下错误日志来排查下原因。修改后，没问题了。\n\n然后你输入了:\n\nchkconfig\n\n\n1\n\n\n发现下面列出了\n\nshadowsocks off\n\n\n1\n\n\n这证明，你的服务已经建立了，但是并没有开机启动。\n\n于是你将它设为开机启动。\n\nsudo chkconfig -s shadowsocks on\n\n\n1\n\n\n这时候在输入chkconfig,你会发现，它已经开启了。\n\n如果你修改了配置文件，想要reload。也只需要\n\nsudo service shadowsocks reload\n\n\n1\n\n\n同理，想停止：\n\nsudo service shadowsocks stop\n\n\n1\n\n\n\n# TLPI编译环境\n\nTLPI这本书算是Linux系统编程中的入门书籍。像类似这种经典书籍，通常都有自己的头文件，还有一些辅助函数。所以我们将这些头文件放入系统的include中，并且将辅助函数编译成静态链接库。\n\n源码目录：http://man7.org/tlpi/code/index.html\n\n下载好源码后，我们将其解压，进入目录。输入make进行编译。\n\n这时应该会出现一些错误。\n\nsudo zypper in  libacl-devel libcap-devel\n\n\n1\n\n\n通常都是缺少这两个依赖。其他错误可以查看官网的FAQ\n\n编译没错后，进入lib目录。\n\n拷贝头文件：\n\nsudo cp tlpi_hdr.h /usr/local/include/\nsudo cp get_num.h /usr/local/include/\nsudo cp error_functions.h /usr/local/include/\nsudo cp ename.c.inc /usr/local/include/\n\n\n1\n2\n3\n4\n\n\n制作dll：\n\ngcc -c get_num.c error_functions.c\nar -crv libtlpi.a get_num.o error_functions.o\nsudo cp libtlpi.a /usr/local/lib\n\n\n1\n2\n3\n\n\n这时候，来到你的目录环境：\n\ngcc copy.c -ltlpi\n\n\n1\n\n\n环境ok。',normalizedContent:'最近在看《tlpi》，书里面的习题和例程在mac下不是很好编译，darwin和linux的环境还是有所差异的，所以当选择linux发行版的时候，我还是首选了大蜥蜴。\n\n先简要介绍下我的pc，120g的ssd+1t的机械硬盘，我原本将windows装在ssd上，opensuse就放在了机械硬盘上，但是用起来体验实在是很差。于是将ssd分出了30g，来装opensuse，感觉应该也完全足够了。下好了镜像，刻在u盘上，就可以直接安装了。\n\n\n# 换源\n\n系统装好后，第一件事情是换源，考虑稳定性和速度，最后选择了中科大的源。opensuse换源的话也只需要在yast里面设置就好。还是比较容易操作的。换好源，一般会检查一下系统必须的一些软件，比如vim、git等。\n\n\n# 科学上网\n\n迫于国内环境，所以科学上网还是需要的。作为一个程序员，我们科学上网的目的并不是去做一些违法的事情，而是在符合国家法律的前提下，去境外正规网站学习提升自己。\n\n\n# ss\n\n首先安装的软件是shadowsocks，这里依赖的软件为python3以及pip3。\n\nsudo pip3 install shadowsocks\n\n\n1\n\n\n不出意外应该可以成功。\n\nshadowsocks分为server端和client端。我们这里肯定就是client端了。具体的配置方法请到github上参考。\n\nsudo sslocal -c /etc/shadowsocks.json -d start\n\n\n1\n\n\n如果这时候启动成功了，恭喜你。如果失败了，请继续看。\n\n sudo vim /usr/local/lib/python3.6/dist-packages/shadowsocks/crypto/openssl.py\n\n\n1\n\n\n# vim中\n# 修改地方1， 52行\nlibcrypto.evp_cipher_ctx_cleanup.argtypes = (c_void_p,) \n\nlibcrypto.evp_cipher_ctx_reset.argtypes = (c_void_p,)\n\n# 修改地方2， 112\nlibcrypto.evp_cipher_ctx_cleanup(self._ctx) \n\nlibcrypto.evp_cipher_ctx_reset(self._ctx)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n具体原因应该是openssl的版本所对应的api名称变了。\n\n这时候再次启动，不出意外应该会成功。\n\n\n# switchyomega\n\n这时候，你用浏览器打开某网站，发现还是打不开。不要心急，因为你还没有配置好。\n\nsslocal只会在本地跑一个socks5的服务，而你需要的是http代理，所以走不通也很正常。\n\n这里推荐大家一个chrome或者firefox下的插件proxy switchyomega\n\nfirefox是系统自带的浏览器，并且它并没有被墙，所以一切顺风顺水，去插件中心搜索插件，并安装配置就ok了。\n\n\n# chrome + switchomega\n\n但是我日常还是习惯chrome浏览器。所以折腾到这里并没有结束。因为firefox这时候已经拥有科学上网的能力了，所以直接去google那里下载chrome的安装包就ok。如果你并没有搞firefox，其实google.cn那里也可以下载chrome。记得，要下.rpm的包。\n\n下好后安装就ok\n\nsudo rpm -ivh chrome.rpm\n\n\n1\n\n\n假如报错，应该是缺少依赖导致的，直接用zypper安装对应的依赖。\n\nchrome这时候可以正常打开了，但是它并没有能力科学，所以也就进入不了chrome的应用商店，所以也就不能科学......\n\n这仿佛是个悖论。而且最为可恶的是，google禁止.crx的安装包直接拖入安装。这点和几个月之前又有很大不同，几个月前的限制是必须是google应用商店上架的拓展才能用.crx来安装，现在完全限死了。\n\n唯一的办法，就是将.crx的安装包解压开，直接以dev的形式来安装。方法也很简单，将文件名修改，然后在命令行里面unzip就ok。（我发现opensuse自带的ark不能解压）。但是这种安装方式有个很大的问题，假如我把本地这些文件删了，我的插件也就没了。\n\n最后，我去chrome拓展商店找到了某不知名免费科学插件。安装好后，删除本地插件，再借用这个插件下好了proxy switchomega。真的心累。\n\n\n# 开机启动\n\n但是，当你重启后，你发现,怎么又连不上了。那肯定的，因为sslocal并没有在跑。于是，你又敲了一遍命令：\n\nsudo sslocal -c /etc/shadowsocks.json -d start\n\n\n1\n\n\n嗯。好了。\n\n但是总不能每次开机都这样吧？？？你写了个“脚本”，其实就是把这一串命令写到了文件里。\n\nvim ssstart\n......\nsudo ./ssstart\n\n\n1\n2\n3\n\n\n但你还是不能忍受，这太low了。所以，请继续看。\n\n你修改了脚本。写下了这些bash\n\n#!/bin/sh\n### begin init info\n# provides:          shadowsocks\n# required-start:    $remote_fs $syslog\n# required-stop:     $remote_fs $syslog\n# default-start:     2 3 4 5\n# default-stop:      0 1 6\n# short-description: start or stop shadowsocks \n# description:       start or stop shadowsocks\n### end init info\n\nstart(){\n    sslocal -c /etc/shadowsocks.json -d start\n}\n\nstop(){\n    sslocal -c /etc/shadowsocks.json -d stop\n}\n\ncase "$1" in\nstart)\n    start\n    ;;\nstop)\n    stop\n    ;;\nreload)\n     stop\n     start\n     ;;\n*)\n    echo "usage: $0 {start|reload|stop}"\n    exit 1\n    ;;\nesac\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n保存后运行。\n\nsudo ./shadowsocks start\n\n\n1\n\n\n跑起来了。但是这个有啥差别呢，只是多了stop和reload而已。\n\n你将它放到了/etc/init.d/中。\n\n这样你就可以用service来开启服务了。\n\nsudo service shadowsocks start\n\n\n1\n\n\n如果报错了？\n\nsudo journalctl  -xe\n\n\n1\n\n\n看下错误日志来排查下原因。修改后，没问题了。\n\n然后你输入了:\n\nchkconfig\n\n\n1\n\n\n发现下面列出了\n\nshadowsocks off\n\n\n1\n\n\n这证明，你的服务已经建立了，但是并没有开机启动。\n\n于是你将它设为开机启动。\n\nsudo chkconfig -s shadowsocks on\n\n\n1\n\n\n这时候在输入chkconfig,你会发现，它已经开启了。\n\n如果你修改了配置文件，想要reload。也只需要\n\nsudo service shadowsocks reload\n\n\n1\n\n\n同理，想停止：\n\nsudo service shadowsocks stop\n\n\n1\n\n\n\n# tlpi编译环境\n\ntlpi这本书算是linux系统编程中的入门书籍。像类似这种经典书籍，通常都有自己的头文件，还有一些辅助函数。所以我们将这些头文件放入系统的include中，并且将辅助函数编译成静态链接库。\n\n源码目录：http://man7.org/tlpi/code/index.html\n\n下载好源码后，我们将其解压，进入目录。输入make进行编译。\n\n这时应该会出现一些错误。\n\nsudo zypper in  libacl-devel libcap-devel\n\n\n1\n\n\n通常都是缺少这两个依赖。其他错误可以查看官网的faq\n\n编译没错后，进入lib目录。\n\n拷贝头文件：\n\nsudo cp tlpi_hdr.h /usr/local/include/\nsudo cp get_num.h /usr/local/include/\nsudo cp error_functions.h /usr/local/include/\nsudo cp ename.c.inc /usr/local/include/\n\n\n1\n2\n3\n4\n\n\n制作dll：\n\ngcc -c get_num.c error_functions.c\nar -crv libtlpi.a get_num.o error_functions.o\nsudo cp libtlpi.a /usr/local/lib\n\n\n1\n2\n3\n\n\n这时候，来到你的目录环境：\n\ngcc copy.c -ltlpi\n\n\n1\n\n\n环境ok。',charsets:{cjk:!0},lastUpdated:"2024/01/17, 20:00:31",lastUpdatedTimestamp:1705492831e3},{title:"关于优化博客",frontmatter:{title:"关于优化博客",date:"2019-01-05T16:00:00.000Z",permalink:"/blog/2019/blog-optimize",categories:["Linux"],tags:["Linux","Env"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/19.2019/03.blog-optimize.html",relativePath:"blog/19.2019/03.blog-optimize.md",key:"v-e220d9f6",path:"/blog/2019/blog-optimize/",headers:[{level:3,title:"合并css",slug:"合并css",normalizedTitle:"合并css",charIndex:143},{level:3,title:"减少js",slug:"减少js",normalizedTitle:"减少js",charIndex:288},{level:3,title:"小图片采用base64或者雪碧图",slug:"小图片采用base64或者雪碧图",normalizedTitle:"小图片采用base64或者雪碧图",charIndex:386},{level:3,title:"减少ttfb的响应时间",slug:"减少ttfb的响应时间",normalizedTitle:"减少ttfb的响应时间",charIndex:475},{level:3,title:"servicework+cache",slug:"servicework-cache",normalizedTitle:"servicework+cache",charIndex:626},{level:3,title:"HTTP/2",slug:"http-2",normalizedTitle:"http/2",charIndex:731}],headersStr:"合并css 减少js 小图片采用base64或者雪碧图 减少ttfb的响应时间 servicework+cache HTTP/2",content:"迫于贫穷，博客挂在境外，国内的访问速度本来就比较慢，加上之前自己开发这个博客的时候都是在下班后，为了快速看到效果很多地方都没有考虑清楚，导致无论是前台还是后台都有很多问题，这也是我一直羞于开源的原因。但是底子不好不代表我们后天不努力，最近，我还是决定要将博客的体验做的更好点。\n\n\n# 合并css\n\n之前写博客为了本地开发方便，直接用postcss自动编译，每个模块有自己的css，然后在相应的模块中引入，但是这样造成了一个页面请求多个css的情况。所以合并了css的编译结果。 【优点】：减少了css的请求 【缺点】：css模块化能力的缺陷导致可能会产生样式冲突。\n\n\n# 减少js\n\n个人博客，重要的是内容而不是花里胡哨。也没啥地方需要用到大的js库，能不用就不用。能不用到的地方就不用。本博客删除了除了mathJax之外的所有库文件。大大减少了js的请求。\n\n\n# 小图片采用base64或者雪碧图\n\n我的网站logo（saber）一开始我放了一张128*128的。。。后来我缩小到60*60后还是觉得效果不好，直接上了base64。\n\n\n# 减少ttfb的响应时间\n\nhttp可以分段吐出，我们可以在响应的时候，先渲染出一部分，而后渲染剩下的一部分。可以减少所谓的ttfb时间。博客首页目前就采用了分段渲染。具体的方法是因为响应本身是一个Stream，而在koa中也是能直接操作node.js的响应对象的，所以可做的事情还是有一点的。\n\n\n# servicework+cache\n\n强大的sw-tools，将来pwa的技术支撑，我在博客上只是草草做了一些东西，但是目前仍然有一些困难点没有解决。也就是说sw的更新问题。这个有时间得好好研究一下。\n\n\n# HTTP/2\n\n开启了HTTP/2，但是效果呢？并没有觉得提速的多少，大概原因是因为我的并发请求数并没有太多，然后server push我也没用到。等后期再看看效果如何。\n\n优化之路漫漫，吾将上下而求索。",normalizedContent:"迫于贫穷，博客挂在境外，国内的访问速度本来就比较慢，加上之前自己开发这个博客的时候都是在下班后，为了快速看到效果很多地方都没有考虑清楚，导致无论是前台还是后台都有很多问题，这也是我一直羞于开源的原因。但是底子不好不代表我们后天不努力，最近，我还是决定要将博客的体验做的更好点。\n\n\n# 合并css\n\n之前写博客为了本地开发方便，直接用postcss自动编译，每个模块有自己的css，然后在相应的模块中引入，但是这样造成了一个页面请求多个css的情况。所以合并了css的编译结果。 【优点】：减少了css的请求 【缺点】：css模块化能力的缺陷导致可能会产生样式冲突。\n\n\n# 减少js\n\n个人博客，重要的是内容而不是花里胡哨。也没啥地方需要用到大的js库，能不用就不用。能不用到的地方就不用。本博客删除了除了mathjax之外的所有库文件。大大减少了js的请求。\n\n\n# 小图片采用base64或者雪碧图\n\n我的网站logo（saber）一开始我放了一张128*128的。。。后来我缩小到60*60后还是觉得效果不好，直接上了base64。\n\n\n# 减少ttfb的响应时间\n\nhttp可以分段吐出，我们可以在响应的时候，先渲染出一部分，而后渲染剩下的一部分。可以减少所谓的ttfb时间。博客首页目前就采用了分段渲染。具体的方法是因为响应本身是一个stream，而在koa中也是能直接操作node.js的响应对象的，所以可做的事情还是有一点的。\n\n\n# servicework+cache\n\n强大的sw-tools，将来pwa的技术支撑，我在博客上只是草草做了一些东西，但是目前仍然有一些困难点没有解决。也就是说sw的更新问题。这个有时间得好好研究一下。\n\n\n# http/2\n\n开启了http/2，但是效果呢？并没有觉得提速的多少，大概原因是因为我的并发请求数并没有太多，然后server push我也没用到。等后期再看看效果如何。\n\n优化之路漫漫，吾将上下而求索。",charsets:{cjk:!0},lastUpdated:"2024/07/04, 00:28:21",lastUpdatedTimestamp:1720024101e3},{title:"前端路由应用部署的一些看法",frontmatter:{title:"前端路由应用部署的一些看法",date:"2019-02-13T16:00:00.000Z",permalink:"/blog/2019/fe-deploy",categories:["FE"],tags:["FE","Env"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/19.2019/04.fe-router-deploy.html",relativePath:"blog/19.2019/04.fe-router-deploy.md",key:"v-001f87ba",path:"/blog/2019/fe-deploy/",headers:[{level:2,title:"客户端渲染的发展",slug:"客户端渲染的发展",normalizedTitle:"客户端渲染的发展",charIndex:2},{level:2,title:"路由",slug:"路由",normalizedTitle:"路由",charIndex:163},{level:2,title:"部署",slug:"部署",normalizedTitle:"部署",charIndex:260},{level:2,title:"nginx配置",slug:"nginx配置",normalizedTitle:"nginx配置",charIndex:857}],headersStr:"客户端渲染的发展 路由 部署 nginx配置",content:"# 客户端渲染的发展\n\n随着Angularjs带入了MVVM思想，React和Vue的兴起，客户端渲染应用在前端开发中变得流行起来。所谓客户端渲染，指的是页面的dom结构都由前端js来生成，而服务端只是渲染了一个基础模板，这样大大的减少了服务端的压力。尤其是一些后台管控系统等对seo等不敏感的场景下，应用非常广泛。\n\n\n# 路由\n\n因为面向服务端的只是一个模板文件，所以前端应用的路由都是由前端自己来控制的。而通常前端路由的实现方式一种是hash方式，一种是history方式。我比较推荐history方式。\n\n\n# 部署\n\n关于客户端渲染应用的部署，我觉得有几点要注意：\n\n 1. 前后端分离部署，前端不需要依赖后端。前后端是平等的关系。\n 2. 机器资源宝贵，要做到合理利用。\n 3. 访问链路不能过长。\n\n所以我有过几套发布部署的方案，也思考过一些方案的优缺点。\n\n 1. 前端部署到有nginx应用的服务器上，后端部署到node服务器上（以node应用为例）。nginx设置反向代理，将需要打给后端的请求配置好。外部请求过来时，先打到nginx服务器上，开始渲染前端页面，页面中的请求再打到nginx服务器上，这时候会被反向代理到node服务器上，node作出响应后，nginx拿到后再返回给客户端。\n 2. 前端部署到静态资源上，后端部署到node服务器上，nginx根据location来判断是否为前端静态文件，如果发现则直接请求静态资源，否则则打到node服务器上。\n\n两种方案，其实我个人觉得差不多，其实差别也不大。其实无论选择哪种方案，适合自己的才是最好的。我在设想部署这个博客的时候，打算用docker包掉一切，但是最后发现机器带不动～。所以我现在的部署方式类似第二种，本地写了一个脚本，本地编译 + scp至云端dist目录。而后端部分，则是压缩 -> scp上传 -> 执行脚本(解压、npm install、npm start)。\n\n附送上 hash 路由 nginx的配置：\n\n\n# nginx配置\n\n\nlocation ~ /admin/ {\n\n root /Users/user/MySpace/nbook-admin;\n\n index index.html;\n\n include /Users/user/Myspace/nbook-admin/admin/.htaccess;\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n.htaccess\n\n\nif (!-e $request\\_filename){\n\n rewrite ^/(.\\*)$ /admin/index.html?\\_ca\\_=$1 last;\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n",normalizedContent:"# 客户端渲染的发展\n\n随着angularjs带入了mvvm思想，react和vue的兴起，客户端渲染应用在前端开发中变得流行起来。所谓客户端渲染，指的是页面的dom结构都由前端js来生成，而服务端只是渲染了一个基础模板，这样大大的减少了服务端的压力。尤其是一些后台管控系统等对seo等不敏感的场景下，应用非常广泛。\n\n\n# 路由\n\n因为面向服务端的只是一个模板文件，所以前端应用的路由都是由前端自己来控制的。而通常前端路由的实现方式一种是hash方式，一种是history方式。我比较推荐history方式。\n\n\n# 部署\n\n关于客户端渲染应用的部署，我觉得有几点要注意：\n\n 1. 前后端分离部署，前端不需要依赖后端。前后端是平等的关系。\n 2. 机器资源宝贵，要做到合理利用。\n 3. 访问链路不能过长。\n\n所以我有过几套发布部署的方案，也思考过一些方案的优缺点。\n\n 1. 前端部署到有nginx应用的服务器上，后端部署到node服务器上（以node应用为例）。nginx设置反向代理，将需要打给后端的请求配置好。外部请求过来时，先打到nginx服务器上，开始渲染前端页面，页面中的请求再打到nginx服务器上，这时候会被反向代理到node服务器上，node作出响应后，nginx拿到后再返回给客户端。\n 2. 前端部署到静态资源上，后端部署到node服务器上，nginx根据location来判断是否为前端静态文件，如果发现则直接请求静态资源，否则则打到node服务器上。\n\n两种方案，其实我个人觉得差不多，其实差别也不大。其实无论选择哪种方案，适合自己的才是最好的。我在设想部署这个博客的时候，打算用docker包掉一切，但是最后发现机器带不动～。所以我现在的部署方式类似第二种，本地写了一个脚本，本地编译 + scp至云端dist目录。而后端部分，则是压缩 -> scp上传 -> 执行脚本(解压、npm install、npm start)。\n\n附送上 hash 路由 nginx的配置：\n\n\n# nginx配置\n\n\nlocation ~ /admin/ {\n\n root /users/user/myspace/nbook-admin;\n\n index index.html;\n\n include /users/user/myspace/nbook-admin/admin/.htaccess;\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n.htaccess\n\n\nif (!-e $request\\_filename){\n\n rewrite ^/(.\\*)$ /admin/index.html?\\_ca\\_=$1 last;\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n",charsets:{cjk:!0},lastUpdated:"2024/07/04, 00:28:21",lastUpdatedTimestamp:1720024101e3},{title:"浅谈JS的调用栈",frontmatter:{title:"浅谈JS的调用栈",date:"2020-11-15T16:00:00.000Z",permalink:"/blog/2020/js-call-stack",categories:["FE"],tags:["FE"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/20.2020/00.js-call-stack.html",relativePath:"blog/20.2020/00.js-call-stack.md",key:"v-476b2cc5",path:"/blog/2020/js-call-stack/",headers:[{level:2,title:"变量提升",slug:"变量提升",normalizedTitle:"变量提升",charIndex:2},{level:2,title:"调用栈",slug:"调用栈",normalizedTitle:"调用栈",charIndex:420},{level:2,title:"块级作用域",slug:"块级作用域",normalizedTitle:"块级作用域",charIndex:1578}],headersStr:"变量提升 调用栈 块级作用域",content:"# 变量提升\n\n开门见山，这段代码输出什么？\n\nfoo();\nconsole.log(bar);\nvar bar = 'bar';\nfunction foo() {\n  console.log('run foo');\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n相信作为一名合格的js开发者，你肯定晓得答案。控制台会分别输出：\n\nrun foo\nundefined\n\n\n1\n2\n\n\n你可能会向我解释道：在js中函数的变量的声明会提升，因此对于解释器来说，它实际看到的是这样的：\n\nvar bar;\nfunction foo() {\n\tconsole.log('run foo');\n}\nfoo();\nconsole.log(bar);\nbar = 'bar';\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n这很正确，但是并不准确。并不会有哪个JS引擎会改写你的代码顺序，而所谓的变量提升只是我们人为的理解引擎做的事情而已，那么引擎到底做了什么呢？\n\n\n# 调用栈\n\nv8解析js代码后，不会直接运行，会先编译，生成上下文后以及可执行代码，然后再运行。具体的过程为：\n\n 1. 编译代码，生成全局上下文，进入调用栈。\n 2. 运行进入函数后（或者进入eval后），创建运行上下文，入栈。\n 3. 函数运行结束后，运行上下文被销毁，出栈。\n\n这些运行上下文中主要包含着当前的变量环境与词法环境。运行前，V8首先会将全局上下文压入调用栈。执行代码期间，如果遇到变量赋值等操作会改变一下全局上下文中的变量环境。如果遇到函数，会创建函数的运行上下文，并压入调用栈。函数内的过程和全局过程是一次递归。函数运行结束后，上下文销毁，出栈。直至全局代码运行完。\n\n如下图，我们在日常debug期间已经很关注调用栈以及上下文环境了。\n\n\n\n当然调用栈可能会爆栈。当递归次数比较多的时候，通常会上万，这时候调用栈会溢出。实验表明，即使是利用尾递归的方式在当前的v8版本也会爆栈。在Safari中不会，应该是被优化成了迭代。\n\n作用域 代码中出现相同的变量，JS引擎如何来决定用哪一个呢？\n\n如下代码：\n\nfunction foo() {\n\tconsole.log(title);\n}\nfunction bar() {\n\tvar title = 'bar';\n\tfoo();\n}\nvar title = 'global';\nbar();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n输出结果为: global;\n\n上文讲到，js的执行环境由调用栈来控制。不妨站在这个角度看下。\n\n 1. 首先进入全局上下文，从头开始运行，函数定义、变量定义，变量赋值\n 2. bar()调用，创建bar的执行上下文，变量定义、赋值。\n 3. foo()调用，创建foo的执行上下文，这时候，需要打印出title的值。\n 4. foo执行完毕，销毁上下文。bar执行完毕，销毁上下文。全局执行环境，销毁上下文。\n\n可见，title并没有直接取调用栈最上面的bar的上下文中的变量环境，而是取了global的值。\n\n这是因为调用栈中，变量环境中都有一个outer的引用，用来指向外部执行环境，如果变量没有在当环境中找到，那么就会取外部执行环境来取。这个过程叫做作用域链，那为啥这个外部环境不是bar呢？\n\n这是因为js的 作用域链是由词法作用域决定的，而这个词法作用域和运行时是没有任何关系的。看下面的代码：\n\nfunction bar() {\n\tfunction foo() {\n\t\tconsole.log(title);\n\t}\n\tvar title = 'bar';\n\tfoo();\n}\nvar title = 'global';\nbar();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n输出 bar\n\n\n# 块级作用域\n\n大家也都知道，js中的var带来的变量提升已经作用域问题已经给很多开发者带来很大的困扰了。于是ES6中推出了块级作用域。那么块级作用域的实现方式是怎样的？接下来我将举一个例子生动的来讲一下。\n\nfunction a() {\n\tvar x = 1;\n  let y = 1;\n  if (true) {\n    var x = 2;\n    let y = 2;\n  }\n  console.log(x, y);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n如上述代码。首先要了解，let与var在引擎的执行层面一定是有不同的。var中定义赋值的变量存储在上下文中的变量环境中，而let、const定义的变量则存储在词法环境中。而词法环境则也是一个栈模式，当进入block的时候，会将这个块的变量push进入词法环境，而离开的时候pop出去。块级作用域本质上是利用了上下文中的词法环境的栈的特性来实现的，\n\n当我们在某个地方引用变量的时候，引擎会先从词法环境中寻找，再去变量环境中寻找。\n\n有时候我们学习一门编程语言语法的时候，太强调规则而忽视了它们产生的理由与实现的方式。如果能站在虚拟机设计者的角度去思考一下问题，那么可能会理解的更加透彻。",normalizedContent:"# 变量提升\n\n开门见山，这段代码输出什么？\n\nfoo();\nconsole.log(bar);\nvar bar = 'bar';\nfunction foo() {\n  console.log('run foo');\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n相信作为一名合格的js开发者，你肯定晓得答案。控制台会分别输出：\n\nrun foo\nundefined\n\n\n1\n2\n\n\n你可能会向我解释道：在js中函数的变量的声明会提升，因此对于解释器来说，它实际看到的是这样的：\n\nvar bar;\nfunction foo() {\n\tconsole.log('run foo');\n}\nfoo();\nconsole.log(bar);\nbar = 'bar';\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n这很正确，但是并不准确。并不会有哪个js引擎会改写你的代码顺序，而所谓的变量提升只是我们人为的理解引擎做的事情而已，那么引擎到底做了什么呢？\n\n\n# 调用栈\n\nv8解析js代码后，不会直接运行，会先编译，生成上下文后以及可执行代码，然后再运行。具体的过程为：\n\n 1. 编译代码，生成全局上下文，进入调用栈。\n 2. 运行进入函数后（或者进入eval后），创建运行上下文，入栈。\n 3. 函数运行结束后，运行上下文被销毁，出栈。\n\n这些运行上下文中主要包含着当前的变量环境与词法环境。运行前，v8首先会将全局上下文压入调用栈。执行代码期间，如果遇到变量赋值等操作会改变一下全局上下文中的变量环境。如果遇到函数，会创建函数的运行上下文，并压入调用栈。函数内的过程和全局过程是一次递归。函数运行结束后，上下文销毁，出栈。直至全局代码运行完。\n\n如下图，我们在日常debug期间已经很关注调用栈以及上下文环境了。\n\n\n\n当然调用栈可能会爆栈。当递归次数比较多的时候，通常会上万，这时候调用栈会溢出。实验表明，即使是利用尾递归的方式在当前的v8版本也会爆栈。在safari中不会，应该是被优化成了迭代。\n\n作用域 代码中出现相同的变量，js引擎如何来决定用哪一个呢？\n\n如下代码：\n\nfunction foo() {\n\tconsole.log(title);\n}\nfunction bar() {\n\tvar title = 'bar';\n\tfoo();\n}\nvar title = 'global';\nbar();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n输出结果为: global;\n\n上文讲到，js的执行环境由调用栈来控制。不妨站在这个角度看下。\n\n 1. 首先进入全局上下文，从头开始运行，函数定义、变量定义，变量赋值\n 2. bar()调用，创建bar的执行上下文，变量定义、赋值。\n 3. foo()调用，创建foo的执行上下文，这时候，需要打印出title的值。\n 4. foo执行完毕，销毁上下文。bar执行完毕，销毁上下文。全局执行环境，销毁上下文。\n\n可见，title并没有直接取调用栈最上面的bar的上下文中的变量环境，而是取了global的值。\n\n这是因为调用栈中，变量环境中都有一个outer的引用，用来指向外部执行环境，如果变量没有在当环境中找到，那么就会取外部执行环境来取。这个过程叫做作用域链，那为啥这个外部环境不是bar呢？\n\n这是因为js的 作用域链是由词法作用域决定的，而这个词法作用域和运行时是没有任何关系的。看下面的代码：\n\nfunction bar() {\n\tfunction foo() {\n\t\tconsole.log(title);\n\t}\n\tvar title = 'bar';\n\tfoo();\n}\nvar title = 'global';\nbar();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n输出 bar\n\n\n# 块级作用域\n\n大家也都知道，js中的var带来的变量提升已经作用域问题已经给很多开发者带来很大的困扰了。于是es6中推出了块级作用域。那么块级作用域的实现方式是怎样的？接下来我将举一个例子生动的来讲一下。\n\nfunction a() {\n\tvar x = 1;\n  let y = 1;\n  if (true) {\n    var x = 2;\n    let y = 2;\n  }\n  console.log(x, y);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n如上述代码。首先要了解，let与var在引擎的执行层面一定是有不同的。var中定义赋值的变量存储在上下文中的变量环境中，而let、const定义的变量则存储在词法环境中。而词法环境则也是一个栈模式，当进入block的时候，会将这个块的变量push进入词法环境，而离开的时候pop出去。块级作用域本质上是利用了上下文中的词法环境的栈的特性来实现的，\n\n当我们在某个地方引用变量的时候，引擎会先从词法环境中寻找，再去变量环境中寻找。\n\n有时候我们学习一门编程语言语法的时候，太强调规则而忽视了它们产生的理由与实现的方式。如果能站在虚拟机设计者的角度去思考一下问题，那么可能会理解的更加透彻。",charsets:{cjk:!0},lastUpdated:"2024/01/17, 20:00:31",lastUpdatedTimestamp:1705492831e3},{title:"2023热门前端技术",frontmatter:{title:"2023热门前端技术",date:"2024-01-01T16:37:10.000Z",permalink:"/blog/2024/2023-hot-FE-tech",categories:["FE","Node.js"],tags:["FE","Node.js"],author:{name:"luckyscript",link:"https://github.com/luckyscript"},sidebar:"auto"},regularPath:"/blog/24.2024/00.2023hot-FE-tech.html",relativePath:"blog/24.2024/00.2023hot-FE-tech.md",key:"v-332942f6",path:"/blog/2024/2023-hot-FE-tech/",headers:[{level:2,title:"shadcn/ui",slug:"shadcn-ui",normalizedTitle:"shadcn/ui",charIndex:202},{level:2,title:"Bun",slug:"bun",normalizedTitle:"bun",charIndex:3731},{level:2,title:"Tailwind CSS",slug:"tailwind-css",normalizedTitle:"tailwind css",charIndex:278},{level:2,title:"React Server Component",slug:"react-server-component",normalizedTitle:"react server component",charIndex:391}],headersStr:"shadcn/ui Bun Tailwind CSS React Server Component",content:'2024年的第一篇博客，打算和大家分享一下2023年前端比较火的一些技术。我自己的一个感觉是，国内外的前端的发展路径还是有一些差异的，例如今年最火的 shadcn-ui 这个项目，是今年JS语言所有的项目中获得Star最多的，但是发现国内鲜有文章讨论。\n\n定时去看看国内外目前比较火的一些项目，看看人家的一些设计思路，避免自己的技术思维太局限。我挑了以下几个比较热门的项目，主要分析其设计思路。\n\n\n# shadcn/ui\n\nshadcn/ui 是一个基于React的组件库，但是官方网站却明确说自己不是组件库，一方面来说他的UI是基于RadixUI 和 Tailwind CSS的，另一方面是他的组件的分发并不是基于NPM的，而是官方提供了一个命令，通过输入命令会直接将组件的源码直接Copy到当前项目仓库中。\n\nshadcn/ui 的流行于 Tailwind CSS 以及 对于React Server Component兼容密切相关。我觉得其设计的宗旨是便于进行二次定制开发。通过源码注入的方式相比npm包的引入具有更大的灵活性，RadixUI本身是一个不包含样式的无头组件库，shadcn/ui 的本质是帮用户写了一个默认的样式，而这个样式我们可以更灵活的更改。\n\n// 依赖tailwindcss\nnpm install -D tailwindcss postcss autoprefixer\nnpx tailwindcss init -p\n\nnpx shadcn-ui@latest init\n✔ Would you like to use TypeScript (recommended)? … no / yes\n✔ Which style would you like to use? › Default\n✔ Which color would you like to use as base color? › Slate\n✔ Where is your global CSS file? … app/globals.css\n✔ Would you like to use CSS variables for colors? … no / yes\n✔ Are you using a custom tailwind prefix eg. tw-? (Leave blank if not) …\n✔ Where is your tailwind.config.js located? … tailwind.config.js\n✔ Configure the import alias for components: … @/components\n✔ Configure the import alias for utils: … @/lib/utils\n✔ Are you using React Server Components? … no / yes\n✔ Write configuration to components.json. Proceed? … yes\n\n✔ Writing components.json...\n✔ Initializing project...\n✔ Installing dependencies...\n\nSuccess! Project initialization completed.\n\nnpx shadcn-ui@latest add button\n\n✔ Done\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n自动生成的组件\n\nimport * as React from "react"\nimport { Slot } from "@radix-ui/react-slot"\nimport { cva, type VariantProps } from "class-variance-authority"\n\nimport { cn } from "@/lib/utils"\n\nconst buttonVariants = cva(\n  "inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",\n  {\n    variants: {\n      variant: {\n        default: "bg-primary text-primary-foreground hover:bg-primary/90",\n        destructive:\n          "bg-destructive text-destructive-foreground hover:bg-destructive/90",\n        outline:\n          "border border-input bg-background hover:bg-accent hover:text-accent-foreground",\n        secondary:\n          "bg-secondary text-secondary-foreground hover:bg-secondary/80",\n        ghost: "hover:bg-accent hover:text-accent-foreground",\n        link: "text-primary underline-offset-4 hover:underline",\n      },\n      size: {\n        default: "h-10 px-4 py-2",\n        sm: "h-9 rounded-md px-3",\n        lg: "h-11 rounded-md px-8",\n        icon: "h-10 w-10",\n      },\n    },\n    defaultVariants: {\n      variant: "default",\n      size: "default",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : "button"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = "Button"\n\nexport { Button, buttonVariants }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\n使用Button\n\nimport { Button } from "@/components/ui/button"\n \nexport default function Home() {\n  return (\n    <div>\n      <Button>Click me</Button>\n    </div>\n  )\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# Bun\n\nBun 大家应该都很熟悉，按照官方的描述，Bun是一个高性能的Node.js运行时，包管理器，打包器，测试命令，可谓是前端一条龙服务。\n\n在2022年是获得Star最多的项目，在23年，Bun发布了第一个正式版本。\n\nBun设计思路就是为了替代Node.js的，因此相比于Node.js除去4倍的性能优势外，Bun几户考虑到了现代前端的所有场景。简单举两个例子：\n\n 1. 默认可以运行js、ts、jsx等文件，因此不需要依赖babel、tsc、ts-node等编译插件。\n 2. bun本身就是一个JS打包器，因此也不需要webpack、esbuild这些构建工具了。\n\nBun is a fast JavaScript runtime, package manager, bundler, and test runner. (1.0.14 (d8be3e51))\n\nUsage: bun <command> [...flags] [...args]\n\nCommands:\n  run       ./my-script.ts       Execute a file with Bun\n            lint                 Run a package.json script\n  test                           Run unit tests with Bun\n  x         eslint               Execute a package binary (CLI), installing if needed (bunx)\n  repl                           Start a REPL session with Bun\n\n  install                        Install dependencies for a package.json (bun i)\n  add       next-app             Add a dependency to package.json (bun a)\n  remove    @zarfjs/zarf         Remove a dependency from package.json (bun rm)\n  update    moment               Update outdated dependencies\n  link      [<package>]          Register or link a local npm package\n  unlink                         Unregister a local npm package\n  pm <subcommand>                Additional package management utilities\n\n  build     ./a.ts ./b.jsx       Bundle TypeScript & JavaScript into a single file\n\n  init                           Start an empty Bun project from a blank template\n  create    zod                  Create a new project from a template (bun c)\n  upgrade                        Upgrade to latest version of Bun.\n  <command> --help               Print help text for command.\n\nLearn more about Bun:            https://bun.sh/docs\nJoin our Discord community:      https://bun.sh/discord\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# Tailwind CSS\n\ntailwindcss 我感觉是目前国外最火的项目了，TailwindCSS的核心理念是提供原子化的CSS，每一个类名代表着一个样式。\n\n我第一次接触Tailwind CSS的时候，是22年重构了一版本博客，当时选择了Astro + Tailwind CSS的方案。我对Tailwind的第一反应是，这玩意不就是另一种inline css么，按照我之前一贯的想法HTML内应该是干净整洁的。而Tailwind CSS的方案很明显违反了这一原则。\n\n但是一个项目，存在即合理，尤其是当这个项目这么火的时候，一定是有什么优势能让别人忽略掉这个技术所带来的劣势。\n\n<figure class="bg-slate-100 rounded-xl p-8 dark:bg-slate-800">\n  <img class="w-24 h-24 rounded-full mx-auto" src="/a.jpg" alt="" width="384" height="512">\n  <div class="pt-6 space-y-4">\n    <blockquote>\n      <p class="text-lg">\n        “Tailwind CSS is the only framework that I\'ve seen scale\n        on large teams. It’s easy to customize, adapts to any design,\n        and the build size is tiny.”\n      </p>\n    </blockquote>\n  </div>\n</figure>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n我觉得主要是因为CSS这个东西还是有一些痛点的：\n\n 1. CSS的上手成本其实不低，尤其是对于非前端的人员来说，上手CSS的成本比上手JS的成本要高得多。\n 2. 复杂CSS实现的成本较高，耗费大量的开发时间。例如：复杂动画、响应式设计等。\n 3. 技术人员用CSS很难写出比较美的样式。\n 4. 书写样式过的过程需要大量定义class、className\n 5. HTML、CSS的分离 带来开发过程额外关注点的分离。\n 6. CSS 打包出来的体积比较大。CSS复用的难度比较高，虽然油Saas的Mixin等方案，但是实现起来也比较繁琐。\n\nTailwind CSS的设计思想可以最大程度上去复用这些样式，这种原子化的方案也能避免CSS难以维护的问题。它提供的原子化的CSS基本上可以覆盖日常90%的开发所需要的样式，因此也基本不需要再去写CSS。同时还能满足高定制化的诉求。\n\n当然我觉得Tailwind CSS的缺点也比较明显：\n\n 1. 如果样式太复杂， 那么dom节点也比较复杂，可读性会极具下降。更别提tailwind css支持的dark、hover的这种模式的样式也需要写在class中。\n 2. 有一定学习成本，对于熟悉写CSS的人来说，切换到这种形式可能一开始不是很习惯，不过我理解配合一些IDC的插件可以减少这种问题。\n\n\n# React Server Component\n\nReact 在21年年初就发布了服务端组件的草案。React组件本质上就是一个函数，在浏览器的运行时内可以执行，在浏览器端同样也能运行。但是因为运行时存在一些差异性，所以在组件的实现上以及功能点上都有不同。\n\nRSC和我们之前聊的SSR在原理上类似，但是他们的确是两件事情。SSR的本质是将整个页面在服务端计算成HTML，然后由浏览器直接渲染HTML。相比于CSR，SSR主要有以下好处：\n\n 1. SEO 【例如一些企业的官网如果完全是CSR，那么搜索引擎可能会一直不收录】\n 2. 首屏加载速度更快。\n\n但是SSR方案由于每次请求都会需要服务端重新渲染页面，如果是一些千人千面的场景，采用SSR且无法做缓存的场景，对于服务器的开销就会比较大。在应对高并发的场景就会有稳定性风险。\n\n而我们今天提的RSC则和SSR没有太大的关联，按照React的官方的说法，React将组件分为Client Components和Client Compoents，官方推荐服务端组件负责那种轻交互重展示的组件，客户端组件负责那种重交互的场景。\n\n在React团队的官方演示中，服务端组件和客户端组件是可以相互嵌套的。就和我们日常书写React的代码没有差别，只是其中的一部分在客户端执行渲染逻辑，其中一部分在服务端执行渲染逻辑。不过自己去看文档发现还是有一些限制的，这里就不展开了。\n\n大致渲染过程：\n\n 1. 服务端接受fetch请求，并将root组件渲染为一棵包含基本的HTML标签和客户端组件的占位符的树。序列化成后发送给浏览器。\n 2. 浏览器反序列化这颗树，开始重建React树，用真正的客户端组件填充客户端组件占位符，最终渲染出最终的效果。\n\n对于RSC来说，本质上并不是彻底的服务端渲染。页面本身仍然是和CSR一样的最基础的模板，RSC则是通过Fetch请求来获取到序列化后的树。那么这样的好处是什么？\n\n我们在纯Client组件场景下，一些偏展示型的组件中，某些数据依赖于接口，我们过去的逻辑是请求接口获取到数据然后再交给客户端组件进行渲染。而现在的逻辑则是直接从服务端拿到一个可以展示的组件。这个逻辑是好是坏，我觉得这个得分场景。\n\n一个最简单的例子是Markdown，如果有前端进行解析Markdown，则需要在js中引入Marked这些包，这些包需要在每一个浏览器中都被下载。而如果利用RSC的方式，则不需要。',normalizedContent:'2024年的第一篇博客，打算和大家分享一下2023年前端比较火的一些技术。我自己的一个感觉是，国内外的前端的发展路径还是有一些差异的，例如今年最火的 shadcn-ui 这个项目，是今年js语言所有的项目中获得star最多的，但是发现国内鲜有文章讨论。\n\n定时去看看国内外目前比较火的一些项目，看看人家的一些设计思路，避免自己的技术思维太局限。我挑了以下几个比较热门的项目，主要分析其设计思路。\n\n\n# shadcn/ui\n\nshadcn/ui 是一个基于react的组件库，但是官方网站却明确说自己不是组件库，一方面来说他的ui是基于radixui 和 tailwind css的，另一方面是他的组件的分发并不是基于npm的，而是官方提供了一个命令，通过输入命令会直接将组件的源码直接copy到当前项目仓库中。\n\nshadcn/ui 的流行于 tailwind css 以及 对于react server component兼容密切相关。我觉得其设计的宗旨是便于进行二次定制开发。通过源码注入的方式相比npm包的引入具有更大的灵活性，radixui本身是一个不包含样式的无头组件库，shadcn/ui 的本质是帮用户写了一个默认的样式，而这个样式我们可以更灵活的更改。\n\n// 依赖tailwindcss\nnpm install -d tailwindcss postcss autoprefixer\nnpx tailwindcss init -p\n\nnpx shadcn-ui@latest init\n✔ would you like to use typescript (recommended)? … no / yes\n✔ which style would you like to use? › default\n✔ which color would you like to use as base color? › slate\n✔ where is your global css file? … app/globals.css\n✔ would you like to use css variables for colors? … no / yes\n✔ are you using a custom tailwind prefix eg. tw-? (leave blank if not) …\n✔ where is your tailwind.config.js located? … tailwind.config.js\n✔ configure the import alias for components: … @/components\n✔ configure the import alias for utils: … @/lib/utils\n✔ are you using react server components? … no / yes\n✔ write configuration to components.json. proceed? … yes\n\n✔ writing components.json...\n✔ initializing project...\n✔ installing dependencies...\n\nsuccess! project initialization completed.\n\nnpx shadcn-ui@latest add button\n\n✔ done\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n自动生成的组件\n\nimport * as react from "react"\nimport { slot } from "@radix-ui/react-slot"\nimport { cva, type variantprops } from "class-variance-authority"\n\nimport { cn } from "@/lib/utils"\n\nconst buttonvariants = cva(\n  "inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",\n  {\n    variants: {\n      variant: {\n        default: "bg-primary text-primary-foreground hover:bg-primary/90",\n        destructive:\n          "bg-destructive text-destructive-foreground hover:bg-destructive/90",\n        outline:\n          "border border-input bg-background hover:bg-accent hover:text-accent-foreground",\n        secondary:\n          "bg-secondary text-secondary-foreground hover:bg-secondary/80",\n        ghost: "hover:bg-accent hover:text-accent-foreground",\n        link: "text-primary underline-offset-4 hover:underline",\n      },\n      size: {\n        default: "h-10 px-4 py-2",\n        sm: "h-9 rounded-md px-3",\n        lg: "h-11 rounded-md px-8",\n        icon: "h-10 w-10",\n      },\n    },\n    defaultvariants: {\n      variant: "default",\n      size: "default",\n    },\n  }\n)\n\nexport interface buttonprops\n  extends react.buttonhtmlattributes<htmlbuttonelement>,\n    variantprops<typeof buttonvariants> {\n  aschild?: boolean\n}\n\nconst button = react.forwardref<htmlbuttonelement, buttonprops>(\n  ({ classname, variant, size, aschild = false, ...props }, ref) => {\n    const comp = aschild ? slot : "button"\n    return (\n      <comp\n        classname={cn(buttonvariants({ variant, size, classname }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nbutton.displayname = "button"\n\nexport { button, buttonvariants }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\n使用button\n\nimport { button } from "@/components/ui/button"\n \nexport default function home() {\n  return (\n    <div>\n      <button>click me</button>\n    </div>\n  )\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# bun\n\nbun 大家应该都很熟悉，按照官方的描述，bun是一个高性能的node.js运行时，包管理器，打包器，测试命令，可谓是前端一条龙服务。\n\n在2022年是获得star最多的项目，在23年，bun发布了第一个正式版本。\n\nbun设计思路就是为了替代node.js的，因此相比于node.js除去4倍的性能优势外，bun几户考虑到了现代前端的所有场景。简单举两个例子：\n\n 1. 默认可以运行js、ts、jsx等文件，因此不需要依赖babel、tsc、ts-node等编译插件。\n 2. bun本身就是一个js打包器，因此也不需要webpack、esbuild这些构建工具了。\n\nbun is a fast javascript runtime, package manager, bundler, and test runner. (1.0.14 (d8be3e51))\n\nusage: bun <command> [...flags] [...args]\n\ncommands:\n  run       ./my-script.ts       execute a file with bun\n            lint                 run a package.json script\n  test                           run unit tests with bun\n  x         eslint               execute a package binary (cli), installing if needed (bunx)\n  repl                           start a repl session with bun\n\n  install                        install dependencies for a package.json (bun i)\n  add       next-app             add a dependency to package.json (bun a)\n  remove    @zarfjs/zarf         remove a dependency from package.json (bun rm)\n  update    moment               update outdated dependencies\n  link      [<package>]          register or link a local npm package\n  unlink                         unregister a local npm package\n  pm <subcommand>                additional package management utilities\n\n  build     ./a.ts ./b.jsx       bundle typescript & javascript into a single file\n\n  init                           start an empty bun project from a blank template\n  create    zod                  create a new project from a template (bun c)\n  upgrade                        upgrade to latest version of bun.\n  <command> --help               print help text for command.\n\nlearn more about bun:            https://bun.sh/docs\njoin our discord community:      https://bun.sh/discord\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# tailwind css\n\ntailwindcss 我感觉是目前国外最火的项目了，tailwindcss的核心理念是提供原子化的css，每一个类名代表着一个样式。\n\n我第一次接触tailwind css的时候，是22年重构了一版本博客，当时选择了astro + tailwind css的方案。我对tailwind的第一反应是，这玩意不就是另一种inline css么，按照我之前一贯的想法html内应该是干净整洁的。而tailwind css的方案很明显违反了这一原则。\n\n但是一个项目，存在即合理，尤其是当这个项目这么火的时候，一定是有什么优势能让别人忽略掉这个技术所带来的劣势。\n\n<figure class="bg-slate-100 rounded-xl p-8 dark:bg-slate-800">\n  <img class="w-24 h-24 rounded-full mx-auto" src="/a.jpg" alt="" width="384" height="512">\n  <div class="pt-6 space-y-4">\n    <blockquote>\n      <p class="text-lg">\n        “tailwind css is the only framework that i\'ve seen scale\n        on large teams. it’s easy to customize, adapts to any design,\n        and the build size is tiny.”\n      </p>\n    </blockquote>\n  </div>\n</figure>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n我觉得主要是因为css这个东西还是有一些痛点的：\n\n 1. css的上手成本其实不低，尤其是对于非前端的人员来说，上手css的成本比上手js的成本要高得多。\n 2. 复杂css实现的成本较高，耗费大量的开发时间。例如：复杂动画、响应式设计等。\n 3. 技术人员用css很难写出比较美的样式。\n 4. 书写样式过的过程需要大量定义class、classname\n 5. html、css的分离 带来开发过程额外关注点的分离。\n 6. css 打包出来的体积比较大。css复用的难度比较高，虽然油saas的mixin等方案，但是实现起来也比较繁琐。\n\ntailwind css的设计思想可以最大程度上去复用这些样式，这种原子化的方案也能避免css难以维护的问题。它提供的原子化的css基本上可以覆盖日常90%的开发所需要的样式，因此也基本不需要再去写css。同时还能满足高定制化的诉求。\n\n当然我觉得tailwind css的缺点也比较明显：\n\n 1. 如果样式太复杂， 那么dom节点也比较复杂，可读性会极具下降。更别提tailwind css支持的dark、hover的这种模式的样式也需要写在class中。\n 2. 有一定学习成本，对于熟悉写css的人来说，切换到这种形式可能一开始不是很习惯，不过我理解配合一些idc的插件可以减少这种问题。\n\n\n# react server component\n\nreact 在21年年初就发布了服务端组件的草案。react组件本质上就是一个函数，在浏览器的运行时内可以执行，在浏览器端同样也能运行。但是因为运行时存在一些差异性，所以在组件的实现上以及功能点上都有不同。\n\nrsc和我们之前聊的ssr在原理上类似，但是他们的确是两件事情。ssr的本质是将整个页面在服务端计算成html，然后由浏览器直接渲染html。相比于csr，ssr主要有以下好处：\n\n 1. seo 【例如一些企业的官网如果完全是csr，那么搜索引擎可能会一直不收录】\n 2. 首屏加载速度更快。\n\n但是ssr方案由于每次请求都会需要服务端重新渲染页面，如果是一些千人千面的场景，采用ssr且无法做缓存的场景，对于服务器的开销就会比较大。在应对高并发的场景就会有稳定性风险。\n\n而我们今天提的rsc则和ssr没有太大的关联，按照react的官方的说法，react将组件分为client components和client compoents，官方推荐服务端组件负责那种轻交互重展示的组件，客户端组件负责那种重交互的场景。\n\n在react团队的官方演示中，服务端组件和客户端组件是可以相互嵌套的。就和我们日常书写react的代码没有差别，只是其中的一部分在客户端执行渲染逻辑，其中一部分在服务端执行渲染逻辑。不过自己去看文档发现还是有一些限制的，这里就不展开了。\n\n大致渲染过程：\n\n 1. 服务端接受fetch请求，并将root组件渲染为一棵包含基本的html标签和客户端组件的占位符的树。序列化成后发送给浏览器。\n 2. 浏览器反序列化这颗树，开始重建react树，用真正的客户端组件填充客户端组件占位符，最终渲染出最终的效果。\n\n对于rsc来说，本质上并不是彻底的服务端渲染。页面本身仍然是和csr一样的最基础的模板，rsc则是通过fetch请求来获取到序列化后的树。那么这样的好处是什么？\n\n我们在纯client组件场景下，一些偏展示型的组件中，某些数据依赖于接口，我们过去的逻辑是请求接口获取到数据然后再交给客户端组件进行渲染。而现在的逻辑则是直接从服务端拿到一个可以展示的组件。这个逻辑是好是坏，我觉得这个得分场景。\n\n一个最简单的例子是markdown，如果有前端进行解析markdown，则需要在js中引入marked这些包，这些包需要在每一个浏览器中都被下载。而如果利用rsc的方式，则不需要。',charsets:{cjk:!0},lastUpdated:"2024/01/17, 20:00:31",lastUpdatedTimestamp:1705492831e3},{title:"什么样的架构是好架构",frontmatter:{title:"什么样的架构是好架构",date:"2024-01-17T16:54:42.000Z",permalink:"/blog/2024/what-is-a-good-arch",sidebar:"auto",categories:["随笔"],tags:["架构"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/blog/24.2024/01.what-is-a-good-arch.html",relativePath:"blog/24.2024/01.what-is-a-good-arch.md",key:"v-dfd180f6",path:"/blog/2024/what-is-a-good-arch/",headersStr:null,content:"当我们提到架构的时候，架构到底是什么？\n\n建筑工人造楼房时，一定不可能造完了这一层再去想上一层应该怎么造。\n\n建筑师、土木工程师早就在地基打好之前就已经把这个建筑的结构设计好了。\n\n架构到底是什么？\n\n当在计算机或者互联网领域提架构的时候，我们更多的是在聊业务架构。简而言之，每一个业务中都有一些实体，这些实体之间有一些关系，这些关系是为了完成业务的需求而存在的，而架构就是考虑清楚这些实体之间的关系。用一个更专业的名词来讲，领域模型。\n\n一个很简单的例子：\n\n当我们去设计一个博客系统的时候，我们的实体主要有：文章、标签、分类。一个文章是否可以属于多个分类？一个分类下是否有多个文章？标签和分类有没有关系？\n\n这些其实没有一个明确的答案，真正的答案是业务需求告诉你的。\n\n因此，一个好的业务架构的设计离不开靠谱的产品经理，产品经理的PRD里应该将这些表述确定清楚。而技术人员在设计技术方案的时候，也首先要先将产品的PRD完全吃透，并提炼出领域实体之间的关系，才能设计出更合理的业务架构。\n\n而我们今天要聊的架构，主要是技术架构。技术架构与业务架构是完全两件事情，技术架构更多的是关注技术实现，而业务架构更多的是关注业务需求。\n\n技术架构的范围很大，例如一个业务系统的技术架构，可能涉及到数据库、缓存、中间件、消息队列、RPC、服务发现、限流、熔断、监控、链路追踪、部署、运维等等多方面的内容。\n\n那么，我们再回到主题，什么样的架构是好架构？\n\n我们再引入一个名词，架构的腐朽。任何架构都会面临随着时间的演进，人员的流动而腐朽，因此，在不同的业务阶段，去逐渐的演进架构，是非常重要的。\n\n以单体架构来讲，在今天，我们看到单体架构往往是带着批判的角度去聊。单体架构固然有各种缺点，但是在业务初期尤其是初创团队人员比较紧张的时候，单体架构是最好的选择。一上来就搞微服务架构，搞K8S，试问初创团队有这么多专业的人手么。业务系统依赖还比较简单的时候，由于技术架构的设计使得大家之间的调用成本变高，不见得是一件好事。\n\n但是随着时间的变化，这些单体应用必然就会带来困境。如果不进行拆分，许多人都维护一个应用，不仅会带来代码上频繁的冲突，在构建发布的过程也是会牵一发动全身。\n\n所以，完美的架构是不存在的。但是，我们的设计一定要有一定的前瞻性。例如我们现在选择了一个单体架构，但是我在代码分层上做了很多思考。在后续面临瓶颈的时候，我们可以将单体应用拆分成多个应用，每个应用都有自己的职责，职责明确。\n\n讲了这么多，又感觉啥都没讲。架构这个命题确实比较虚，我想表达的观点是：在计算机领域，完美的解决方案并不存在，但技术设计一定要对未来有一定前瞻性设计。",normalizedContent:"当我们提到架构的时候，架构到底是什么？\n\n建筑工人造楼房时，一定不可能造完了这一层再去想上一层应该怎么造。\n\n建筑师、土木工程师早就在地基打好之前就已经把这个建筑的结构设计好了。\n\n架构到底是什么？\n\n当在计算机或者互联网领域提架构的时候，我们更多的是在聊业务架构。简而言之，每一个业务中都有一些实体，这些实体之间有一些关系，这些关系是为了完成业务的需求而存在的，而架构就是考虑清楚这些实体之间的关系。用一个更专业的名词来讲，领域模型。\n\n一个很简单的例子：\n\n当我们去设计一个博客系统的时候，我们的实体主要有：文章、标签、分类。一个文章是否可以属于多个分类？一个分类下是否有多个文章？标签和分类有没有关系？\n\n这些其实没有一个明确的答案，真正的答案是业务需求告诉你的。\n\n因此，一个好的业务架构的设计离不开靠谱的产品经理，产品经理的prd里应该将这些表述确定清楚。而技术人员在设计技术方案的时候，也首先要先将产品的prd完全吃透，并提炼出领域实体之间的关系，才能设计出更合理的业务架构。\n\n而我们今天要聊的架构，主要是技术架构。技术架构与业务架构是完全两件事情，技术架构更多的是关注技术实现，而业务架构更多的是关注业务需求。\n\n技术架构的范围很大，例如一个业务系统的技术架构，可能涉及到数据库、缓存、中间件、消息队列、rpc、服务发现、限流、熔断、监控、链路追踪、部署、运维等等多方面的内容。\n\n那么，我们再回到主题，什么样的架构是好架构？\n\n我们再引入一个名词，架构的腐朽。任何架构都会面临随着时间的演进，人员的流动而腐朽，因此，在不同的业务阶段，去逐渐的演进架构，是非常重要的。\n\n以单体架构来讲，在今天，我们看到单体架构往往是带着批判的角度去聊。单体架构固然有各种缺点，但是在业务初期尤其是初创团队人员比较紧张的时候，单体架构是最好的选择。一上来就搞微服务架构，搞k8s，试问初创团队有这么多专业的人手么。业务系统依赖还比较简单的时候，由于技术架构的设计使得大家之间的调用成本变高，不见得是一件好事。\n\n但是随着时间的变化，这些单体应用必然就会带来困境。如果不进行拆分，许多人都维护一个应用，不仅会带来代码上频繁的冲突，在构建发布的过程也是会牵一发动全身。\n\n所以，完美的架构是不存在的。但是，我们的设计一定要有一定的前瞻性。例如我们现在选择了一个单体架构，但是我在代码分层上做了很多思考。在后续面临瓶颈的时候，我们可以将单体应用拆分成多个应用，每个应用都有自己的职责，职责明确。\n\n讲了这么多，又感觉啥都没讲。架构这个命题确实比较虚，我想表达的观点是：在计算机领域，完美的解决方案并不存在，但技术设计一定要对未来有一定前瞻性设计。",charsets:{cjk:!0},lastUpdated:"2024/01/17, 20:00:31",lastUpdatedTimestamp:1705492831e3},{title:"是否存在绝对意义的安全？",frontmatter:{title:"是否存在绝对意义的安全？",date:"2024-04-28T14:01:14.000Z",permalink:"/blog/2024/absolute-security",sidebar:"auto",categories:["随笔"],tags:["安全"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/blog/24.2024/02.absolute-security.html",relativePath:"blog/24.2024/02.absolute-security.md",key:"v-967ded36",path:"/blog/2024/absolute-security/",headersStr:null,content:"最近在做的一些云原生的项目，会存在一些跨集群访问的场景。我们通常认为，一个K8S内部的service调用是安全的，但是这种对集群外提供服务的场景，就得做很多安全上的预案了。最常见的就是提供一套接口签名的方案，服务提供者给调用方事先提供一个AK作为调用方的身份标志，再提供一个SK作为密钥。将AK、SK以及调用参数用同一套签名算法进行计算，作为签名进行验证。\n\n但是这套签名的机制，随便一个人都能挑出一堆问题：\n\n 1. 如果调用方是前端，那么这套签名算法、AK、SK即使再怎么混淆，那么仍然是能被破解的。\n 2. 即使调用方是服务端，我们无法接触到调用方的源码，那么我们依然可以通过中间人的攻击手段，来获取到AK、签名以及参数。如果SK也是通过网络传输，那么也同样可以抓到。\n\n但我苦思冥想，我感觉找不到更好的机制还能比以上的逻辑更天衣无缝。我虽然不太同意以上的两套观点，但是我也无法反驳，因为他们说的问题的的确确是存在的。即使是淘宝的MTOP，前端签名的逻辑稍微一点有经验的人就可以在10分钟之内破解。\n\n但是网络安全的本质目的是什么？\n\n我觉得觉得意义的安全是不存在的，安全的目的就是为了提高别人干坏事的成本。\n\n就好比家里安装的锁，其实在开锁师傅手下大概几分钟就能破解，这样的开锁师傅在每个城市都是大把。之前看过一个笑话，买锁的时候不能买太安全的，太安全的到时候开锁的人都打不开，反而把自己给困死。\n\n另一个角度来想，很多黑客都需要借助社会工程学进行攻击，而社会工程学本身已经超出了网络安全的范畴，更多的是借助人性以及心理学。因此即使再天衣无缝的系统，都有可能被渗透。就好比小偷欺骗了你，让你以为他是修下水道的，然后你开了门，他进来顺走了你的东西。这和门锁的安全本质上没什么关联。\n\n但是，我们也不需要绝对意义上的安全，这没必要。就好比，我们自己不会偷自己的东西，也不会做空自己的公司是一个道理。\n\n拿比特币来举例，只要控制了全球比特币链上50%以上的算力，我们就可以去修改这些交易信息。但是，当我们已经有了50%以上的算力，我篡改交易信息的行为一旦暴露，比特币的价格必定雪崩，这对于拥有如此大算力的主体来说是百害而无一益的。中本聪正是利用了人性上的这一点来保障了比特币的基本。",normalizedContent:"最近在做的一些云原生的项目，会存在一些跨集群访问的场景。我们通常认为，一个k8s内部的service调用是安全的，但是这种对集群外提供服务的场景，就得做很多安全上的预案了。最常见的就是提供一套接口签名的方案，服务提供者给调用方事先提供一个ak作为调用方的身份标志，再提供一个sk作为密钥。将ak、sk以及调用参数用同一套签名算法进行计算，作为签名进行验证。\n\n但是这套签名的机制，随便一个人都能挑出一堆问题：\n\n 1. 如果调用方是前端，那么这套签名算法、ak、sk即使再怎么混淆，那么仍然是能被破解的。\n 2. 即使调用方是服务端，我们无法接触到调用方的源码，那么我们依然可以通过中间人的攻击手段，来获取到ak、签名以及参数。如果sk也是通过网络传输，那么也同样可以抓到。\n\n但我苦思冥想，我感觉找不到更好的机制还能比以上的逻辑更天衣无缝。我虽然不太同意以上的两套观点，但是我也无法反驳，因为他们说的问题的的确确是存在的。即使是淘宝的mtop，前端签名的逻辑稍微一点有经验的人就可以在10分钟之内破解。\n\n但是网络安全的本质目的是什么？\n\n我觉得觉得意义的安全是不存在的，安全的目的就是为了提高别人干坏事的成本。\n\n就好比家里安装的锁，其实在开锁师傅手下大概几分钟就能破解，这样的开锁师傅在每个城市都是大把。之前看过一个笑话，买锁的时候不能买太安全的，太安全的到时候开锁的人都打不开，反而把自己给困死。\n\n另一个角度来想，很多黑客都需要借助社会工程学进行攻击，而社会工程学本身已经超出了网络安全的范畴，更多的是借助人性以及心理学。因此即使再天衣无缝的系统，都有可能被渗透。就好比小偷欺骗了你，让你以为他是修下水道的，然后你开了门，他进来顺走了你的东西。这和门锁的安全本质上没什么关联。\n\n但是，我们也不需要绝对意义上的安全，这没必要。就好比，我们自己不会偷自己的东西，也不会做空自己的公司是一个道理。\n\n拿比特币来举例，只要控制了全球比特币链上50%以上的算力，我们就可以去修改这些交易信息。但是，当我们已经有了50%以上的算力，我篡改交易信息的行为一旦暴露，比特币的价格必定雪崩，这对于拥有如此大算力的主体来说是百害而无一益的。中本聪正是利用了人性上的这一点来保障了比特币的基本。",charsets:{cjk:!0},lastUpdated:"2024/05/27, 15:16:02",lastUpdatedTimestamp:1716794162e3},{title:"JavaScript中的竞态问题",frontmatter:{title:"JavaScript中的竞态问题",date:"2024-07-04T10:18:12.000Z",permalink:"/blog/2024/race-condition-in-js",sidebar:"auto",categories:["JavaScript"],tags:["JavaScript"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/blog/24.2024/03.race-condition-in-js.html",relativePath:"blog/24.2024/03.race-condition-in-js.md",key:"v-04276b56",path:"/blog/2024/race-condition-in-js/",headers:[{level:2,title:"案例分析",slug:"案例分析",normalizedTitle:"案例分析",charIndex:128},{level:2,title:"如何解决",slug:"如何解决",normalizedTitle:"如何解决",charIndex:812},{level:3,title:"悲观锁策略",slug:"悲观锁策略",normalizedTitle:"悲观锁策略",charIndex:821},{level:3,title:"乐观锁策略",slug:"乐观锁策略",normalizedTitle:"乐观锁策略",charIndex:1338},{level:2,title:"其他实现",slug:"其他实现",normalizedTitle:"其他实现",charIndex:1916},{level:3,title:"取消异步操作",slug:"取消异步操作",normalizedTitle:"取消异步操作",charIndex:1925},{level:3,title:"RxJS",slug:"rxjs",normalizedTitle:"rxjs",charIndex:2185},{level:3,title:"Redux saga",slug:"redux-saga",normalizedTitle:"redux saga",charIndex:2205},{level:3,title:"ahooks",slug:"ahooks",normalizedTitle:"ahooks",charIndex:2277},{level:2,title:"思考",slug:"思考",normalizedTitle:"思考",charIndex:2300}],headersStr:"案例分析 如何解决 悲观锁策略 乐观锁策略 其他实现 取消异步操作 RxJS Redux saga ahooks 思考",content:"竞态条件问题一般出现在多线程语言中，多线程去操作某个实体的时候，如果没有锁的机制，那么执行相同的代码可能会带来不同的结果。\n\nJavaScript是一个典型的单线程语言，但是在异步编程中，由于异步方法执行顺序的不可控，仍然会经常碰到竞态条件问题。\n\n\n# 案例分析\n\n一个很常见的案例是搜索框，假设我们现在需要去搜索abcd这个内容，需求是在用户输入后就去调用接口查出结果并且渲染。\n\n因此，如果我们在不做任何节流的情况应该会发出如下四次请求：\n\n 1. 用户输入a，请求a的结果，渲染a的结果\n 2. 用户输入b，请求ab的结果，渲染ab的结果\n 3. 用户输入c，请求abc的结果，渲染abc的结果\n 4. 用户输入d，请求abcd的结果，渲染abcd的结果\n\n前端代码应该是类似下面这种：\n\nfetch('/search?keyword=abcd').then(res => {\n\t// render res\n})\n\n\n1\n2\n3\n\n\n也就是说，当接口返回后，我们的回调执行渲染逻辑，并将结果渲染，而这个回调将会有四次，我们的渲染也会按照最后一次回调的结果。最后一次回调的结果是搜索abcd的结果吗？\n\n显然，不一定。\n\n由于请求本身是异步的，因此我们可以假设一个很特殊的场景，服务端搜索a由于数据量很大需要花10秒时间，但是搜索其他三个只需要花0.1秒的时间。那么在上述场景中，a的结果将是最后一次回调的，我们也很容易就将这个结果作为最终值去渲染了。\n\n另一个很常见的案例是分页列表的操作，在用户迅速点击分页切换按钮的时候，假设这个查询接口延时有一定随机性且较慢的场景，那么很容易也会出现最终选中的分页和正在渲染的分页不一致的场景。\n\n以上这两种case就是很典型的竞态场景，虽然JavaScript是单线程运行，但是由于异步回调顺序的不确定性，如果渲染的正确性依赖回调的返回顺序，那么就很可能渲染bug。\n\n\n# 如何解决\n\n\n# 悲观锁策略\n\n悲观锁的策略，简而言之就是我同时只能允许你进行一个请求。也就是说，上一个请求没回调之前我就不发出下一个请求。\n\n我们经常会在点击按钮发出请求后，将这个按钮置为loading态，使得用户在loading态点击时不会触发下一个请求。这个就是悲观锁策略的一个很常见的实现。\n\nfunction ButtonFetch({ children }) {\n\tconst [loading, setLoading] = useState(false);\n\n\tconst doFetch = useCallback(() => {\n\t\tif (loading) {\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tfetch('xxx').finialy(() => {\n\t\t\tsetLoading(false);\n\t\t})\n\t}, [loading])\n\treturn (\n\t\t<Button onClick={doFetch} loading={loading}>{children}</Button>\n\t)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 乐观锁策略\n\n相较于悲观锁，乐观锁的策略则没那么严格。乐观锁采用一种版本记录的方式，来放弃已经过期无效的请求，我们直接来看下如何实现：\n\nconst version = 0;\nfunction ButtonFetch({ children }) {\n\tconst doFetch = () => {\n\t\tconst myVersion = version++;\n\t\tfetch('xxx').then(() => {\n\t\t\tif (myVersion === version) {\n\t\t\t // handler\n\t\t\t} else {\n\t\t\t// 无效请求，放弃就好\n\t\t\t}\n\t\t})\n\t})\n\treturn (\n\t\t<Button onClick={doFetch}>{children}</Button>\n\t)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n无论是乐观锁策略，还是悲观锁策略，都可以解决竞态条件带来的问题。悲观锁策略本质上就认为多次发请求这个行为就是有问题的，因此我要从源头遏制。乐观锁策略则认为，多次发请求是没问题的，我通过一定的手段来避免过期的请求给我造成影响即可。\n\n这两种方案，在不同的交互场景上都会有运用，带来的用户体验也是完全不一样。我们需要根据实际的情况去合理选择。\n\n\n# 其他实现\n\n\n# 取消异步操作\n\n虽然原生的Promise并不支持取消，但是我们仍然可以给Promise增加一个cancel的方法，本质上就是让Promise提前reject掉。\n\n另外，在异步场景最多的网络请求场景下，浏览器是有一些取消请求的机制的。因此，在后发出请求之前，我们也可以主动将前置的请求给cancel掉。 浏览器推出的AbortController可以使我们更好的来控制好网络请求。 https://developer.mozilla.org/zh-CN/docs/Web/API/AbortController\n\n\n# RxJS\n\nswitchMap\n\n\n# Redux saga\n\nredux saga提供了 takeLatest辅助函数来协助我们去处理副作用中的race condition\n\n\n# ahooks\n\nuseRequest\n\n\n# 思考\n\n节流能否解决这个问题？",normalizedContent:"竞态条件问题一般出现在多线程语言中，多线程去操作某个实体的时候，如果没有锁的机制，那么执行相同的代码可能会带来不同的结果。\n\njavascript是一个典型的单线程语言，但是在异步编程中，由于异步方法执行顺序的不可控，仍然会经常碰到竞态条件问题。\n\n\n# 案例分析\n\n一个很常见的案例是搜索框，假设我们现在需要去搜索abcd这个内容，需求是在用户输入后就去调用接口查出结果并且渲染。\n\n因此，如果我们在不做任何节流的情况应该会发出如下四次请求：\n\n 1. 用户输入a，请求a的结果，渲染a的结果\n 2. 用户输入b，请求ab的结果，渲染ab的结果\n 3. 用户输入c，请求abc的结果，渲染abc的结果\n 4. 用户输入d，请求abcd的结果，渲染abcd的结果\n\n前端代码应该是类似下面这种：\n\nfetch('/search?keyword=abcd').then(res => {\n\t// render res\n})\n\n\n1\n2\n3\n\n\n也就是说，当接口返回后，我们的回调执行渲染逻辑，并将结果渲染，而这个回调将会有四次，我们的渲染也会按照最后一次回调的结果。最后一次回调的结果是搜索abcd的结果吗？\n\n显然，不一定。\n\n由于请求本身是异步的，因此我们可以假设一个很特殊的场景，服务端搜索a由于数据量很大需要花10秒时间，但是搜索其他三个只需要花0.1秒的时间。那么在上述场景中，a的结果将是最后一次回调的，我们也很容易就将这个结果作为最终值去渲染了。\n\n另一个很常见的案例是分页列表的操作，在用户迅速点击分页切换按钮的时候，假设这个查询接口延时有一定随机性且较慢的场景，那么很容易也会出现最终选中的分页和正在渲染的分页不一致的场景。\n\n以上这两种case就是很典型的竞态场景，虽然javascript是单线程运行，但是由于异步回调顺序的不确定性，如果渲染的正确性依赖回调的返回顺序，那么就很可能渲染bug。\n\n\n# 如何解决\n\n\n# 悲观锁策略\n\n悲观锁的策略，简而言之就是我同时只能允许你进行一个请求。也就是说，上一个请求没回调之前我就不发出下一个请求。\n\n我们经常会在点击按钮发出请求后，将这个按钮置为loading态，使得用户在loading态点击时不会触发下一个请求。这个就是悲观锁策略的一个很常见的实现。\n\nfunction buttonfetch({ children }) {\n\tconst [loading, setloading] = usestate(false);\n\n\tconst dofetch = usecallback(() => {\n\t\tif (loading) {\n\t\t\treturn;\n\t\t}\n\t\tsetloading(true);\n\t\tfetch('xxx').finialy(() => {\n\t\t\tsetloading(false);\n\t\t})\n\t}, [loading])\n\treturn (\n\t\t<button onclick={dofetch} loading={loading}>{children}</button>\n\t)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 乐观锁策略\n\n相较于悲观锁，乐观锁的策略则没那么严格。乐观锁采用一种版本记录的方式，来放弃已经过期无效的请求，我们直接来看下如何实现：\n\nconst version = 0;\nfunction buttonfetch({ children }) {\n\tconst dofetch = () => {\n\t\tconst myversion = version++;\n\t\tfetch('xxx').then(() => {\n\t\t\tif (myversion === version) {\n\t\t\t // handler\n\t\t\t} else {\n\t\t\t// 无效请求，放弃就好\n\t\t\t}\n\t\t})\n\t})\n\treturn (\n\t\t<button onclick={dofetch}>{children}</button>\n\t)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n无论是乐观锁策略，还是悲观锁策略，都可以解决竞态条件带来的问题。悲观锁策略本质上就认为多次发请求这个行为就是有问题的，因此我要从源头遏制。乐观锁策略则认为，多次发请求是没问题的，我通过一定的手段来避免过期的请求给我造成影响即可。\n\n这两种方案，在不同的交互场景上都会有运用，带来的用户体验也是完全不一样。我们需要根据实际的情况去合理选择。\n\n\n# 其他实现\n\n\n# 取消异步操作\n\n虽然原生的promise并不支持取消，但是我们仍然可以给promise增加一个cancel的方法，本质上就是让promise提前reject掉。\n\n另外，在异步场景最多的网络请求场景下，浏览器是有一些取消请求的机制的。因此，在后发出请求之前，我们也可以主动将前置的请求给cancel掉。 浏览器推出的abortcontroller可以使我们更好的来控制好网络请求。 https://developer.mozilla.org/zh-cn/docs/web/api/abortcontroller\n\n\n# rxjs\n\nswitchmap\n\n\n# redux saga\n\nredux saga提供了 takelatest辅助函数来协助我们去处理副作用中的race condition\n\n\n# ahooks\n\nuserequest\n\n\n# 思考\n\n节流能否解决这个问题？",charsets:{cjk:!0},lastUpdated:"2024/07/04, 15:39:53",lastUpdatedTimestamp:1720078793e3},{title:"如何证明你是你？",frontmatter:{title:"如何证明你是你？",date:"2024-08-07T22:18:12.000Z",permalink:"/blog/2024/how-to-verify-you-is-you",sidebar:"auto",categories:["JavaScript"],tags:["JavaScript"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/blog/24.2024/04.how-to-verify-you-is-you.html",relativePath:"blog/24.2024/04.how-to-verify-you-is-you.md",key:"v-9c6fe26a",path:"/blog/2024/how-to-verify-you-is-you/",headersStr:null,content:"如何证明你就是你？\n\n在现实生活中，由于每个人的外貌、习惯都有一定的特征，我们在生活中只要认识了某个人，在短期内都是可以通过这些外在特征来判断出你就是你。\n\n而在互联网中，由于每个人不会面对面，我们都在网线和屏幕的面前，所以如果对方询问你，你如何证明你就是你自己，你该如何证明呢？\n\n这个问题让我想到了比特币的作者中本聪，自从中本聪最后一次发声，至今都没有再出现过。不少出来号称自己是中本聪的人最终都无法证明自己就是中本聪，原因很简单，比特币有一个创始区块，中本聪拥有比特币的第一个账户，这个账户是公开的，任何人都可以往这个地址转钱。但是私钥只在中本聪手上，所以如果中本聪要证明自己是中本聪，那么很简单的一个方法就是他可以先宣称自己往某个地址转账一笔，然后去操作这笔交易，就可以实现对自己身份的证明。\n\n这种基于非对称加密的手段是否能用于非区块链场景的身份证明呢？\n\n假设我现在在互联网宣称我是“RainOnPiano”,并且公开出我的公钥以及“RainOnPiano”使用私钥进行加密后的字符串X。这个X自然可以使用公钥解密出来。那么如何使用这个公钥和私钥来证明我的身份呢？\n\n假设屏幕前面的你想要确认我是谁，你可以发一个字符串给我，让我使用我的私钥进行加密，然后你可以使用我之前提供的公钥解密，看是否能验证通过。但其实这个中间，存在一个可能被社会工程学攻击的场景：假设你是一个黑客，你通过上述方法拿到了我私钥关于A这个字符串的加密结果，此时如果另一个人也拿着A来问你加密后的结果，那么你就自然可以验证通过。所以，针对这个场景我们就需要对A这个字符的复杂度有一定要求，我的一个想法是可以用对方的ID + 随机码结合的一个challenge来进行加密。\n\n这个和区块链场景的一个差别是，区块链转账是有一个明确的时间属性的，也就是说，我声称我要转账的时间一定要比我转账的时间要早才能证明我对这个账户是有控制权的。但我们的场景因为密文中无法知道我们加密的时间，所以无法使用这一特性来完成验证。\n\n我又想到了双端加密的场景，A和B在互联网上相互“握手”。A使用自己的username + 随机字符R，使用B的公钥加密并发送给B，B解密后，使用自己的username + 随机字符R并使用A的公钥加密,发送给A。对于B来说，如果A能解密，那么对方就是A，对于A来说，如果B能解密并拿到R，那么对方就是B。\n\n所以，其实私钥的拥有权就可以证明身份，我如果想证明自己的身份。其实只需要每次在最后加上我使用私钥签名的字符串是不是就可以？例如我想要证明这篇文章是我发的，我就将日期的时间戳加上文章的标题签名即可。\n\n最后一点感想，虽然现在passkey验证、区块链这种应用都很多，但是底层仍然是非对称加密这种上世纪70年代的产物，不过也正式其几十年都没有变动，才会使得上层使用非常稳固放心。感谢这些密码学的先驱们。",normalizedContent:"如何证明你就是你？\n\n在现实生活中，由于每个人的外貌、习惯都有一定的特征，我们在生活中只要认识了某个人，在短期内都是可以通过这些外在特征来判断出你就是你。\n\n而在互联网中，由于每个人不会面对面，我们都在网线和屏幕的面前，所以如果对方询问你，你如何证明你就是你自己，你该如何证明呢？\n\n这个问题让我想到了比特币的作者中本聪，自从中本聪最后一次发声，至今都没有再出现过。不少出来号称自己是中本聪的人最终都无法证明自己就是中本聪，原因很简单，比特币有一个创始区块，中本聪拥有比特币的第一个账户，这个账户是公开的，任何人都可以往这个地址转钱。但是私钥只在中本聪手上，所以如果中本聪要证明自己是中本聪，那么很简单的一个方法就是他可以先宣称自己往某个地址转账一笔，然后去操作这笔交易，就可以实现对自己身份的证明。\n\n这种基于非对称加密的手段是否能用于非区块链场景的身份证明呢？\n\n假设我现在在互联网宣称我是“rainonpiano”,并且公开出我的公钥以及“rainonpiano”使用私钥进行加密后的字符串x。这个x自然可以使用公钥解密出来。那么如何使用这个公钥和私钥来证明我的身份呢？\n\n假设屏幕前面的你想要确认我是谁，你可以发一个字符串给我，让我使用我的私钥进行加密，然后你可以使用我之前提供的公钥解密，看是否能验证通过。但其实这个中间，存在一个可能被社会工程学攻击的场景：假设你是一个黑客，你通过上述方法拿到了我私钥关于a这个字符串的加密结果，此时如果另一个人也拿着a来问你加密后的结果，那么你就自然可以验证通过。所以，针对这个场景我们就需要对a这个字符的复杂度有一定要求，我的一个想法是可以用对方的id + 随机码结合的一个challenge来进行加密。\n\n这个和区块链场景的一个差别是，区块链转账是有一个明确的时间属性的，也就是说，我声称我要转账的时间一定要比我转账的时间要早才能证明我对这个账户是有控制权的。但我们的场景因为密文中无法知道我们加密的时间，所以无法使用这一特性来完成验证。\n\n我又想到了双端加密的场景，a和b在互联网上相互“握手”。a使用自己的username + 随机字符r，使用b的公钥加密并发送给b，b解密后，使用自己的username + 随机字符r并使用a的公钥加密,发送给a。对于b来说，如果a能解密，那么对方就是a，对于a来说，如果b能解密并拿到r，那么对方就是b。\n\n所以，其实私钥的拥有权就可以证明身份，我如果想证明自己的身份。其实只需要每次在最后加上我使用私钥签名的字符串是不是就可以？例如我想要证明这篇文章是我发的，我就将日期的时间戳加上文章的标题签名即可。\n\n最后一点感想，虽然现在passkey验证、区块链这种应用都很多，但是底层仍然是非对称加密这种上世纪70年代的产物，不过也正式其几十年都没有变动，才会使得上层使用非常稳固放心。感谢这些密码学的先驱们。",charsets:{cjk:!0},lastUpdated:"2024/08/07, 22:20:14",lastUpdatedTimestamp:1723040414e3},{title:"review-of-linear-algrebra",frontmatter:{title:"review-of-linear-algrebra",date:"2023-07-19T22:53:58.000Z",permalink:"/computer-graphics/games-101/review-of-linear-algrebra",categories:["3D","GAMES","GAMS-101"],tags:[null],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/computer-graphics/00.GAMES-101/01.review-of-linear-algrebra.html",relativePath:"computer-graphics/00.GAMES-101/01.review-of-linear-algrebra.md",key:"v-2bd19845",path:"/computer-graphics/games-101/review-of-linear-algrebra/",headersStr:null,content:"向量的点乘\n\n 1. 计算夹角\n 2. A向量投影到B向量 （projection）",normalizedContent:"向量的点乘\n\n 1. 计算夹角\n 2. a向量投影到b向量 （projection）",charsets:{cjk:!0},lastUpdated:"2024/06/12, 12:07:39",lastUpdatedTimestamp:1718165259e3},{title:"Computer-Graphics",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"computer-graphics",description:"计算机图形学相关"}},title:"Computer-Graphics",date:"2024-01-04T17:49:22.000Z",permalink:"/computer-graphics",article:!1,comment:!1,editLink:!1,author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/computer-science/00.computer-graphics.html",relativePath:"computer-science/00.computer-graphics.md",key:"v-0f46c125",path:"/computer-graphics/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/06/12, 12:07:39",lastUpdatedTimestamp:1718165259e3},{title:"01.各种碎片【待归档】🧩",frontmatter:{title:"01.各种碎片【待归档】🧩",date:"2023-07-31T12:14:52.000Z",permalink:"/inbox/fragment",categories:["inbox"],tags:["inbox"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/inbox/01.%E5%90%84%E7%A7%8D%E7%A2%8E%E7%89%87.html",relativePath:"inbox/01.各种碎片.md",key:"v-34fec19c",path:"/inbox/fragment/",headers:[{level:2,title:"DNS的记录类型",slug:"dns的记录类型",normalizedTitle:"dns的记录类型",charIndex:2},{level:2,title:"反向代理和正向代理",slug:"反向代理和正向代理",normalizedTitle:"反向代理和正向代理",charIndex:335}],headersStr:"DNS的记录类型 反向代理和正向代理",content:"# DNS的记录类型\n\n 1. A 映射到 IPv4\n 2. AAAA 映射到 IPv6\n 3. CNAME 指向另一个域名\n 4. MX 邮件服务器记录\n 5. NS 指示DNS权威服务器\n 6. TXT 存储文本一般用于验证\n\nNS记录我们一般域名是没有配置的，但是实际上都是有的，例如我将我的域名DNS从阿里云迁移到Cloudflare上，我理解就是改变了这个域名的NS记录。另外，如果我们的子域名需要有自己的DNS解析服务器的话，那么也可以通过修改NS来实现。\n\naliyun dns上面有显性URL和隐性URL，其中，显性URL是302跳转，而隐性URL则感觉是反向代理了，所以隐性URL是需要备案的。\n\ncloudflare是没有这两种解析方式的。\n\n\n# 反向代理和正向代理\n\n感觉经常把反向代理和正向代理给搞混淆。\n\n从理论上来说：\n\n反向代理，从A请求C，但是不想让别人知道他要请求C，所以在B上面做一个反向代理，A请求B，把真实的服务端给隐藏了。\n\n正向代理，从C请求A，但是不想让别人知道是C请求的，所以要在B上面搞一个正向代理，C请求B，把真实的客户端给隐藏了。\n\n但是，对于B来说，都是把流量进行转发，这两种有啥不一样呢？\n\n假设有多个A的服务，那么C请求A的时候需要指定需要请求哪个A，这是正向代理的特征。C是知道自己要请求谁的，很典型的例子就是我们通过代理去请求Google或者Twitter，那么我们是带着明确的目的去请求的。\n\n而对于反向代理来说，A可能压根不知道自己最终是请求的C，只有B知道。",normalizedContent:"# dns的记录类型\n\n 1. a 映射到 ipv4\n 2. aaaa 映射到 ipv6\n 3. cname 指向另一个域名\n 4. mx 邮件服务器记录\n 5. ns 指示dns权威服务器\n 6. txt 存储文本一般用于验证\n\nns记录我们一般域名是没有配置的，但是实际上都是有的，例如我将我的域名dns从阿里云迁移到cloudflare上，我理解就是改变了这个域名的ns记录。另外，如果我们的子域名需要有自己的dns解析服务器的话，那么也可以通过修改ns来实现。\n\naliyun dns上面有显性url和隐性url，其中，显性url是302跳转，而隐性url则感觉是反向代理了，所以隐性url是需要备案的。\n\ncloudflare是没有这两种解析方式的。\n\n\n# 反向代理和正向代理\n\n感觉经常把反向代理和正向代理给搞混淆。\n\n从理论上来说：\n\n反向代理，从a请求c，但是不想让别人知道他要请求c，所以在b上面做一个反向代理，a请求b，把真实的服务端给隐藏了。\n\n正向代理，从c请求a，但是不想让别人知道是c请求的，所以要在b上面搞一个正向代理，c请求b，把真实的客户端给隐藏了。\n\n但是，对于b来说，都是把流量进行转发，这两种有啥不一样呢？\n\n假设有多个a的服务，那么c请求a的时候需要指定需要请求哪个a，这是正向代理的特征。c是知道自己要请求谁的，很典型的例子就是我们通过代理去请求google或者twitter，那么我们是带着明确的目的去请求的。\n\n而对于反向代理来说，a可能压根不知道自己最终是请求的c，只有b知道。",charsets:{cjk:!0},lastUpdated:"2024/08/26, 19:21:19",lastUpdatedTimestamp:1724671279e3},{title:"首页",frontmatter:{home:!0,heroText:"青瓦淡墨",tagline:"大自然不敷颜料而五彩斑斓 朴素的文字也能传达出深邃的思考",tagline2:"青瓦，淡墨，执笔，挥毫！",title:"首页",postList:"detailed",hideRightBar:!1},regularPath:"/",relativePath:"index.md",key:"v-b12fc6c4",path:"/",headersStr:null,content:'# 本站点使用:\n\n * VuePress驱动\n * Github Pages承载\n\n<html>\n<head lang="en">\n    <style>\n        *{\n            padding: 0;\n            margin: 0;\n        }\n        canvas{\n            background: url("https://raw.githubusercontent.com/luckyscript/blog_archive/blog/yuppie/bk.png") no-repeat;\n            background-position: 50%;\n        }\n    </style>\n</head>\n<body>\n\n<canvas id="canvas"></canvas>\n\n<script>\n    var textPixel = function(){\n        var RAF = (function() {\n            return function(callback) {\n                        return window.setTimeout(callback, 1000/60);\n                    };\n        })();\n        function getRandom (a , b){\n            var num;\n            num = Math.random()*( a - b ) + b;\n            num = num + 0.5 | 0;\n            return ~~num;\n        }\n        Array.prototype.forEach = function(callback){\n            for(var i = 0 ; i< this.length; i++){\n                callback.call(this[i]);\n            }\n        }\n        var focallength = 100; //焦距\n        var init = function(getTextValue){\n            this.canvas = document.getElementById(\'canvas\'),\n                    this.ctx= canvas.getContext("2d");\n            this.canvas.width = 1000;\n            this.canvas.height = 300;\n            this.initialize(getTextValue);\n        };\n        init.prototype = {\n            initialize:function(getTextValue){\n                this.textDataArr = getTextValue;\n                this.textDataArrIndex = 0;\n                this.particleActive = 0 ;\n                this.particles = [];\n                this.fillText();\n                this.getTextData();\n                this.initDraw();\n            },\n            fillText:function(){\n                var text = this.textDataArr[this.textDataArrIndex];\n                if(text!=="" && text ){\n                    this.ctx.font = "180px 微软雅黑 bold";\n                    this.ctx.fillStyle = "reba(180,180,180,1)";\n                    this.ctx.textAlign = "center";\n                    this.ctx.textBaseline = "middle";\n                    this.ctx.fillText(text ,this.canvas.width / 2 , this.canvas.height /2);\n                }\n            },\n            getTextData:function(){\n                var textData = this.ctx.getImageData( 0 ,0 ,this.canvas.width , this.canvas.height );\n                this.ctx.clearRect(0 , 0 ,this.canvas.width , this.canvas.height);\n                this.particles = [];\n                for(var x  = 0; x < textData.width;x+=6){\n                    for(var y = 0; y < textData.height; y+=6){\n                        var i = 4*( y*textData.width + x);\n                        if(textData.data[i+3] > 126){\n                            var aPixel = new Particle( x+3 , y+3 ,this.canvas,this.ctx ,3);\n                            this.particles.push(aPixel);\n                        }\n                    }\n                }\n            },\n            initDraw:function(){\n                this.particles.forEach(function(){\n                    this.mx = ~~ ( Math.random() * this.canvas.width );\n                    this.my = ~~ ( Math.random() * this.canvas.width );\n                    this.mz = Math.random() * focallength * 2 - focallength ;\n                    this.newx = ~~ ( Math.random() * this.canvas.width );\n                    this.newy = ~~ ( Math.random() * this.canvas.width );\n                    this.newz = Math.random() * focallength * 2 - focallength;\n                    this.paint();\n                })\n            },\n            annimation:function(){\n                var that = this;\n                this.ctx.save();\n                this.ctx.globalAlpha =0.1;\n//                this.ctx.fillStyle = "#000"\n                this.ctx.globalCompositeOperation="destination-out";\n                this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n                this.ctx.restore();\n                this.particles.forEach(function () {\n                    if(that.particleActive == 0) {\n                        if (Math.abs(this.endx - this.mx) < 0.1 && Math.abs(this.endy - this.my) < 0.1 && Math.abs(this.endz - this.mz) < 0.1) {\n                            this.mx = this.endx;\n                            this.my = this.endy;\n                            this.mz = this.endz;\n                            setTimeout(function(){\n                                that.particleActive = 1;\n                            },1000)\n                        } else {\n                            this.mx = this.mx + (this.endx - this.mx) * 0.08;\n                            this.my = this.my + (this.endy - this.my) * 0.08;\n                            this.mz = this.mz + (this.endz - this.mz) * 0.08;\n                        }\n                    }else if( that.particleActive == 1 ){\n                        if (Math.abs(this.newx - this.mx) < 0.1 && Math.abs(this.newy - this.my) < 0.1 && Math.abs(this.newz - this.mz) < 0.1) {\n                            this.mx = this.newx;\n                            this.my = this.newy;\n                            this.mz = this.newz;\n                            that.particleActive = 2;\n                        } else {\n                            this.mx = this.mx + (this.newx - this.mx) * 0.08;\n                            this.my = this.my + (this.newy - this.my) * 0.08;\n                            this.mz = this.mz + (this.newz - this.mz) * 0.08;\n                        }\n                    }\n                    this.paint();\n                })\n            },\n            start:function(){\n                var that = this;\n                this.annimation();\n                if(this.particleActive != 2){\n                    RAF(function(){\n                        that.start()\n                    })\n                }\n                else{\n                    this.textDataArrIndex +=1;\n                    if(this.textDataArrIndex<=2) {\n                        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n                        this.particleActive = 0;\n                        this.fillText();\n                        this.getTextData();\n                        this.initDraw()\n                        this.annimation()\n                        that.start()\n                    }\n                }\n            }\n        }\n        var Particle = function ( x, y ,canvas ,ctx , r){\n            this.canvas = canvas;\n            this.color = getRandom(255,1)  +","+ getRandom(255,1) + "," + getRandom(255,1) + ","\n            this.ctx = ctx;\n            this.endx = x;\n            this.endy = y;\n            this.endz = 0;\n            this.mx = 0;\n            this.my = 0;\n            this.newz = 0;\n            this.newx =0;\n            this.newy =0;\n            this.newz= 0;\n            this.radius = r;\n        }\n        Particle.prototype = {\n            paint:function(){\n                this.scale = focallength / (focallength + this.mz);\n                this.ctx.beginPath();\n                this.ctx.arc(\n                        this.canvas.width / 2 + (this.mx - this.canvas.width / 2) * this.scale,\n                        this.canvas.height / 2 + (this.my - this.canvas.height / 2)* this.scale,\n                        this.radius * this.scale , 0  , 2* Math.PI\n                )\n                this.ctx.fillStyle = "rgba("+ this.color + this.scale +")";\n//                this.ctx.fillStyle = "rgba(200,200,200,"+ this.scale +")";\n                this.ctx.fill();\n            }\n        }\n        return init;\n    }();\n    var app;\n   \n    (function start(){\n        var getTextValue = function(){\n            var textArr =["你一句明天见","偷走了我","整晚的睡眠"];\n            \n            return textArr;\n        }();\n        app = new textPixel(getTextValue);\n        app.start();\n    })();\n<\/script>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n\n\n',normalizedContent:'# 本站点使用:\n\n * vuepress驱动\n * github pages承载\n\n<html>\n<head lang="en">\n    <style>\n        *{\n            padding: 0;\n            margin: 0;\n        }\n        canvas{\n            background: url("https://raw.githubusercontent.com/luckyscript/blog_archive/blog/yuppie/bk.png") no-repeat;\n            background-position: 50%;\n        }\n    </style>\n</head>\n<body>\n\n<canvas id="canvas"></canvas>\n\n<script>\n    var textpixel = function(){\n        var raf = (function() {\n            return function(callback) {\n                        return window.settimeout(callback, 1000/60);\n                    };\n        })();\n        function getrandom (a , b){\n            var num;\n            num = math.random()*( a - b ) + b;\n            num = num + 0.5 | 0;\n            return ~~num;\n        }\n        array.prototype.foreach = function(callback){\n            for(var i = 0 ; i< this.length; i++){\n                callback.call(this[i]);\n            }\n        }\n        var focallength = 100; //焦距\n        var init = function(gettextvalue){\n            this.canvas = document.getelementbyid(\'canvas\'),\n                    this.ctx= canvas.getcontext("2d");\n            this.canvas.width = 1000;\n            this.canvas.height = 300;\n            this.initialize(gettextvalue);\n        };\n        init.prototype = {\n            initialize:function(gettextvalue){\n                this.textdataarr = gettextvalue;\n                this.textdataarrindex = 0;\n                this.particleactive = 0 ;\n                this.particles = [];\n                this.filltext();\n                this.gettextdata();\n                this.initdraw();\n            },\n            filltext:function(){\n                var text = this.textdataarr[this.textdataarrindex];\n                if(text!=="" && text ){\n                    this.ctx.font = "180px 微软雅黑 bold";\n                    this.ctx.fillstyle = "reba(180,180,180,1)";\n                    this.ctx.textalign = "center";\n                    this.ctx.textbaseline = "middle";\n                    this.ctx.filltext(text ,this.canvas.width / 2 , this.canvas.height /2);\n                }\n            },\n            gettextdata:function(){\n                var textdata = this.ctx.getimagedata( 0 ,0 ,this.canvas.width , this.canvas.height );\n                this.ctx.clearrect(0 , 0 ,this.canvas.width , this.canvas.height);\n                this.particles = [];\n                for(var x  = 0; x < textdata.width;x+=6){\n                    for(var y = 0; y < textdata.height; y+=6){\n                        var i = 4*( y*textdata.width + x);\n                        if(textdata.data[i+3] > 126){\n                            var apixel = new particle( x+3 , y+3 ,this.canvas,this.ctx ,3);\n                            this.particles.push(apixel);\n                        }\n                    }\n                }\n            },\n            initdraw:function(){\n                this.particles.foreach(function(){\n                    this.mx = ~~ ( math.random() * this.canvas.width );\n                    this.my = ~~ ( math.random() * this.canvas.width );\n                    this.mz = math.random() * focallength * 2 - focallength ;\n                    this.newx = ~~ ( math.random() * this.canvas.width );\n                    this.newy = ~~ ( math.random() * this.canvas.width );\n                    this.newz = math.random() * focallength * 2 - focallength;\n                    this.paint();\n                })\n            },\n            annimation:function(){\n                var that = this;\n                this.ctx.save();\n                this.ctx.globalalpha =0.1;\n//                this.ctx.fillstyle = "#000"\n                this.ctx.globalcompositeoperation="destination-out";\n                this.ctx.fillrect(0, 0, this.canvas.width, this.canvas.height);\n                this.ctx.restore();\n                this.particles.foreach(function () {\n                    if(that.particleactive == 0) {\n                        if (math.abs(this.endx - this.mx) < 0.1 && math.abs(this.endy - this.my) < 0.1 && math.abs(this.endz - this.mz) < 0.1) {\n                            this.mx = this.endx;\n                            this.my = this.endy;\n                            this.mz = this.endz;\n                            settimeout(function(){\n                                that.particleactive = 1;\n                            },1000)\n                        } else {\n                            this.mx = this.mx + (this.endx - this.mx) * 0.08;\n                            this.my = this.my + (this.endy - this.my) * 0.08;\n                            this.mz = this.mz + (this.endz - this.mz) * 0.08;\n                        }\n                    }else if( that.particleactive == 1 ){\n                        if (math.abs(this.newx - this.mx) < 0.1 && math.abs(this.newy - this.my) < 0.1 && math.abs(this.newz - this.mz) < 0.1) {\n                            this.mx = this.newx;\n                            this.my = this.newy;\n                            this.mz = this.newz;\n                            that.particleactive = 2;\n                        } else {\n                            this.mx = this.mx + (this.newx - this.mx) * 0.08;\n                            this.my = this.my + (this.newy - this.my) * 0.08;\n                            this.mz = this.mz + (this.newz - this.mz) * 0.08;\n                        }\n                    }\n                    this.paint();\n                })\n            },\n            start:function(){\n                var that = this;\n                this.annimation();\n                if(this.particleactive != 2){\n                    raf(function(){\n                        that.start()\n                    })\n                }\n                else{\n                    this.textdataarrindex +=1;\n                    if(this.textdataarrindex<=2) {\n                        this.ctx.clearrect(0, 0, this.canvas.width, this.canvas.height);\n                        this.particleactive = 0;\n                        this.filltext();\n                        this.gettextdata();\n                        this.initdraw()\n                        this.annimation()\n                        that.start()\n                    }\n                }\n            }\n        }\n        var particle = function ( x, y ,canvas ,ctx , r){\n            this.canvas = canvas;\n            this.color = getrandom(255,1)  +","+ getrandom(255,1) + "," + getrandom(255,1) + ","\n            this.ctx = ctx;\n            this.endx = x;\n            this.endy = y;\n            this.endz = 0;\n            this.mx = 0;\n            this.my = 0;\n            this.newz = 0;\n            this.newx =0;\n            this.newy =0;\n            this.newz= 0;\n            this.radius = r;\n        }\n        particle.prototype = {\n            paint:function(){\n                this.scale = focallength / (focallength + this.mz);\n                this.ctx.beginpath();\n                this.ctx.arc(\n                        this.canvas.width / 2 + (this.mx - this.canvas.width / 2) * this.scale,\n                        this.canvas.height / 2 + (this.my - this.canvas.height / 2)* this.scale,\n                        this.radius * this.scale , 0  , 2* math.pi\n                )\n                this.ctx.fillstyle = "rgba("+ this.color + this.scale +")";\n//                this.ctx.fillstyle = "rgba(200,200,200,"+ this.scale +")";\n                this.ctx.fill();\n            }\n        }\n        return init;\n    }();\n    var app;\n   \n    (function start(){\n        var gettextvalue = function(){\n            var textarr =["你一句明天见","偷走了我","整晚的睡眠"];\n            \n            return textarr;\n        }();\n        app = new textpixel(gettextvalue);\n        app.start();\n    })();\n<\/script>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n\n\n',charsets:{cjk:!0},lastUpdated:"2024/08/26, 19:21:19",lastUpdatedTimestamp:1724671279e3},{title:"linux中相关命令",frontmatter:{title:"linux中相关命令",date:"2024-08-04T22:50:14.000Z",permalink:"/network/linux-with-network",categories:["Network"],tags:["linux","network"],author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/network/01.linux-with-network.html",relativePath:"network/01.linux-with-network.md",key:"v-d4d869b6",path:"/network/linux-with-network/",headers:[{level:2,title:"nc 命令",slug:"nc-命令",normalizedTitle:"nc 命令",charIndex:2},{level:2,title:"ttcp命令",slug:"ttcp命令",normalizedTitle:"ttcp命令",charIndex:58}],headersStr:"nc 命令 ttcp命令",content:"# nc 命令\n\nnetcat简写，可以实现TCP、UDP的监听或者发起连接。一般都称其为网络的瑞士军刀。\n\n\n# ttcp命令",normalizedContent:"# nc 命令\n\nnetcat简写，可以实现tcp、udp的监听或者发起连接。一般都称其为网络的瑞士军刀。\n\n\n# ttcp命令",charsets:{cjk:!0},lastUpdated:"2024/08/07, 22:20:14",lastUpdatedTimestamp:1723040414e3},{title:"编程语言",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"Program-Language",description:"编程语言"}},title:"编程语言",date:"2023-12-25T13:56:22.000Z",permalink:"/pages/program-language",article:!1,comment:!1,editLink:!1,author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/pages/02.Program-Language.html",relativePath:"pages/02.Program-Language.md",key:"v-1459e065",path:"/pages/program-language/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/01/17, 20:13:33",lastUpdatedTimestamp:1705493613e3},{title:"设计模式",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"Design-Pattern",description:"设计模式"}},title:"设计模式",date:"2023-05-07T15:49:22.000Z",permalink:"/pages/design-pattern",article:!1,comment:!1,editLink:!1,author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/pages/03.Design-Pattern.html",relativePath:"pages/03.Design-Pattern.md",key:"v-c0149876",path:"/pages/design-pattern/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/01/16, 13:29:02",lastUpdatedTimestamp:1705382942e3},{title:"3D",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"3D",description:"3D"}},title:"3D",date:"2023-05-07T15:49:22.000Z",permalink:"/pages/3d",article:!1,comment:!1,editLink:!1,author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/pages/05.3D.html",relativePath:"pages/05.3D.md",key:"v-555b8c05",path:"/pages/3d/",headersStr:null,content:"3D编程索引：https://github.com/BruOp/3d_programming_references#anti-aliasing",normalizedContent:"3d编程索引：https://github.com/bruop/3d_programming_references#anti-aliasing",charsets:{cjk:!0},lastUpdated:"2024/01/17, 20:13:33",lastUpdatedTimestamp:1705493613e3},{title:"Others",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"Others",description:"Others"}},title:"Others",date:"2023-05-07T15:49:22.000Z",permalink:"/pages/others",article:!1,comment:!1,editLink:!1,author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/pages/99.Others.html",relativePath:"pages/99.Others.md",key:"v-307c9236",path:"/pages/others/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/05/10, 11:14:30",lastUpdatedTimestamp:171531087e4},{title:"FrontEnd Development",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"FE",description:"前端相关知识"}},title:"FrontEnd Development",date:"2024-01-04T17:49:22.000Z",permalink:"/fe",article:!1,comment:!1,editLink:!1,author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/professional-knowledge/00.FE.html",relativePath:"professional-knowledge/00.FE.md",key:"v-575c5965",path:"/fe/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/06/12, 12:07:39",lastUpdatedTimestamp:1718165259e3},{title:"Cloud Native Development",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"Cloud-Native",description:"云原生相关知识"}},title:"Cloud Native Development",date:"2024-01-04T17:49:22.000Z",permalink:"/cloud-native",article:!1,comment:!1,editLink:!1,author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/professional-knowledge/01.cloud-native.html",relativePath:"professional-knowledge/01.cloud-native.md",key:"v-97e49772",path:"/cloud-native/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/06/12, 12:07:39",lastUpdatedTimestamp:1718165259e3},{title:"Artificial Intelligence",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"AI",description:"人工智能"}},title:"Artificial Intelligence",date:"2023-12-25T13:56:22.000Z",permalink:"/ai",article:!1,comment:!1,editLink:!1,author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/professional-knowledge/02.AI.html",relativePath:"professional-knowledge/02.AI.md",key:"v-2fbf65d7",path:"/ai/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/06/12, 12:07:39",lastUpdatedTimestamp:1718165259e3},{title:"Rust",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"Rust",description:"Rust相关知识"}},title:"Rust",date:"2024-01-04T17:49:22.000Z",permalink:"/programming-language/rust",article:!1,comment:!1,editLink:!1,author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/programming-language/00.Rust.html",relativePath:"programming-language/00.Rust.md",key:"v-4a92beb3",path:"/programming-language/rust/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/05/27, 15:16:02",lastUpdatedTimestamp:1716794162e3},{title:"JavaScript",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"JavaScript",description:"JavaScript相关知识"}},title:"JavaScript",date:"2024-01-04T17:49:22.000Z",permalink:"/programming-language/javascript",article:!1,comment:!1,editLink:!1,author:{name:"luckyscript",link:"https://github.com/luckyscript"}},regularPath:"/programming-language/01.JavaScript.html",relativePath:"programming-language/01.JavaScript.md",key:"v-1dfc763a",path:"/programming-language/javascript/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/05/27, 15:16:02",lastUpdatedTimestamp:1716794162e3}],themeConfig:{nav:[{text:"Life",link:"https://rainonpiano.com"},{text:"Blog",link:"/blog/"},{text:"Computer Science",items:[{text:"Computer Graphics",link:"/computer-graphics/"}]},{text:"Programming",items:[{text:"Programming Language",items:[{text:"Rust",link:"/programming-language/rust/"},{text:"JavaScript",link:"/programming-language/javascript/"},{text:"C++",link:"/programming-language/cpp/"}]},{text:"Professional Knowledge",items:[{text:"FrontEnd Development",link:"/fe/"},{text:"Cloud Native Development",link:"/cloud-native/"},{text:"Artificial Intelligence",link:"/ai/"}]},{text:"Software",items:[{text:"Video Clip",link:"/software/video-clip/"},{text:"MicroSoft VSCode",link:"/software/vscode/"}]}]},{text:"Programming Contest",link:"/leetcode/",items:[{text:"Leetcode",link:"/leetcode/"}]},{text:"Reading Notes",items:[{text:"设计模式",link:"/pages/design-pattern/"},{text:"Leetcode",link:"/leetcode/"},{text:"其他",link:"/pages/others/"}]},{text:"Others",items:[{text:"Design Pattern",link:"/pages/design-pattern/"},{text:"Others",link:"/pages/others/"}]},{text:"Archives",link:"/archives/",items:[{text:"Categories",link:"/categories/"},{text:"Tags",link:"/tags/"},{text:"Archives",link:"/archives/"}]}],sidebarDepth:2,searchMaxSuggestions:10,lastUpdated:"Last Updated",docsDir:"docs",docsBranch:"main",editLinks:!1,editLinkText:"编辑",contentBgStyle:1,sidebar:{"/AI/":[["00.Links.md","Links","/ai/llm/links"],["02.geektime-ai-course.md","AI大模型之美","/ai/geektime-ai-course"]],catalogue:{Leetcode:"/leetcode","computer-graphics":"/computer-graphics","Program-Language":"/pages/program-language","Design-Pattern":"/pages/design-pattern","3D":"/pages/3d",Others:"/pages/others",FE:"/fe","cloud-native":"/cloud-native",AI:"/ai",Rust:"/programming-language/rust",JavaScript:"/programming-language/javascript"},"/Cloud-Native/":[{title:"Docker",collapsable:!0,children:[["00.Docker/01.env-config.md","环境配置","/cloud-native/env-config"]]},{title:"K8S",collapsable:!0,children:[["02.K8S/02.K8S常用技巧.md","K8S常用技巧","/cloud-native/k8s"]]}],"/DB/":[{title:"MySql",collapsable:!0,children:[["00.MySql/01. 软删除+唯一索引遇到的坑.md","软删除+唯一索引遇到的坑","/db/mysql/soft-delete-and-unique-index"]]}],"/Design-Pattern/":[["01.设计模式之美.md","设计模式之美","/pages/design-pattern/设计模式之美"],["02.前端与设计模式.md","前端与设计模式","/pages/design-pattern/前端与设计模式"],["03.依赖反转.md","依赖反转","/pages/design-pattern/依赖反转"]],"/FE/":[{title:"Nodejs",collapsable:!0,children:[["01.Nodejs/01.踩坑记录.md","踩坑记录","/fe/nodejs/踩坑记录"]]},{title:"前端技术",collapsable:!0,children:[["02.前端技术/01.浏览器.md","浏览器","/fe/前端技术/浏览器"],["02.前端技术/02.JS执行.md","JS执行相关","/fe/前端技术/JS执行"]]},{title:"WebGL",collapsable:!0,children:[["03.WebGL/00.intro.md","webGL intro","/fe/3d/webgl/intro"],["03.WebGL/01.渲染流水线.md","渲染流水线","/fe/3d/webgl/渲染流水线"]]}],"/Leetcode/":[["00.linux.md","linux","/pages/leetcode/linux"],{title:"leetcode",collapsable:!0,children:[["02.leetcode/169.多数元素.md","169.多数元素","/leetcode/leetcode/162"],["02.leetcode/189.Rotate Array.md","189.Rotate Array","/leetcode/leetcode/189"],["02.leetcode/560.和为K的子数组.md","560.和为K的子数组","/leetcode/leetcode/560"],["02.leetcode/574.Number of Provinces.md","574.Number of Provinces","/leetcode/leetcode/574"]]},{title:"interview",collapsable:!0,children:[["03.interview/62.圆圈中最后的数字.md","圆圈中最后的数字","/leetcode/interview/62"]]}],"/Others/":[["01.工作技巧.md","工作技巧","/pages/others/工作技巧"],["02.shell.md","常用Shell命令","/pages/others/shell"]],"/Rust/":[["01.index.md","学习资料","/programming-language/rust/学习资料"]],"/Software/":[["00.video-clip.md","Video Clip","/software/video-clip"],{title:"vscode",collapsable:!0,children:[["01.vscode/00.vscode.md","vscode","/software/vscode"]]}],"/blog/":[{title:"2016",collapsable:!0,children:[["16.2016/00.evercookie.md","Evercookie调研小结","/blog/2016/evercookie"],["16.2016/01.tail-recursive.md","浅谈尾递归","/blog/2016/tail-recursive"],["16.2016/02.continuation-callback.md","后续传递(continuation)和回调(callback)的差别","/blog/2016/continuation-callback"],["16.2016/03.binary-search-tree.md","二叉查找树【Haskell实现】","/blog/2016/binary-search-tree"],["16.2016/04.random.md","真的只是随机吗？","/blog/2016/random"],["16.2016/05.functional-programming.md","真的只是随机吗？","/blog/2016/fp"]]},{title:"2017",collapsable:!0,children:[["17.2017/00.js-prototype.md","从Simple JavaScript Inheritance源码来谈js的原型链","/blog/2017/js-prototype"],["17.2017/01.metaball.md","Metaball算法的简易实现","/blog/2017/metaball"]]},{title:"2018",collapsable:!0,children:[["18.2018/00.co-promise.md","从co源码来看Promise","/blog/2018/co-promise"],["18.2018/01.wasm.md","WASM初体验","/blog/2018/wasm"],["18.2018/02.virtual-method-table-in-cpp.md","C++中的虚函数表","/blog/2018/virtual-method-table-in-cpp"],["18.2018/03.global-var-in-nodejs.md","Node.js中的全局变量","/blog/2018/global-var-in-nodejs"],["18.2018/04.cpp-rvalue.md","C++中的rvalue","/blog/2018/cpp-rvalue"],["18.2018/05.cpp-keyword-extern.md","C++中的extern关键字","/blog/2018/cpp-extern"]]},{title:"2019",collapsable:!0,children:[["19.2019/00.x-filter.md","X-filter","/blog/2019/x-filter"],["19.2019/01.opensuse-env-config.md","openSUSE环境配置","/blog/2020/opensuse-env-config"],["19.2019/03.blog-optimize.md","关于优化博客","/blog/2019/blog-optimize"],["19.2019/04.fe-router-deploy.md","前端路由应用部署的一些看法","/blog/2019/fe-deploy"]]},{title:"2020",collapsable:!0,children:[["20.2020/00.js-call-stack.md","浅谈JS的调用栈","/blog/2020/js-call-stack"]]},{title:"2024",collapsable:!0,children:[["24.2024/00.2023hot-FE-tech.md","2023热门前端技术","/blog/2024/2023-hot-FE-tech"],["24.2024/01.what-is-a-good-arch.md","什么样的架构是好架构","/blog/2024/what-is-a-good-arch"],["24.2024/02.absolute-security.md","是否存在绝对意义的安全？","/blog/2024/absolute-security"],["24.2024/03.race-condition-in-js.md","JavaScript中的竞态问题","/blog/2024/race-condition-in-js"],["24.2024/04.how-to-verify-you-is-you.md","如何证明你是你？","/blog/2024/how-to-verify-you-is-you"]]}],"/computer-graphics/":[{title:"GAMES-101",collapsable:!0,children:[["00.GAMES-101/01.review-of-linear-algrebra.md","review-of-linear-algrebra","/computer-graphics/games-101/review-of-linear-algrebra"]]}],"/computer-science/":[["00.computer-graphics.md","Computer-Graphics","/computer-graphics"]],"/inbox/":[["01.各种碎片.md","01.各种碎片【待归档】🧩","/inbox/fragment"]],"/network/":[["01.linux-with-network.md","linux中相关命令","/network/linux-with-network"]],"/pages/":[["02.Program-Language.md","编程语言","/pages/program-language"],["03.Design-Pattern.md","设计模式","/pages/design-pattern"],["05.3D.md","3D","/pages/3d"],["99.Others.md","Others","/pages/others"]],"/professional-knowledge/":[["00.FE.md","FrontEnd Development","/fe"],["01.cloud-native.md","Cloud Native Development","/cloud-native"],["02.AI.md","Artificial Intelligence","/ai"]],"/programming-language/":[["00.Rust.md","Rust","/programming-language/rust"],["01.JavaScript.md","JavaScript","/programming-language/javascript"]]},author:{name:"luckyscript",link:"https://github.com/luckyscript"},social:{icons:[{iconClass:"icon-youjian",title:"发邮件",link:"mailto:work.lukai@gmail.com"},{iconClass:"icon-github",title:"GitHub",link:"https://github.com/luckyscript"}]},footer:{createYear:2008,copyrightInfo:"Luckyscript"},extendFrontmatter:{author:{name:"luckyscript",link:"https://github.com/luckyscript"}},htmlModules:{}},locales:{"/":{lang:"zh-CN",title:"青瓦淡墨",description:"",path:"/"}}};var _c=t(94),wc=t(95),jc=t(11);function Sc(n){return n.sort((n,e)=>Object(jc.a)(n,e)),n}var Tc={computed:{$filterPosts(){return this.$site.pages.filter(n=>{const{frontmatter:{pageComponent:e,article:t,home:r}}=n;return!(e||!1===t||!0===r)})},$blogPosts(){return this.$site.pages.filter(n=>{const{frontmatter:{pageComponent:e,article:t,home:r}}=n;return!(e||!1===t||!0===r)}).filter(n=>n.path.startsWith("/blog"))},$sortPosts(){return(n=this.$filterPosts).sort((n,e)=>{const t=n.frontmatter.sticky,r=e.frontmatter.sticky;return t&&r?t==r?Object(jc.a)(n,e):t-r:t&&!r?-1:!t&&r?1:Object(jc.a)(n,e)}),n;var n},$sortBlogPosts(){return Sc(this.$blogPosts)},$sortPostsByDate(){return Sc(this.$filterPosts)},$groupPosts(){return function(n){const e={},t={};for(let r=0,o=n.length;r<o;r++){const{frontmatter:{categories:o,tags:a}}=n[r];"array"===Object(jc.n)(o)&&o.forEach(t=>{t&&(e[t]||(e[t]=[]),e[t].push(n[r]))}),"array"===Object(jc.n)(a)&&a.forEach(e=>{e&&(t[e]||(t[e]=[]),t[e].push(n[r]))})}return{categories:e,tags:t}}(this.$sortPosts)},$categoriesAndTags(){return function(n){const e=[],t=[];for(let t in n.categories)e.push({key:t,length:n.categories[t].length});for(let e in n.tags)t.push({key:e,length:n.tags[e].length});return{categories:e,tags:t}}(this.$groupPosts)}}};Vt.component(_c.default),Vt.component(wc.default);function Cc(n){return n.toString().padStart(2,"0")}t(244);Vt.component("Badge",()=>Promise.all([t.e(0),t.e(4)]).then(t.bind(null,414))),Vt.component("CodeBlock",()=>Promise.resolve().then(t.bind(null,94))),Vt.component("CodeGroup",()=>Promise.resolve().then(t.bind(null,95)));t(245);var Ec=[({Vue:n,options:e,router:t,siteData:r})=>{},({Vue:n,options:e,router:t,siteData:r})=>{r.pages.map(n=>{const{frontmatter:{date:e,author:t}}=n;"string"==typeof e&&"Z"===e.charAt(e.length-1)&&(n.frontmatter.date=function(n){n instanceof Date||(n=new Date(n));return`${n.getUTCFullYear()}-${Cc(n.getUTCMonth()+1)}-${Cc(n.getUTCDate())} ${Cc(n.getUTCHours())}:${Cc(n.getUTCMinutes())}:${Cc(n.getUTCSeconds())}`}(e)),t?n.author=t:r.themeConfig.author&&(n.author=r.themeConfig.author)}),n.mixin(Tc),t.beforeEach((n,e,t)=>{const r=decodeURIComponent(n.path);r!==n.path?t(Object.assign({},n,{fullPath:decodeURIComponent(n.fullPath),path:r})):t()})},{},({Vue:n})=>{n.mixin({computed:{$dataBlock(){return this.$options.__data__block__}}})},{},{}],Pc=[];class zc extends class{constructor(){this.store=new Vt({data:{state:{}}})}$get(n){return this.store.state[n]}$set(n,e){Vt.set(this.store.state,n,e)}$emit(...n){this.store.$emit(...n)}$on(...n){this.store.$on(...n)}}{}Object.assign(zc.prototype,{getPageAsyncComponent:ss,getLayoutAsyncComponent:cs,getAsyncComponent:ls,getVueComponent:us});var Oc={install(n){const e=new zc;n.$vuepress=e,n.prototype.$vuepress=e}};function Lc(n,e){const t=e.toLowerCase();return n.options.routes.some(n=>n.path.toLowerCase()===t)}var Ac={props:{pageKey:String,slotKey:{type:String,default:"default"}},render(n){const e=this.pageKey||this.$parent.$page.key;return ps("pageKey",e),Vt.component(e)||Vt.component(e,ss(e)),Vt.component(e)?n(e):n("")}},$c={functional:!0,props:{slotKey:String,required:!0},render:(n,{props:e,slots:t})=>n("div",{class:["content__"+e.slotKey]},t()[e.slotKey])},Ic={computed:{openInNewWindowTitle(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},Rc=(t(246),t(247),Object(bc.a)(Ic,(function(){var n=this._self._c;return n("span",[n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),n("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports),Dc={functional:!0,render(n,{parent:e,children:t}){if(e._isMounted)return t;e.$once("hook:mounted",()=>{e.$forceUpdate()})}};Vt.config.productionTip=!1,Vt.use(Gi),Vt.use(Oc),Vt.mixin(function(n,e,t=Vt){!function(n){n.locales&&Object.keys(n.locales).forEach(e=>{n.locales[e].path=e});Object.freeze(n)}(e),t.$vuepress.$set("siteData",e);const r=new(n(t.$vuepress.$get("siteData"))),o=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(r)),a={};return Object.keys(o).reduce((n,e)=>(e.startsWith("$")&&(n[e]=o[e].get),n),a),{computed:a}}(n=>class{setPage(n){this.__page=n}get $site(){return n}get $themeConfig(){return this.$site.themeConfig}get $frontmatter(){return this.$page.frontmatter}get $localeConfig(){const{locales:n={}}=this.$site;let e,t;for(const r in n)"/"===r?t=n[r]:0===this.$page.path.indexOf(r)&&(e=n[r]);return e||t||{}}get $siteTitle(){return this.$localeConfig.title||this.$site.title||""}get $canonicalUrl(){const{canonicalUrl:n}=this.$page.frontmatter;return"string"==typeof n&&n}get $title(){const n=this.$page,{metaTitle:e}=this.$page.frontmatter;if("string"==typeof e)return e;const t=this.$siteTitle,r=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?r?r+" | "+t:t:r||"VuePress"}get $description(){const n=function(n){if(n){const e=n.filter(n=>"description"===n.name)[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}get $lang(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}get $localePath(){return this.$localeConfig.path||"/"}get $themeLocaleConfig(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}get $page(){return this.__page?this.__page:function(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r.path.toLowerCase()===e.toLowerCase())return r}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}},kc)),Vt.component("Content",Ac),Vt.component("ContentSlotsDistributor",$c),Vt.component("OutboundLink",Rc),Vt.component("ClientOnly",Dc),Vt.component("Layout",cs("Layout")),Vt.component("NotFound",cs("NotFound")),Vt.prototype.$withBase=function(n){const e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.5",hash:"a07aae3"},async function(n){const e="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:kc.routerBase||kc.base,t=new Gi({base:e,mode:"history",fallback:!1,routes:xc,scrollBehavior:(n,e,t)=>t||(n.hash?!Vt.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})});!function(n){n.beforeEach((e,t,r)=>{if(Lc(n,e.path))r();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){const t=e.path.replace(/\/$/,"")+".html";Lc(n,t)?r(t):r()}else r();else{const t=e.path+"/",o=e.path+".html";Lc(n,o)?r(o):Lc(n,t)?r(t):r()}})}(t);const r={};try{await Promise.all(Ec.filter(n=>"function"==typeof n).map(e=>e({Vue:Vt,options:r,router:t,siteData:kc,isServer:n})))}catch(n){console.error(n)}return{app:new Vt(Object.assign(r,{router:t,render:n=>n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},Pc.map(e=>n(e)))])})),router:t}}(!1).then(({app:n,router:e})=>{e.onReady(()=>{n.$mount("#app")})})}]);