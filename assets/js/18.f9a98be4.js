(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{358:function(s,e,a){"use strict";a.r(e);var n=a(8),t=Object(n.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"node17后采用openssl-conf依赖库-导致部分旧的webpack的插件包错"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#node17后采用openssl-conf依赖库-导致部分旧的webpack的插件包错"}},[s._v("#")]),s._v(" Node17后采用OPENSSL_CONF依赖库 导致部分旧的Webpack的插件包错")]),s._v(" "),e("p",[s._v("解决方案：\n你可以通过设置环境变量来解决这个问题。在Linux或MacOS上，你可以在终端中运行以下命令：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NODE_OPTIONS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("--openssl-legacy-provider\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("或者在项目的"),e("code",[s._v("package.json")]),s._v("中来添加这个环境变量")]),s._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"NODE_OPTIONS=--openssl-legacy-provider npx webpack --mode production"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("为什么 NODE_OPTIONS=--openssl-legacy-provider && npx webpack --mode production不行 而 NODE_OPTIONS=--openssl-legacy-provider npx webpack --mode production 可以呢?")]),s._v(" "),e("p",[s._v("&& 用于连接两个命令，所以需要这样写：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("export NODE_OPTIONS=--openssl-legacy-provider && npx webpack --mode production\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("否则NODE_OPTIONS这个变量的设置不会被作为环境变量被npm读取到。")])])}),[],!1,null,null,null);e.default=t.exports}}]);